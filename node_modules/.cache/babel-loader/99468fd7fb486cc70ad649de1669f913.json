{"ast":null,"code":"import _classCallCheck from \"/Users/dudu/Desktop/CS5224-PIA/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/dudu/Desktop/CS5224-PIA/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/dudu/Desktop/CS5224-PIA/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/dudu/Desktop/CS5224-PIA/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/dudu/Desktop/CS5224-PIA/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _assertThisInitialized from \"/Users/dudu/Desktop/CS5224-PIA/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nvar _jsxFileName = \"/Users/dudu/Desktop/CS5224-PIA/src/Rank.js\";\nimport React, { Component } from 'react';\nimport { Label, FormText, Button, Container, Form, FormGroup, Input } from \"reactstrap\";\nimport ReactTable from 'react-table';\n\nvar Rank =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(Rank, _Component);\n\n  function Rank(props) {\n    var _this;\n\n    _classCallCheck(this, Rank);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Rank).call(this, props));\n    _this.state = {\n      folder_path: \"\",\n      ps_content: \"\",\n      candidate_data: []\n    };\n    _this.handleChange = _this.handleChange.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    return _this;\n  }\n\n  _createClass(Rank, [{\n    key: \"handleChange\",\n    value: function handleChange(event) {\n      var _this2 = this;\n\n      var file = event.target.files[0];\n\n      if (!file) {\n        return;\n      }\n\n      var reader = new FileReader(); // Asynchronous function\n\n      reader.onloadend = function () {\n        var content = reader.result; // console.log(content)\n\n        _this2.setState({\n          ps_content: content\n        }); // Upload formdata to api\n\n\n        var url = 'http://personality-insights.shahabqamar.com/api/';\n        var form = new FormData();\n        form.append('raw-text-content', content); // console.log(form)\n\n        fetch(url, {\n          method: 'POST',\n          body: form\n        }).then(function (response) {\n          return response.json();\n        }).then(function (data) {\n          // add more content here\n          console.log(data);\n          var temp_data = this.state.candidate_data;\n          temp_data.push({\n            openness: data[\"personality\"][0][\"percentile\"],\n            conscientiousness: data[\"personality\"][1][\"percentile\"],\n            extraversion: data[\"personality\"][2][\"percentile\"],\n            agreeableness: data[\"personality\"][3][\"percentile\"],\n            neuroticism: data[\"personality\"][4][\"percentile\"]\n          });\n          this.setState({\n            candidate_data: temp_data\n          });\n          console.log(temp_data);\n        });\n      };\n\n      reader.readAsText(file);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 67\n        },\n        __self: this\n      }, React.createElement(Form, {\n        onSubmit: this.handleSubmit,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 68\n        },\n        __self: this\n      }, React.createElement(FormGroup, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 69\n        },\n        __self: this\n      }, React.createElement(Label, {\n        for: \"folder-path\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 70\n        },\n        __self: this\n      }, \"Please choose folder which contains all the Personal Statements\"), React.createElement(Input, {\n        type: \"file\",\n        accept: \".txt\",\n        id: \"folder-path\",\n        onChange: this.handleChange,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 71\n        },\n        __self: this\n      })), React.createElement(Button, {\n        type: \"submit\",\n        size: \"lg\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 74\n        },\n        __self: this\n      }, \"Analyse\")), React.createElement(ReactTable, {\n        columns: [{\n          Header: \"First Name\",\n          accessor: \"firstName\"\n        }, {\n          Header: \"Last Name\",\n          id: \"lastName\",\n          accessor: function accessor(d) {\n            return d.lastName;\n          }\n        }, {\n          Header: \"Age\",\n          accessor: \"age\"\n        }],\n        defaultPageSize: 10,\n        className: \"-striped -highlight\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 81\n        },\n        __self: this\n      }));\n    }\n  }]);\n\n  return Rank;\n}(Component);\n\nexport default Rank;","map":{"version":3,"sources":["/Users/dudu/Desktop/CS5224-PIA/src/Rank.js"],"names":["React","Component","Label","FormText","Button","Container","Form","FormGroup","Input","ReactTable","Rank","props","state","folder_path","ps_content","candidate_data","handleChange","bind","event","file","target","files","reader","FileReader","onloadend","content","result","setState","url","form","FormData","append","fetch","method","body","then","response","json","data","console","log","temp_data","push","openness","conscientiousness","extraversion","agreeableness","neuroticism","readAsText","handleSubmit","Header","accessor","id","d","lastName"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport { Label, FormText, Button, Container, Form, FormGroup, Input} from \"reactstrap\";\nimport ReactTable from 'react-table'\n\nclass Rank extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      folder_path: \"\",\n      ps_content: \"\",\n      candidate_data: []\n    };\n    this.handleChange = this.handleChange.bind(this);\n  }\n\n\n\thandleChange(event) {\n        const file = event.target.files[0];\n        if (!file) {\n            return;\n        }\n\n        const reader = new FileReader();\n        // Asynchronous function\n        reader.onloadend = () => {\n        \tconst content = reader.result;\n        \t// console.log(content)\n        \tthis.setState({ps_content: content});\n\n\n\t\t\t// Upload formdata to api\n\t        const url = 'http://personality-insights.shahabqamar.com/api/';\n\t        const form = new FormData();\n\t        form.append('raw-text-content', content);\n\t        // console.log(form)\n\n\t        fetch(url, {\n\t            method: 'POST',\n\t            body: form\n\t        })\n\t        .then(function(response) {\n\t\t        return response.json();\n\t\t        })\n\t        .then(\n\t\t        function(data) {\n\t        \t  // add more content here\n\t\t          console.log(data);\n\t\t          let temp_data = this.state.candidate_data;\n\t\t          temp_data.push({\n\t\t\t\t\t    openness: data[\"personality\"][0][\"percentile\"],\n\t\t\t\t\t    conscientiousness: data[\"personality\"][1][\"percentile\"],\n\t\t\t\t\t    extraversion: data[\"personality\"][2][\"percentile\"],\n\t\t\t\t\t    agreeableness: data[\"personality\"][3][\"percentile\"],\n\t\t\t\t\t    neuroticism: data[\"personality\"][4][\"percentile\"]\n\t\t\t\t\t});\n\t\t          this.setState({candidate_data: temp_data});\n\t          \t  console.log(temp_data);\n\t\t        }\n      \t\t)\n        }\n        reader.readAsText(file);\n\t}\n\n\n\trender() {\n\t\treturn (\n\t\t  <div>\n\t\t\t<Form onSubmit={this.handleSubmit}>\n\t\t\t    <FormGroup>\n\t\t\t      <Label for=\"folder-path\">Please choose folder which contains all the Personal Statements</Label>\n\t\t\t      <Input type=\"file\" accept=\".txt\" id=\"folder-path\" onChange={this.handleChange}/> \n\t\t\t    </FormGroup>\n\n\t\t\t    <Button\n\t\t\t      type=\"submit\"\n\t\t\t      size=\"lg\">\n\t\t\t      Analyse\n\t\t\t    </Button>\n\t\t\t</Form>\n\n\t        <ReactTable\n\t\t\t\tcolumns={[\n\t\t\t\t{\n\t\t\t\t  Header: \"First Name\",\n\t\t\t\t  accessor: \"firstName\"\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t  Header: \"Last Name\",\n\t\t\t\t  id: \"lastName\",\n\t\t\t\t  accessor: d => d.lastName\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t  Header: \"Age\",\n\t\t\t\t  accessor: \"age\"\n\t\t\t\t}\n\t\t\t\t]}\n\n\t\t\t\tdefaultPageSize={10}\n\t\t\t\tclassName=\"-striped -highlight\"\n\t\t\t/>\n\n\t\t  </div>\n\t\t);\n\t}\n}\n\nexport default Rank;\n"]},"metadata":{},"sourceType":"module"}