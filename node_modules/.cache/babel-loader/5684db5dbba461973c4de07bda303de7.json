{"ast":null,"code":"import _classCallCheck from \"/Users/dudu/Desktop/CS5224-PIA/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/dudu/Desktop/CS5224-PIA/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/dudu/Desktop/CS5224-PIA/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/dudu/Desktop/CS5224-PIA/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/dudu/Desktop/CS5224-PIA/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _assertThisInitialized from \"/Users/dudu/Desktop/CS5224-PIA/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nvar _jsxFileName = \"/Users/dudu/Desktop/CS5224-PIA/src/Rank.js\";\nimport React, { Component } from 'react';\nimport { Label, Button, Container, Form, FormGroup, Input } from \"reactstrap\";\nimport ReactTable from 'react-table';\nimport \"react-table/react-table.css\";\nimport { Progress } from 'reactstrap';\nimport { Row, Col } from 'reactstrap';\n\nvar Rank =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(Rank, _Component);\n\n  function Rank(props) {\n    var _this;\n\n    _classCallCheck(this, Rank);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Rank).call(this, props));\n    _this.state = {\n      folder_path: \"\",\n      ps_content: \"\",\n      candidate_data: [],\n      upload_progress: 0\n    };\n    _this.handleChange = _this.handleChange.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    return _this;\n  }\n\n  _createClass(Rank, [{\n    key: \"handleChange\",\n    value: function handleChange(event) {\n      var _this2 = this;\n\n      this.setState({\n        upload_progress: 0\n      });\n      this.myspan.textContent = event.target.files.length + \" files selected\";\n\n      var _loop = function _loop() {\n        _this2.setState({\n          upload_progress: i * 100 / event.target.files.length\n        });\n\n        console.log(i * 100 / event.target.files.length);\n        var file = event.target.files[i];\n\n        if (!file) {\n          return {\n            v: void 0\n          };\n        }\n\n        var reader = new FileReader(); // Asynchronous function\n\n        reader.onloadend = function () {\n          var content = reader.result; // console.log(content)\n\n          _this2.setState({\n            ps_content: content\n          }); // Upload formdata to api\n\n\n          var url = 'http://personality-insights.shahabqamar.com/api/';\n          var form = new FormData();\n          form.append('raw-text-content', content); // console.log(form)\n\n          var self = _this2;\n          fetch(url, {\n            method: 'POST',\n            body: form\n          }).then(function (response) {\n            return response.json();\n          }).then(function (data) {\n            // add more content here\n            console.log(data);\n            var temp_data = {\n              name: file.name.replace(\".txt\", ''),\n              openness: parseFloat(Math.round(data[\"personality\"][0][\"percentile\"] * 100) / 100).toFixed(2),\n              conscientiousness: parseFloat(Math.round(data[\"personality\"][1][\"percentile\"] * 100) / 100).toFixed(2),\n              extraversion: parseFloat(Math.round(data[\"personality\"][2][\"percentile\"] * 100) / 100).toFixed(2),\n              agreeableness: parseFloat(Math.round(data[\"personality\"][3][\"percentile\"] * 100) / 100).toFixed(2),\n              neuroticism: parseFloat(Math.round(data[\"personality\"][4][\"percentile\"] * 100) / 100).toFixed(2)\n            };\n            console.log(temp_data); // append to candidate_data\n\n            var newArr = self.state.candidate_data;\n            newArr.push(temp_data);\n            self.setState({\n              candidate_data: newArr\n            });\n            console.log(self.state.candidate_data);\n          });\n        };\n\n        reader.readAsText(file);\n      };\n\n      for (var i = 0; i < event.target.files.length; i++) {\n        var _ret = _loop();\n\n        if (typeof _ret === \"object\") return _ret.v;\n      }\n\n      this.setState({\n        upload_progress: 100\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this3 = this;\n\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 85\n        },\n        __self: this\n      }, React.createElement(Container, {\n        className: \"choose-file\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 86\n        },\n        __self: this\n      }, React.createElement(Form, {\n        onSubmit: this.handleSubmit,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 87\n        },\n        __self: this\n      }, React.createElement(FormGroup, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 88\n        },\n        __self: this\n      }, React.createElement(\"h1\", {\n        \"page-heading\": true,\n        \"text-center\": true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 89\n        },\n        __self: this\n      }, \"Please select multiple Personal Statements (PS) or Cover Letter (CL) to be uploaded and ranked\"), React.createElement(Container, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 90\n        },\n        __self: this\n      }, React.createElement(Input, {\n        onChange: this.handleChange,\n        type: \"file\",\n        accept: \".txt\",\n        id: \"file-1\",\n        className: \"inputfile inputfile-1\",\n        \"data-multiple-caption\": \"{count} files selected\",\n        multiple: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 91\n        },\n        __self: this\n      }), React.createElement(Label, {\n        for: \"file-1\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 92\n        },\n        __self: this\n      }, React.createElement(\"svg\", {\n        xmlns: \"http://www.w3.org/2000/svg\",\n        width: \"20\",\n        height: \"17\",\n        viewBox: \"0 0 20 17\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 93\n        },\n        __self: this\n      }, React.createElement(\"path\", {\n        d: \"M10 0l-5.2 4.9h3.3v5.1h3.8v-5.1h3.3l-5.2-4.9zm9.3 11.5l-3.2-2.1h-2l3.4 2.6h-3.5c-.1 0-.2.1-.2.1l-.8 2.3h-6l-.8-2.2c-.1-.1-.1-.2-.2-.2h-3.6l3.4-2.6h-2l-3.2 2.1c-.4.3-.7 1-.6 1.5l.6 3.1c.1.5.7.9 1.2.9h16.3c.6 0 1.1-.4 1.3-.9l.6-3.1c.1-.5-.2-1.2-.7-1.5z\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 94\n        },\n        __self: this\n      })), React.createElement(\"span\", {\n        ref: function ref(span) {\n          return _this3.myspan = span;\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 96\n        },\n        __self: this\n      }, \"Choose files\\u2026\"))))), React.createElement(Progress, {\n        value: this.state.upload_progress,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 101\n        },\n        __self: this\n      })), React.createElement(Container, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 103\n        },\n        __self: this\n      }, React.createElement(Row, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 104\n        },\n        __self: this\n      }, React.createElement(Col, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 105\n        },\n        __self: this\n      }, React.createElement(Label, {\n        for: \"exampleSelect\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 106\n        },\n        __self: this\n      }, \"Openness\"), React.createElement(Input, {\n        type: \"select\",\n        name: \"select\",\n        id: \"openness-select\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 107\n        },\n        __self: this\n      }, React.createElement(\"option\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 108\n        },\n        __self: this\n      }, \"1\"), React.createElement(\"option\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 109\n        },\n        __self: this\n      }, \"2\"), React.createElement(\"option\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 110\n        },\n        __self: this\n      }, \"3\"), React.createElement(\"option\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 111\n        },\n        __self: this\n      }, \"4\"), React.createElement(\"option\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 112\n        },\n        __self: this\n      }, \"5\"))), React.createElement(Col, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 115\n        },\n        __self: this\n      }, React.createElement(Label, {\n        for: \"exampleSelect\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 116\n        },\n        __self: this\n      }, \"Conscientiousness\"), React.createElement(Input, {\n        type: \"select\",\n        name: \"select\",\n        id: \"conscientiousness-select\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 117\n        },\n        __self: this\n      }, React.createElement(\"option\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 118\n        },\n        __self: this\n      }, \"1\"), React.createElement(\"option\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 119\n        },\n        __self: this\n      }, \"2\"), React.createElement(\"option\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 120\n        },\n        __self: this\n      }, \"3\"), React.createElement(\"option\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 121\n        },\n        __self: this\n      }, \"4\"), React.createElement(\"option\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 122\n        },\n        __self: this\n      }, \"5\"))), React.createElement(Col, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 125\n        },\n        __self: this\n      }, React.createElement(Label, {\n        for: \"exampleSelect\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 126\n        },\n        __self: this\n      }, \"Extraversion\"), React.createElement(Input, {\n        type: \"select\",\n        name: \"select\",\n        id: \"extraversion-select\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 127\n        },\n        __self: this\n      }, React.createElement(\"option\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 128\n        },\n        __self: this\n      }, \"1\"), React.createElement(\"option\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 129\n        },\n        __self: this\n      }, \"2\"), React.createElement(\"option\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 130\n        },\n        __self: this\n      }, \"3\"), React.createElement(\"option\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 131\n        },\n        __self: this\n      }, \"4\"), React.createElement(\"option\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 132\n        },\n        __self: this\n      }, \"5\"))), React.createElement(Col, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 135\n        },\n        __self: this\n      }, React.createElement(Label, {\n        for: \"exampleSelect\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 136\n        },\n        __self: this\n      }, \"Agreeableness\"), React.createElement(Input, {\n        type: \"select\",\n        name: \"select\",\n        id: \"agreeableness-select\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 137\n        },\n        __self: this\n      }, React.createElement(\"option\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 138\n        },\n        __self: this\n      }, \"1\"), React.createElement(\"option\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 139\n        },\n        __self: this\n      }, \"2\"), React.createElement(\"option\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 140\n        },\n        __self: this\n      }, \"3\"), React.createElement(\"option\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 141\n        },\n        __self: this\n      }, \"4\"), React.createElement(\"option\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 142\n        },\n        __self: this\n      }, \"5\"))), React.createElement(Col, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 145\n        },\n        __self: this\n      }, React.createElement(Label, {\n        for: \"exampleSelect\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 146\n        },\n        __self: this\n      }, \"Emotional Range\"), React.createElement(Input, {\n        type: \"select\",\n        name: \"select\",\n        id: \"emotional-range-select\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 147\n        },\n        __self: this\n      }, React.createElement(\"option\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 148\n        },\n        __self: this\n      }, \"1\"), React.createElement(\"option\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 149\n        },\n        __self: this\n      }, \"2\"), React.createElement(\"option\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 150\n        },\n        __self: this\n      }, \"3\"), React.createElement(\"option\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 151\n        },\n        __self: this\n      }, \"4\"), React.createElement(\"option\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 152\n        },\n        __self: this\n      }, \"5\"))))), React.createElement(Container, {\n        className: \"rank-table\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 159\n        },\n        __self: this\n      }, React.createElement(ReactTable, {\n        columns: [{\n          Header: \"Name\",\n          accessor: \"name\"\n        }, {\n          Header: \"Openness\",\n          accessor: \"openness\"\n        }, {\n          Header: \"Conscientiousness\",\n          accessor: \"conscientiousness\"\n        }, {\n          Header: \"Extraversion\",\n          accessor: \"extraversion\"\n        }, {\n          Header: \"Agreeableness\",\n          accessor: \"agreeableness\"\n        }, {\n          Header: \"Emotional Range\",\n          accessor: \"neuroticism\"\n        }],\n        data: this.state.candidate_data,\n        defaultPageSize: 10,\n        className: \"-striped -highlight\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 160\n        },\n        __self: this\n      })));\n    }\n  }]);\n\n  return Rank;\n}(Component);\n\nexport default Rank;","map":{"version":3,"sources":["/Users/dudu/Desktop/CS5224-PIA/src/Rank.js"],"names":["React","Component","Label","Button","Container","Form","FormGroup","Input","ReactTable","Progress","Row","Col","Rank","props","state","folder_path","ps_content","candidate_data","upload_progress","handleChange","bind","event","setState","myspan","textContent","target","files","length","i","console","log","file","reader","FileReader","onloadend","content","result","url","form","FormData","append","self","fetch","method","body","then","response","json","data","temp_data","name","replace","openness","parseFloat","Math","round","toFixed","conscientiousness","extraversion","agreeableness","neuroticism","newArr","push","readAsText","handleSubmit","span","Header","accessor"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport { Label, Button, Container, Form, FormGroup, Input} from \"reactstrap\";\nimport ReactTable from 'react-table'\nimport \"react-table/react-table.css\"\nimport { Progress } from 'reactstrap';\nimport { Row, Col } from 'reactstrap';\n\nclass Rank extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      folder_path: \"\",\n      ps_content: \"\",\n      candidate_data: [],\n      upload_progress: 0\n    };\n    this.handleChange = this.handleChange.bind(this);\n  }\n\n\n\thandleChange(event) {\n\t\tthis.setState({upload_progress: 0})\n\t\tthis.myspan.textContent = event.target.files.length + \" files selected\"\n\t\tfor (var i = 0; i < event.target.files.length; i++) {\n\t\t\tthis.setState({upload_progress: i * 100 / event.target.files.length})\n\t\t\tconsole.log(i * 100 / event.target.files.length)\n\t\t\tconst file = event.target.files[i];\n\n\t        if (!file) {\n\t            return;\n\t        }\n\n\t        const reader = new FileReader();\n\t        // Asynchronous function\n\t        reader.onloadend = () => {\n\t        \tconst content = reader.result;\n\t        \t// console.log(content)\n\t        \tthis.setState({ps_content: content});\n\n\t\t\t\t// Upload formdata to api\n\t\t        const url = 'http://personality-insights.shahabqamar.com/api/';\n\t\t        const form = new FormData();\n\t\t        form.append('raw-text-content', content);\n\t\t        // console.log(form)\n\t\t        const self = this;\n\t\t        fetch(url, {\n\t\t            method: 'POST',\n\t\t            body: form\n\t\t        })\n\t\t        .then(function(response) {\n\t\t\t        return response.json();\n\t\t\t        })\n\t\t        .then(\n\t\t\t        function(data) {\n\t\t        \t  // add more content here\n\t\t\t          console.log(data);\n\t\t\t          let temp_data = {\n\t\t\t          \t\tname: file.name.replace(\".txt\",''),\n\t\t\t\t\t\t    openness: parseFloat(Math.round(data[\"personality\"][0][\"percentile\"] * 100) / 100).toFixed(2),\n\t\t\t\t\t\t    conscientiousness: parseFloat(Math.round(data[\"personality\"][1][\"percentile\"] * 100) / 100).toFixed(2),\n\t\t\t\t\t\t    extraversion: parseFloat(Math.round(data[\"personality\"][2][\"percentile\"] * 100) / 100).toFixed(2),\n\t\t\t\t\t\t    agreeableness: parseFloat(Math.round(data[\"personality\"][3][\"percentile\"] * 100) / 100).toFixed(2),\n\t\t\t\t\t\t    neuroticism: parseFloat(Math.round(data[\"personality\"][4][\"percentile\"] * 100) / 100).toFixed(2)\n\t\t\t\t\t\t};\n\n\t\t          \t  console.log(temp_data);\n\n\t\t          \t  // append to candidate_data\n\n\t          \t  \t\tvar newArr = self.state.candidate_data;\n\t          \t  \t\tnewArr.push(temp_data)\n\t\t          \t  \tself.setState({candidate_data: newArr})\n\t\t          \t  \tconsole.log(self.state.candidate_data)\n\t\t          \t  \n\t\t\t        }\n\t      \t\t)\n\t        }\n\t        reader.readAsText(file);\n\t\t}\n\t\tthis.setState({upload_progress: 100})\n\t}\n\n\trender() {\n\t\treturn (\n\t\t  <div>\n\t\t  \t<Container className=\"choose-file\">\n\t\t\t\t<Form onSubmit={this.handleSubmit}>\n\t\t\t\t    <FormGroup>\n\t\t\t\t\t\t<h1 page-heading text-center>Please select multiple Personal Statements (PS) or Cover Letter (CL) to be uploaded and ranked</h1>\n\t\t\t\t\t\t<Container>\n\t\t\t\t\t\t\t<Input onChange={this.handleChange} type=\"file\" accept=\".txt\" id=\"file-1\" className=\"inputfile inputfile-1\" data-multiple-caption=\"{count} files selected\" multiple />\n\t\t\t\t\t\t\t<Label for=\"file-1\">\n\t\t\t\t\t\t\t\t<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"20\" height=\"17\" viewBox=\"0 0 20 17\">\n\t\t\t\t\t\t\t\t\t<path d=\"M10 0l-5.2 4.9h3.3v5.1h3.8v-5.1h3.3l-5.2-4.9zm9.3 11.5l-3.2-2.1h-2l3.4 2.6h-3.5c-.1 0-.2.1-.2.1l-.8 2.3h-6l-.8-2.2c-.1-.1-.1-.2-.2-.2h-3.6l3.4-2.6h-2l-3.2 2.1c-.4.3-.7 1-.6 1.5l.6 3.1c.1.5.7.9 1.2.9h16.3c.6 0 1.1-.4 1.3-.9l.6-3.1c.1-.5-.2-1.2-.7-1.5z\"/>\n\t\t\t\t\t\t\t\t</svg> \n\t\t\t\t\t\t\t\t<span ref={(span) => this.myspan = span}>Choose files&hellip;</span>\n\t\t\t\t\t\t\t</Label>\n\t\t\t\t\t\t</Container>\n\t\t\t\t    </FormGroup>\n\t\t\t\t</Form>\n\t\t\t\t<Progress value={this.state.upload_progress} />\n\t\t\t</Container>\n\t\t\t<Container>\n\t\t        <Row>\n\t\t\t\t\t<Col>\t\t\t\t\n\t\t\t\t\t\t<Label for=\"exampleSelect\">Openness</Label>\n\t\t        \t\t<Input type=\"select\" name=\"select\" id=\"openness-select\">\n\t\t\t\t            <option>1</option>\n\t\t\t\t            <option>2</option>\n\t\t\t\t            <option>3</option>\n\t\t\t\t            <option>4</option>\n\t\t\t\t            <option>5</option>\n\t\t          \t\t</Input>\n\t          \t\t</Col>\n\t\t\t\t\t<Col>\t\t\t\t\n\t\t\t\t\t\t<Label for=\"exampleSelect\">Conscientiousness</Label>\n\t\t        \t\t<Input type=\"select\" name=\"select\" id=\"conscientiousness-select\">\n\t\t\t\t            <option>1</option>\n\t\t\t\t            <option>2</option>\n\t\t\t\t            <option>3</option>\n\t\t\t\t            <option>4</option>\n\t\t\t\t            <option>5</option>\n\t\t          \t\t</Input>\n\t          \t\t</Col>\n\t\t\t\t\t<Col>\t\t\t\t\n\t\t\t\t\t\t<Label for=\"exampleSelect\">Extraversion</Label>\n\t\t        \t\t<Input type=\"select\" name=\"select\" id=\"extraversion-select\">\n\t\t\t\t            <option>1</option>\n\t\t\t\t            <option>2</option>\n\t\t\t\t            <option>3</option>\n\t\t\t\t            <option>4</option>\n\t\t\t\t            <option>5</option>\n\t\t          \t\t</Input>\n\t          \t\t</Col>\n\t          \t\t<Col>\t\t\t\t\n\t\t\t\t\t\t<Label for=\"exampleSelect\">Agreeableness</Label>\n\t\t        \t\t<Input type=\"select\" name=\"select\" id=\"agreeableness-select\">\n\t\t\t\t            <option>1</option>\n\t\t\t\t            <option>2</option>\n\t\t\t\t            <option>3</option>\n\t\t\t\t            <option>4</option>\n\t\t\t\t            <option>5</option>\n\t\t          \t\t</Input>\n\t          \t\t</Col>\n\t          \t\t<Col>\t\t\t\t\n\t\t\t\t\t\t<Label for=\"exampleSelect\">Emotional Range</Label>\n\t\t        \t\t<Input type=\"select\" name=\"select\" id=\"emotional-range-select\">\n\t\t\t\t            <option>1</option>\n\t\t\t\t            <option>2</option>\n\t\t\t\t            <option>3</option>\n\t\t\t\t            <option>4</option>\n\t\t\t\t            <option>5</option>\n\t\t          \t\t</Input>\n\t          \t\t</Col>\n\t\t\t    </Row>\n\n\n\t\t\t</Container>\n\t\t\t<Container className=\"rank-table\">\n\t\t        <ReactTable\n\t\t\t\t\tcolumns={[\n\t\t\t\t\t{\n\t\t\t\t\t  Header: \"Name\",\n\t\t\t\t\t  accessor: \"name\"\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t  Header: \"Openness\",\n\t\t\t\t\t  accessor: \"openness\",\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t  Header: \"Conscientiousness\",\n\t\t\t\t\t  accessor: \"conscientiousness\",\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t  Header: \"Extraversion\",\n\t\t\t\t\t  accessor: \"extraversion\"\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t  Header: \"Agreeableness\",\n\t\t\t\t\t  accessor: \"agreeableness\"\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t  Header: \"Emotional Range\",\n\t\t\t\t\t  accessor: \"neuroticism\"\n\t\t\t\t\t}\n\t\t\t\t\t]}\n\t\t\t\t\tdata={this.state.candidate_data}\n\t\t\t\t\tdefaultPageSize={10}\n\t\t\t\t\tclassName=\"-striped -highlight\"\n\t\t\t\t/>\n\t\t\t</Container>\n\n\t\t  </div>\n\t\t);\n\t}\n}\n\nexport default Rank;\n"]},"metadata":{},"sourceType":"module"}