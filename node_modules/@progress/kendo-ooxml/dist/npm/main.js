'use strict';

Object.defineProperty(exports, '__esModule', { value: true });

function _interopDefault (ex) { return (ex && (typeof ex === 'object') && 'default' in ex) ? ex['default'] : ex; }

var JSZip = _interopDefault(require('jszip/dist/jszip'));

var current = {
    compile: function(template) {
        return template;
    }
};

var TemplateService = function TemplateService () {};

TemplateService.register = function register (userImplementation) {
    current = userImplementation;
};

TemplateService.compile = function compile (template) {
    return current.compile(template);
};

var FIELD_REGEX = /\[(?:(\d+)|['"](.*?)['"])\]|((?:(?!\[.*?\]|\.).)+)/g;
var getterCache = {};
var UNDEFINED = 'undefined';

getterCache[UNDEFINED] = function(obj) {
    return obj;
};

function getter(field) {
    if (getterCache[field]) {
        return getterCache[field];
    }

    var fields = [];
    field.replace(FIELD_REGEX, function(match, index, indexAccessor, field) {
        fields.push(typeof index !== UNDEFINED ? index : (indexAccessor || field));
    });

    getterCache[field] = function(obj) {
        var result = obj;
        for (var idx = 0; idx < fields.length && result; idx++) {
            result = result[fields[idx]];
        }

        return result;
    };

    return getterCache[field];
}

function map(array, func) {
    return array.reduce(function (result, el, i) {
        var val = func(el, i);
        if (val != null) {
            result.push(val);
        }
        return result;
    }, []);
}

function defaultGroupHeaderTemplate(data) {
    return ((data.title) + ": " + (data.value));
}

function createArray(length, callback) {
    var result = [];

    for (var idx = 0; idx < length; idx++) {
        result.push(callback(idx));
    }

    return result;
}

var ExcelExporter = function ExcelExporter(options) {
    options.columns = this._trimColumns(options.columns || []);

    this.allColumns = map(this._leafColumns(options.columns || []), this._prepareColumn);

    this.columns = this.allColumns.filter(function(column) { return !column.hidden; });

    this.options = options;
    this.data = options.data || [];
    this.aggregates = options.aggregates || {};
    this.groups = [].concat(options.groups || []);
    this.hierarchy = options.hierarchy;
};

ExcelExporter.prototype.workbook = function workbook () {
    var workbook = {
        sheets: [ {
            columns: this._columns(),
            rows: this.hierarchy ? this._hierarchyRows() : this._rows(),
            freezePane: this._freezePane(),
            filter: this._filter()
        } ]
    };

    return workbook;
};

ExcelExporter.prototype._trimColumns = function _trimColumns (columns) {
        var this$1 = this;

    return columns.filter(function (column) {
        var result = Boolean(column.field);

        if (!result && column.columns) {
            result = this$1._trimColumns(column.columns).length > 0;
        }

        return result;
    });
};

ExcelExporter.prototype._leafColumns = function _leafColumns (columns) {
        var this$1 = this;

    var result = [];

    for (var idx = 0; idx < columns.length; idx++) {
        if (!columns[idx].columns) {
            result.push(columns[idx]);
        } else {
            result = result.concat(this$1._leafColumns(columns[idx].columns));
        }
    }

    return result;
};

ExcelExporter.prototype._prepareColumn = function _prepareColumn (column) {
    if (!column.field) {
        return null;
    }

    var value = function(dataItem) {
        return getter(column.field, true)(dataItem);
    };

    var values = null;

    if (column.values) {
        values = {};

        column.values.forEach(function(item) {
            values[item.value] = item.text;
        });

        value = function(dataItem) {
            return values[getter(column.field, true)(dataItem)];
        };
    }

    return Object.assign({}, column, {
        value: value,
        values: values,
        groupHeaderTemplate: column.groupHeaderTemplate ? TemplateService.compile(column.groupHeaderTemplate) : defaultGroupHeaderTemplate,
        groupFooterTemplate: column.groupFooterTemplate ? TemplateService.compile(column.groupFooterTemplate) : null,
        footerTemplate: column.footerTemplate ? TemplateService.compile(column.footerTemplate) : null
    });
};

ExcelExporter.prototype._filter = function _filter () {
    if (!this.options.filterable) {
        return null;
    }

    var depth = this._depth();

    return {
        from: depth,
        to: depth + this.columns.length - 1
    };
};

ExcelExporter.prototype._createPaddingCells = function _createPaddingCells (length) {
        var this$1 = this;

    return createArray(length, function () { return Object.assign({
        background: "#dfdfdf",
        color: "#333"
    }, this$1.options.paddingCellOptions); });
};

ExcelExporter.prototype._dataRow = function _dataRow (dataItem, level, depth) {
        var this$1 = this;

    var cells = this._createPaddingCells(level);

    // grouped
    if (depth && dataItem.items) {
        var column = this.allColumns.filter(function(column) {
            return column.field === dataItem.field;
        })[0];

        var title = column && column.title ? column.title : dataItem.field;
        var template = column ? column.groupHeaderTemplate : null;
        var group = Object.assign({
            title: title,
            field: dataItem.field,
            value: column && column.values ? column.values[dataItem.value] : dataItem.value,
            aggregates: dataItem.aggregates,
            items: dataItem.items
        }, dataItem.aggregates[dataItem.field]);

        var value = title + ": " + (dataItem.value);

        if (template) {
            value = template(group);
        }

        cells.push(Object.assign({
            value: value,
            background: "#dfdfdf",
            color: "#333",
            colSpan: this.columns.length + depth - level
        }, (column || {}).groupHeaderCellOptions));

        var rows = this._dataRows(dataItem.items, level + 1);

        rows.unshift({
            type: "group-header",
            cells: cells,
            level: this.options.collapsible ? level : null
        });

        return rows.concat(this._footer(dataItem, level));
    }

    var dataCells = [];

    for (var cellIdx = 0; cellIdx < this.columns.length; cellIdx++) {
        dataCells[cellIdx] = this$1._cell(dataItem, this$1.columns[cellIdx]);
    }

    if (this.hierarchy) {
        dataCells[0].colSpan = depth - level + 1;
    }

    return [ {
        type: "data",
        cells: cells.concat(dataCells),
        level: this.options.collapsible ? level : null
    } ];
};

ExcelExporter.prototype._dataRows = function _dataRows (dataItems, level) {
        var this$1 = this;

    var depth = this._depth();
    var rows = [];

    for (var idx = 0; idx < dataItems.length; idx++) {
        rows.push.apply(rows, this$1._dataRow(dataItems[idx], level, depth));
    }

    return rows;
};

ExcelExporter.prototype._hierarchyRows = function _hierarchyRows () {
        var this$1 = this;

    var depth = this._depth();
    var data = this.data;
    var itemLevel = this.hierarchy.itemLevel;
    var hasFooter = this._hasFooterTemplate();
    var rows = [];
    var parents = [];
    var previousLevel = 0;
    var previousItemId;

    for (var idx = 0; idx < data.length; idx++) {
        var item = data[idx];
        var level = itemLevel(item);

        if (hasFooter) {
            if (level > previousLevel) {
                parents.push({ id: previousItemId, level: previousLevel });
            } else if (level < previousLevel) {
                rows.push.apply(rows, this$1._hierarchyFooterRows(parents, level, depth));
            }

            previousLevel = level;
            previousItemId = item.id;
        }

        rows.push.apply(rows, this$1._dataRow(item, level + 1, depth));
    }

    if (hasFooter) {
        rows.push.apply(rows, this._hierarchyFooterRows(parents, 0, depth));

        var rootAggregate = data.length ? this.aggregates[data[0].parentId] : {};
        rows.push(this._hierarchyFooter(rootAggregate, 0, depth));
    }

    this._prependHeaderRows(rows);

    return rows;
};

ExcelExporter.prototype._hierarchyFooterRows = function _hierarchyFooterRows (parents, currentLevel, depth) {
        var this$1 = this;

    var rows = [];
    while (parents.length && parents[parents.length - 1].level >= currentLevel) {
        var parent = parents.pop();
        rows.push(this$1._hierarchyFooter(this$1.aggregates[parent.id], parent.level + 1, depth));
    }

    return rows;
};

ExcelExporter.prototype._hasFooterTemplate = function _hasFooterTemplate () {
    var columns = this.columns;
    for (var idx = 0; idx < columns.length; idx++) {
        if (columns[idx].footerTemplate) {
            return true;
        }
    }
};

ExcelExporter.prototype._hierarchyFooter = function _hierarchyFooter (aggregates, level, depth) {
    var cells = this.columns.map(function(column, index) {
        var colSpan = index ? 1 : depth - level + 1;
        if (column.footerTemplate) {
            return Object.assign({
                background: "#dfdfdf",
                color: "#333",
                colSpan: colSpan,
                value: column.footerTemplate(Object.assign({}, (aggregates || {})[column.field]))
            }, column.footerCellOptions);
        }

        return Object.assign({
            background: "#dfdfdf",
            color: "#333",
            colSpan: colSpan
        }, column.footerCellOptions);
    });

    return {
        type: "footer",
        cells: this._createPaddingCells(level).concat(cells)
    };
};

ExcelExporter.prototype._footer = function _footer (dataItem, level) {
    var rows = [];
    var footer = this.columns.some(function (column) { return column.groupFooterTemplate; });

    var templateData, group;
    if (footer) {
        group = {
            group: { items: dataItem.items,
                     field: dataItem.field,
                     value: dataItem.value }
        };
        templateData = {};
        Object.keys(dataItem.aggregates).forEach(function (key) {
            templateData[key] = Object.assign({}, dataItem.aggregates[key], group);
        });
    }

    var cells = this.columns.map(function (column) {
        if (column.groupFooterTemplate) {
            var data = Object.assign({}, templateData, dataItem.aggregates[column.field], group);
            return Object.assign({
                background: "#dfdfdf",
                color: "#333",
                value: column.groupFooterTemplate(data)
            }, column.groupFooterCellOptions);
        }

        return Object.assign({
            background: "#dfdfdf",
            color: "#333"
        }, column.groupFooterCellOptions);
    });

    if (footer) {
        rows.push({
            type: "group-footer",
            cells: this._createPaddingCells(this.groups.length).concat(cells),
            level: this.options.collapsible ? level : null
        });
    }

    return rows;
};

ExcelExporter.prototype._isColumnVisible = function _isColumnVisible (column) {
    return this._visibleColumns([ column ]).length > 0 && (column.field || column.columns);
};

ExcelExporter.prototype._visibleColumns = function _visibleColumns (columns) {
        var this$1 = this;

    return columns.filter(function (column) {
        var result = !column.hidden;
        if (result && column.columns) {
            result = this$1._visibleColumns(column.columns).length > 0;
        }
        return result;
    });
};

ExcelExporter.prototype._headerRow = function _headerRow (row, groups) {
        var this$1 = this;

    var headers = row.cells.map(function(cell) {
        return Object.assign(cell, {
            colSpan: cell.colSpan > 1 ? cell.colSpan : 1,
            rowSpan: row.rowSpan > 1 && !cell.colSpan ? row.rowSpan : 1
        });
    });

    if (this.hierarchy) {
        headers[0].colSpan = this._depth() + 1;
    }

    return {
        type: "header",
        cells: createArray(groups.length, function () { return Object.assign({
            background: "#7a7a7a",
            color: "#fff"
        }, this$1.options.headerPaddingCellOptions); }).concat(headers)
    };
};

ExcelExporter.prototype._prependHeaderRows = function _prependHeaderRows (rows) {
        var this$1 = this;

    var groups = this.groups;

    var headerRows = [ { rowSpan: 1, cells: [], index: 0 } ];

    this._prepareHeaderRows(headerRows, this.options.columns);

    for (var idx = headerRows.length - 1; idx >= 0; idx--) {
        rows.unshift(this$1._headerRow(headerRows[idx], groups));
    }
};

ExcelExporter.prototype._prepareHeaderRows = function _prepareHeaderRows (rows, columns, parentCell, parentRow) {
        var this$1 = this;

    var row = parentRow || rows[rows.length - 1];
    var childRow = rows[row.index + 1];
    var totalColSpan = 0;

    for (var idx = 0; idx < columns.length; idx++) {
        var column = columns[idx];
        if (this$1._isColumnVisible(column)) {

            var cell = Object.assign({
                background: "#7a7a7a",
                color: "#fff",
                value: column.title || column.field,
                colSpan: 0
            }, column.headerCellOptions);
            row.cells.push(cell);

            if (column.columns && column.columns.length) {
                if (!childRow) {
                    childRow = { rowSpan: 0, cells: [], index: rows.length };
                    rows.push(childRow);
                }
                cell.colSpan = this$1._trimColumns(this$1._visibleColumns(column.columns)).length;
                this$1._prepareHeaderRows(rows, column.columns, cell, childRow);
                totalColSpan += cell.colSpan - 1;
                row.rowSpan = rows.length - row.index;
            }
        }
    }

    if (parentCell) {
        parentCell.colSpan += totalColSpan;
    }
};

ExcelExporter.prototype._rows = function _rows () {
        var this$1 = this;

    var rows = this._dataRows(this.data, 0);

    if (this.columns.length) {
        this._prependHeaderRows(rows);
        var footer = false;

        var cells = this.columns.map(function (column) {
            if (column.footerTemplate) {
                footer = true;

                return Object.assign({
                    background: "#dfdfdf",
                    color: "#333",
                    value: column.footerTemplate(Object.assign({}, this$1.aggregates, this$1.aggregates[column.field]))
                }, column.footerCellOptions);
            }

            return Object.assign({
                background: "#dfdfdf",
                color: "#333"
            }, column.footerCellOptions);
        });

        if (footer) {
            rows.push({
                type: "footer",
                cells: this._createPaddingCells(this.groups.length).concat(cells)
            });
        }
    }

    return rows;
};

ExcelExporter.prototype._headerDepth = function _headerDepth (columns) {
        var this$1 = this;

    var result = 1;
    var max = 0;

    for (var idx = 0; idx < columns.length; idx++) {
        if (columns[idx].columns) {
            var temp = this$1._headerDepth(columns[idx].columns);
            if (temp > max) {
                max = temp;
            }
        }
    }
    return result + max;
};

ExcelExporter.prototype._freezePane = function _freezePane () {
    var columns = this._visibleColumns(this.options.columns || []);

    var colSplit = this._visibleColumns(this._trimColumns(this._leafColumns(columns.filter(function(column) {
        return column.locked;
    })))).length;

    return {
        rowSplit: this._headerDepth(columns),
        colSplit: colSplit ? colSplit + this.groups.length : 0
    };
};

ExcelExporter.prototype._cell = function _cell (dataItem, column) {
    return Object.assign({
        value: column.value(dataItem)
    }, column.cellOptions);
};

ExcelExporter.prototype._depth = function _depth () {
    var depth = 0;

    if (this.hierarchy) {
        depth = this.hierarchy.depth;
    } else {
        depth = this.groups.length;
    }

    return depth;
};

ExcelExporter.prototype._columns = function _columns () {
    var depth = this._depth();
    var columns = createArray(depth, function () { return ({ width: 20 }); });

    return columns.concat(this.columns.map(function(column) {
        return {
            width: parseInt(column.width, 10),
            autoWidth: column.width ? false : true
        };
    }));
};

var current$1 = {
    toString: function (value) { return value; }
};

var IntlService = function IntlService () {};

IntlService.register = function register (userImplementation) {
    current$1 = userImplementation;
};

IntlService.toString = function toString (value, format) {
    return current$1.toString(value, format);
};

function createZip() {
    return new JSZip();
}

// date packing utilities from Kendo Spreadsheet

// Julian days algorithms from http://www.hermetic.ch/cal_stud/jdn.htm#comp
function dateToJulianDays(y, m, d) {
    return ((1461 * (y + 4800 + ((m - 13) / 12 | 0))) / 4 | 0) +
        ((367 * (m - 1 - 12 * ((m - 13) / 12 | 0))) / 12 | 0) -
        ((3 * (((y + 4900 + ((m - 13) / 12 | 0)) / 100 | 0))) / 4 | 0) +
        d - 32075;
}

// This uses the Google Spreadsheet approach: treat 1899-12-31 as day 1, allowing to avoid
// implementing the "Leap Year Bug" yet still be Excel compatible for dates starting 1900-03-01.
var BASE_DATE = dateToJulianDays(1900, 0, -1);

function packDate(year, month, date) {
    return dateToJulianDays(year, month, date) - BASE_DATE;
}

function packTime(hh, mm, ss, ms) {
    return (hh + (mm + (ss + ms / 1000) / 60) / 60) / 24;
}

function dateToSerial(date) {
    var time = packTime(date.getHours(),
                          date.getMinutes(),
                          date.getSeconds(),
                          date.getMilliseconds());
    var serial = packDate(date.getFullYear(),
                            date.getMonth(),
                            date.getDate());
    return serial < 0 ? serial - 1 + time : serial + time;
}

var DATA_URL_PREFIX = "data:application/vnd.openxmlformats-officedocument.spreadsheetml.sheet;base64,";
var DATA_URL_OPTIONS = { compression: "DEFLATE", type: "base64" };

/* eslint-disable key-spacing, no-arrow-condition, indent, no-nested-ternary, consistent-return */

function toDataURI(content) {
    return DATA_URL_PREFIX + content;
}

function indexOf(thing, array) {
    return array.indexOf(thing);
}

var parseJSON = JSON.parse.bind(JSON);

function ESC(val) {
    return String(val)
        .replace(/&/g, "&amp;")
        .replace(/</g, "&lt;")
        .replace(/>/g, "&gt;")
        .replace(/\"/g, "&quot;")
        .replace(/\'/g, "&#39;");
}

function repeat(count, func) {
    var str = "";
    for (var i = 0; i < count; ++i) {
        str += func(i);
    }
    return str;
}

function foreach(arr, func) {
    var str = "";
    for (var i = 0; i < arr.length; ++i) {
        str += func(arr[i], i);
    }
    return str;
}

var XMLHEAD = '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>\r';

var RELS = XMLHEAD + "\n            <Relationships xmlns=\"http://schemas.openxmlformats.org/package/2006/relationships\">\n               <Relationship Id=\"rId3\" Type=\"http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties\" Target=\"docProps/app.xml\"/>\n               <Relationship Id=\"rId2\" Type=\"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties\" Target=\"docProps/core.xml\"/>\n               <Relationship Id=\"rId1\" Type=\"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument\" Target=\"xl/workbook.xml\"/>\n            </Relationships>";

var CORE = function (ref) {
  var creator = ref.creator;
  var lastModifiedBy = ref.lastModifiedBy;
  var created = ref.created;
  var modified = ref.modified;

  return (XMLHEAD + "\n <cp:coreProperties xmlns:cp=\"http://schemas.openxmlformats.org/package/2006/metadata/core-properties\"\n   xmlns:dc=\"http://purl.org/dc/elements/1.1/\" xmlns:dcterms=\"http://purl.org/dc/terms/\"\n   xmlns:dcmitype=\"http://purl.org/dc/dcmitype/\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\">\n   <dc:creator>" + (ESC(creator)) + "</dc:creator>\n   <cp:lastModifiedBy>" + (ESC(lastModifiedBy)) + "</cp:lastModifiedBy>\n   <dcterms:created xsi:type=\"dcterms:W3CDTF\">" + (ESC(created)) + "</dcterms:created>\n   <dcterms:modified xsi:type=\"dcterms:W3CDTF\">" + (ESC(modified)) + "</dcterms:modified>\n</cp:coreProperties>");
};

var APP = function (ref) {
  var sheets = ref.sheets;

  return (XMLHEAD + "\n<Properties xmlns=\"http://schemas.openxmlformats.org/officeDocument/2006/extended-properties\" xmlns:vt=\"http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes\">\n  <Application>Microsoft Excel</Application>\n  <DocSecurity>0</DocSecurity>\n  <ScaleCrop>false</ScaleCrop>\n  <HeadingPairs>\n    <vt:vector size=\"2\" baseType=\"variant\">\n      <vt:variant>\n        <vt:lpstr>Worksheets</vt:lpstr>\n      </vt:variant>\n      <vt:variant>\n        <vt:i4>" + (sheets.length) + "</vt:i4>\n      </vt:variant>\n    </vt:vector>\n  </HeadingPairs>\n  <TitlesOfParts>\n    <vt:vector size=\"" + (sheets.length) + "\" baseType=\"lpstr\">" + (foreach(sheets, function (sheet, i) { return sheet.options.title
          ? ("<vt:lpstr>" + (ESC(sheet.options.title)) + "</vt:lpstr>")
          : ("<vt:lpstr>Sheet" + (i + 1) + "</vt:lpstr>"); }
      )) + "</vt:vector>\n  </TitlesOfParts>\n  <LinksUpToDate>false</LinksUpToDate>\n  <SharedDoc>false</SharedDoc>\n  <HyperlinksChanged>false</HyperlinksChanged>\n  <AppVersion>14.0300</AppVersion>\n</Properties>");
};

var CONTENT_TYPES = function (ref) {
  var count = ref.count;

  return (XMLHEAD + "\n<Types xmlns=\"http://schemas.openxmlformats.org/package/2006/content-types\">\n  <Default Extension=\"rels\" ContentType=\"application/vnd.openxmlformats-package.relationships+xml\" />\n  <Default Extension=\"xml\" ContentType=\"application/xml\" />\n  <Override PartName=\"/xl/workbook.xml\" ContentType=\"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml\" />\n  <Override PartName=\"/xl/styles.xml\" ContentType=\"application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml\"/>\n  <Override PartName=\"/xl/sharedStrings.xml\" ContentType=\"application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml\"/>\n  " + (repeat(count, function (idx) { return ("<Override PartName=\"/xl/worksheets/sheet" + (idx + 1) + ".xml\" ContentType=\"application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml\" />"); })) + "\n  <Override PartName=\"/docProps/core.xml\" ContentType=\"application/vnd.openxmlformats-package.core-properties+xml\" />\n  <Override PartName=\"/docProps/app.xml\" ContentType=\"application/vnd.openxmlformats-officedocument.extended-properties+xml\" />\n</Types>");
};

var WORKBOOK = function (ref) {
  var sheets = ref.sheets;
  var filterNames = ref.filterNames;
  var userNames = ref.userNames;

  return (XMLHEAD + "\n<workbook xmlns=\"http://schemas.openxmlformats.org/spreadsheetml/2006/main\" xmlns:r=\"http://schemas.openxmlformats.org/officeDocument/2006/relationships\">\n  <fileVersion appName=\"xl\" lastEdited=\"5\" lowestEdited=\"5\" rupBuild=\"9303\" />\n  <workbookPr defaultThemeVersion=\"124226\" />\n  <bookViews>\n    <workbookView xWindow=\"240\" yWindow=\"45\" windowWidth=\"18195\" windowHeight=\"7995\" />\n  </bookViews>\n  <sheets>\n  " + (foreach(sheets, function (ref, i) {
    var options = ref.options;

    var name = options.name || options.title || ("Sheet" + (i + 1));
    return ("<sheet name=\"" + (ESC(name)) + "\" sheetId=\"" + (i + 1) + "\" r:id=\"rId" + (i + 1) + "\" />");
  })) + "\n  </sheets>\n  " + (filterNames.length || userNames.length ? ("\n    <definedNames>\n      " + (foreach(filterNames, function (f) { return ("\n         <definedName name=\"_xlnm._FilterDatabase\" hidden=\"1\" localSheetId=\"" + (f.localSheetId) + "\">" + (ESC(f.name)) + "!" + (ESC(f.from)) + ":" + (ESC(f.to)) + "</definedName>"); })) + "\n      " + (foreach(userNames, function (f) { return ("\n         <definedName name=\"" + (f.name) + "\" hidden=\"" + (f.hidden ? 1 : 0) + "\" " + (f.localSheetId != null ? ("localSheetId=\"" + (f.localSheetId) + "\"") : '') + ">" + (ESC(f.value)) + "</definedName>"); })) + "\n    </definedNames>") : '') + "\n  <calcPr fullCalcOnLoad=\"1\" calcId=\"145621\" />\n</workbook>");
};

var WORKSHEET = function (ref) {
  var frozenColumns = ref.frozenColumns;
  var frozenRows = ref.frozenRows;
  var columns = ref.columns;
  var defaults = ref.defaults;
  var data = ref.data;
  var index = ref.index;
  var mergeCells = ref.mergeCells;
  var autoFilter = ref.autoFilter;
  var filter = ref.filter;
  var showGridLines = ref.showGridLines;
  var hyperlinks = ref.hyperlinks;
  var validations = ref.validations;
  var defaultCellStyleId = ref.defaultCellStyleId;
  var rtl = ref.rtl;

  return (XMLHEAD + "\n<worksheet xmlns=\"http://schemas.openxmlformats.org/spreadsheetml/2006/main\" xmlns:mc=\"http://schemas.openxmlformats.org/markup-compatibility/2006\" xmlns:r=\"http://schemas.openxmlformats.org/officeDocument/2006/relationships\" xmlns:x14ac=\"http://schemas.microsoft.com/office/spreadsheetml/2009/9/ac\" mc:Ignorable=\"x14ac\">\n   <dimension ref=\"A1\" />\n\n   <sheetViews>\n     <sheetView " + (rtl ? 'rightToLeft="1"' : '') + " " + (index === 0 ? 'tabSelected="1"' : '') + " workbookViewId=\"0\" " + (showGridLines === false ? 'showGridLines="0"' : '') + ">\n     " + (frozenRows || frozenColumns ? ("\n       <pane state=\"frozen\"\n         " + (frozenColumns ? ("xSplit=\"" + frozenColumns + "\"") : '') + "\n         " + (frozenRows ? ("ySplit=\"" + frozenRows + "\"") : '') + "\n         topLeftCell=\"" + (String.fromCharCode(65 + (frozenColumns || 0)) + ((frozenRows || 0) + 1)) + "\"\n       />") : '') + "\n     </sheetView>\n   </sheetViews>\n\n   <sheetFormatPr x14ac:dyDescent=\"0.25\" customHeight=\"1\" defaultRowHeight=\"" + (defaults.rowHeight ? defaults.rowHeight * 0.75 : 15) + "\"\n     " + (defaults.columnWidth ? ("defaultColWidth=\"" + (toWidth(defaults.columnWidth)) + "\"") : '') + " />\n\n   " + (defaultCellStyleId != null || (columns && columns.length > 0) ? ("\n     <cols>\n       " + (!columns || !columns.length ? ("\n         <col min=\"1\" max=\"16384\" style=\"" + defaultCellStyleId + "\"\n              " + (defaults.columnWidth ? ("width=\"" + (toWidth(defaults.columnWidth)) + "\"") : '') + " /> ") : '') + "\n       " + (foreach(columns, function (column, ci) {
         var columnIndex = typeof column.index === "number" ? column.index + 1 : (ci + 1);
         if (column.width === 0) {
           return ("<col " + (defaultCellStyleId != null ? ("style=\"" + defaultCellStyleId + "\"") : '') + "\n                        min=\"" + columnIndex + "\" max=\"" + columnIndex + "\" hidden=\"1\" customWidth=\"1\" />");
         }
         return ("<col " + (defaultCellStyleId != null ? ("style=\"" + defaultCellStyleId + "\"") : '') + "\n                      min=\"" + columnIndex + "\" max=\"" + columnIndex + "\" customWidth=\"1\"\n                      " + (column.autoWidth
                          ? ("width=\"" + (((column.width * 7 + 5) / 7 * 256) / 256) + "\" bestFit=\"1\"")
                          : ("width=\"" + (toWidth(column.width)) + "\"")) + " />");
       })) + "\n     </cols>") : '') + "\n\n   <sheetData>\n     " + (foreach(data, function (row, ri) {
       var rowIndex = typeof row.index === "number" ? row.index + 1 : (ri + 1);
       return ("\n         <row r=\"" + rowIndex + "\" x14ac:dyDescent=\"0.25\"\n              " + (row.level ? ("outlineLevel=\"" + (row.level) + "\"") : '') + "\n              " + (row.height === 0 ? 'hidden="1"'
                                 : row.height ? ("ht=\"" + (toHeight(row.height)) + "\" customHeight=\"1\"") : "") + ">\n           " + (foreach(row.data, function (cell) { return ("\n             <c r=\"" + (cell.ref) + "\" " + (cell.style ? ("s=\"" + (cell.style) + "\"") : '') + " " + (cell.type ? ("t=\"" + (cell.type) + "\"") : '') + ">\n               " + (cell.formula != null ? writeFormula(cell.formula) : '') + "\n               " + (cell.value != null ? ("<v>" + (ESC(cell.value)) + "</v>") : '') + "\n             </c>"); })) + "\n         </row>\n       ");})) + "\n   </sheetData>\n\n   " + (autoFilter ? ("<autoFilter ref=\"" + (autoFilter.from) + ":" + (autoFilter.to) + "\"/>")
                : filter ? spreadsheetFilters(filter) : '') + "\n\n   " + (mergeCells.length ? ("\n     <mergeCells count=\"" + (mergeCells.length) + "\">\n       " + (foreach(mergeCells, function (ref) { return ("<mergeCell ref=\"" + ref + "\"/>"); })) + "\n     </mergeCells>") : '') + "\n\n   " + (validations.length ? ("\n     <dataValidations>\n       " + (foreach(validations, function (val) { return ("\n         <dataValidation sqref=\"" + (val.sqref.join(" ")) + "\"\n                         showErrorMessage=\"" + (val.showErrorMessage) + "\"\n                         type=\"" + (ESC(val.type)) + "\"\n                         " + (val.type !== "list" ? ("operator=\"" + (ESC(val.operator)) + "\"") : '') + "\n                         allowBlank=\"" + (val.allowBlank) + "\"\n                         showDropDown=\"" + (val.showDropDown) + "\"\n                         " + (val.error ? ("error=\"" + (ESC(val.error)) + "\"") : '') + "\n                         " + (val.errorTitle ? ("errorTitle=\"" + (ESC(val.errorTitle)) + "\"") : '') + ">\n           " + (val.formula1 ? ("<formula1>" + (ESC(val.formula1)) + "</formula1>") : '') + "\n           " + (val.formula2 ? ("<formula2>" + (ESC(val.formula2)) + "</formula2>") : '') + "\n         </dataValidation>"); })) + "\n     </dataValidations>") : '') + "\n\n   " + (hyperlinks.length ? ("\n     <hyperlinks>\n       " + (foreach(hyperlinks, function (link, hi) { return ("\n         <hyperlink ref=\"" + (link.ref) + "\" r:id=\"rId" + hi + "\"/>"); })) + "\n     </hyperlinks>") : '') + "\n\n   <pageMargins left=\"0.7\" right=\"0.7\" top=\"0.75\" bottom=\"0.75\" header=\"0.3\" footer=\"0.3\" />\n</worksheet>");
};

var WORKBOOK_RELS = function (ref) {
  var count = ref.count;

  return (XMLHEAD + "\n<Relationships xmlns=\"http://schemas.openxmlformats.org/package/2006/relationships\">\n  " + (repeat(count, function (idx) { return ("\n    <Relationship Id=\"rId" + (idx + 1) + "\" Type=\"http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet\" Target=\"worksheets/sheet" + (idx + 1) + ".xml\" />"); })) + "\n  <Relationship Id=\"rId" + (count + 1) + "\" Type=\"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles\" Target=\"styles.xml\" />\n  <Relationship Id=\"rId" + (count + 2) + "\" Type=\"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings\" Target=\"sharedStrings.xml\" />\n</Relationships>");
};

var WORKSHEET_RELS = function (ref) {
  var hyperlinks = ref.hyperlinks;

  return (XMLHEAD + "\n<Relationships xmlns=\"http://schemas.openxmlformats.org/package/2006/relationships\">\n  " + (foreach(hyperlinks, function (link, i) { return ("\n    <Relationship Id=\"rId" + i + "\" Type=\"http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink\" Target=\"" + (ESC(link.target)) + "\" TargetMode=\"External\" />"); })) + "\n</Relationships>");
};

var SHARED_STRINGS = function (ref) {
  var count = ref.count;
  var uniqueCount = ref.uniqueCount;
  var indexes = ref.indexes;

  return (XMLHEAD + "\n<sst xmlns=\"http://schemas.openxmlformats.org/spreadsheetml/2006/main\" count=\"" + count + "\" uniqueCount=\"" + uniqueCount + "\">\n  " + (foreach(Object.keys(indexes), function (index) { return ("\n    <si><t xml:space=\"preserve\">" + (ESC(index.substring(1))) + "</t></si>"); })) + "\n</sst>");
};

var STYLES = function (ref) {
  var formats = ref.formats;
  var fonts = ref.fonts;
  var fills = ref.fills;
  var borders = ref.borders;
  var styles = ref.styles;

  return (XMLHEAD + "\n<styleSheet\n    xmlns=\"http://schemas.openxmlformats.org/spreadsheetml/2006/main\"\n    xmlns:mc=\"http://schemas.openxmlformats.org/markup-compatibility/2006\"\n    mc:Ignorable=\"x14ac\"\n    xmlns:x14ac=\"http://schemas.microsoft.com/office/spreadsheetml/2009/9/ac\">\n  <numFmts count=\"" + (formats.length) + "\">\n  " + (foreach(formats, function (format, fi) { return ("\n    <numFmt formatCode=\"" + (ESC(format.format)) + "\" numFmtId=\"" + (165 + fi) + "\" />"); })) + "\n  </numFmts>\n  <fonts count=\"" + (fonts.length + 1) + "\" x14ac:knownFonts=\"1\">\n    <font>\n       <sz val=\"11\" />\n       <color theme=\"1\" />\n       <name val=\"Calibri\" />\n       <family val=\"2\" />\n       <scheme val=\"minor\" />\n    </font>\n    " + (foreach(fonts, function (font) { return ("\n    <font>\n      <sz val=\"" + (font.fontSize || 11) + "\" />\n      " + (font.bold ? '<b/>' : '') + "\n      " + (font.italic ? '<i/>' : '') + "\n      " + (font.underline ? '<u/>' : '') + "\n      " + (font.color ? ("<color rgb=\"" + (ESC(font.color)) + "\" />") : '<color theme="1" />') + "\n      " + (font.fontFamily ? ("\n        <name val=\"" + (ESC(font.fontFamily)) + "\" />\n        <family val=\"2\" />\n      ") : "\n        <name val=\"Calibri\" />\n        <family val=\"2\" />\n        <scheme val=\"minor\" />\n      ") + "\n    </font>"); })) + "\n  </fonts>\n  <fills count=\"" + (fills.length + 2) + "\">\n      <fill><patternFill patternType=\"none\"/></fill>\n      <fill><patternFill patternType=\"gray125\"/></fill>\n    " + (foreach(fills, function (fill) { return ("\n      " + (fill.background ? ("\n        <fill>\n          <patternFill patternType=\"solid\">\n              <fgColor rgb=\"" + (ESC(fill.background)) + "\"/>\n          </patternFill>\n        </fill>\n      ") : '')); })) + "\n  </fills>\n  <borders count=\"" + (borders.length + 1) + "\">\n    <border><left/><right/><top/><bottom/><diagonal/></border>\n    " + (foreach(borders, borderTemplate)) + "\n  </borders>\n  <cellStyleXfs count=\"1\">\n    <xf borderId=\"0\" fillId=\"0\" fontId=\"0\" />\n  </cellStyleXfs>\n  <cellXfs count=\"" + (styles.length + 1) + "\">\n    <xf numFmtId=\"0\" fontId=\"0\" fillId=\"0\" borderId=\"0\" xfId=\"0\" />\n    " + (foreach(styles, function (style) { return ("\n      <xf xfId=\"0\"\n          " + (style.fontId ? ("fontId=\"" + (style.fontId) + "\" applyFont=\"1\"") : '') + "\n          " + (style.fillId ? ("fillId=\"" + (style.fillId) + "\" applyFill=\"1\"") : '') + "\n          " + (style.numFmtId ? ("numFmtId=\"" + (style.numFmtId) + "\" applyNumberFormat=\"1\"") : '') + "\n          " + (style.textAlign || style.verticalAlign || style.wrap ? 'applyAlignment="1"' : '') + "\n          " + (style.borderId ? ("borderId=\"" + (style.borderId) + "\" applyBorder=\"1\"") : '') + ">\n        " + (style.textAlign || style.verticalAlign || style.wrap ? ("\n        <alignment\n          " + (style.textAlign ? ("horizontal=\"" + (ESC(style.textAlign)) + "\"") : '') + "\n          " + (style.verticalAlign ? ("vertical=\"" + (ESC(style.verticalAlign)) + "\"") : '') + "\n          " + (style.indent ? ("indent=\"" + (ESC(style.indent)) + "\"") : '') + "\n          " + (style.wrap ? 'wrapText="1"' : '') + " />\n        ") : '') + "\n      </xf>\n    "); })) + "\n  </cellXfs>\n  <cellStyles count=\"1\">\n    <cellStyle name=\"Normal\" xfId=\"0\" builtinId=\"0\"/>\n  </cellStyles>\n  <dxfs count=\"0\" />\n  <tableStyles count=\"0\" defaultTableStyle=\"TableStyleMedium2\" defaultPivotStyle=\"PivotStyleMedium9\" />\n</styleSheet>");
};

function writeFormula(formula) {
    if (typeof formula == "string") {
        return ("<f>" + (ESC(formula)) + "</f>");
    }
    // array formulas
    return ("<f t=\"array\" ref=\"" + (formula.ref) + "\">" + (ESC(formula.src)) + "</f>");
}

function numChar(colIndex) {
   var letter = Math.floor(colIndex / 26) - 1;

   return (letter >= 0 ? numChar(letter) : "") + String.fromCharCode(65 + (colIndex % 26));
}

function ref(rowIndex, colIndex) {
    return numChar(colIndex) + (rowIndex + 1);
}

function $ref(rowIndex, colIndex) {
    return "$" + numChar(colIndex) + "$" + (rowIndex + 1);
}

function filterRowIndex(options) {
    var frozenRows = options.frozenRows || (options.freezePane || {}).rowSplit || 1;
    return frozenRows - 1;
}

function toWidth(px) {
    var maximumDigitWidth = 7;
    return (px / maximumDigitWidth) - (Math.floor(128 / maximumDigitWidth) / 256);
}

function toHeight(px) {
    return px * 0.75;
}

function stripFunnyChars(value) {
    return String(value)
        .replace(/[\x00-\x09\x0B\x0C\x0E-\x1F]/g, "") // leave CRLF in
        .replace(/\r?\n/g, "\r\n");                   // make sure LF is preceded by CR
}

var Worksheet = function Worksheet(options, sharedStrings, styles, borders) {
      this.options = options;
      this._strings = sharedStrings;
      this._styles = styles;
      this._borders = borders;
      this._validations = {};
  };

  Worksheet.prototype.relsToXML = function relsToXML () {
      var hyperlinks = this.options.hyperlinks || [];
      if (!hyperlinks.length) {
          return "";
      }

      return WORKSHEET_RELS({ hyperlinks: hyperlinks });
  };

  Worksheet.prototype.toXML = function toXML (index) {
        var this$1 = this;

      var mergeCells = this.options.mergedCells || [];
      var rows = this.options.rows || [];
      var data = inflate(rows, mergeCells);

      this._readCells(data);

      var autoFilter = this.options.filter;
      var filter;
      if (autoFilter && (typeof autoFilter.from === "number") && (typeof autoFilter.to === "number")) {
          // Grid enables auto filter
          autoFilter = {
              from: ref(filterRowIndex(this.options), autoFilter.from),
              to: ref(filterRowIndex(this.options), autoFilter.to)
          };
      } else if (autoFilter && autoFilter.ref && autoFilter.columns) {
          // this is probably from the Spreadsheet
          filter = autoFilter;
          autoFilter = null;
      }

      var validations = [];
      for (var i in this._validations) {
          if (Object.prototype.hasOwnProperty.call(this$1._validations, i)) {
              validations.push(this$1._validations[i]);
          }
      }

      var defaultCellStyleId = null;
      if (this.options.defaultCellStyle) {
          defaultCellStyleId = this._lookupStyle(this.options.defaultCellStyle);
      }

      var freezePane = this.options.freezePane || {};
      var defaults = this.options.defaults || {};
      return WORKSHEET({
          frozenColumns: this.options.frozenColumns || freezePane.colSplit,
          frozenRows: this.options.frozenRows || freezePane.rowSplit,
          columns: this.options.columns,
          defaults: defaults,
          data: data,
          index: index,
          mergeCells: mergeCells,
          autoFilter: autoFilter,
          filter: filter,
          showGridLines: this.options.showGridLines,
          hyperlinks: this.options.hyperlinks || [],
          validations: validations,
          defaultCellStyleId: defaultCellStyleId,
          rtl: this.options.rtl !== undefined ? this.options.rtl : defaults.rtl
        });
    };

    Worksheet.prototype._lookupString = function _lookupString (value) {
        var key = "$" + value;
        var index = this._strings.indexes[key];
        var result;

        if (index !== undefined) {
            result = index;
        } else {
            result = this._strings.indexes[key] = this._strings.uniqueCount;
            this._strings.uniqueCount ++;
        }

        this._strings.count ++;

        return result;
    };

    Worksheet.prototype._lookupStyle = function _lookupStyle (style) {
        var json = JSON.stringify(style);

        if (json === "{}") {
            return 0;
        }

        var index = indexOf(json, this._styles);

      if (index < 0) {
          index = this._styles.push(json) - 1;
      }

      // There is one default style
      return index + 1;
  };

  Worksheet.prototype._lookupBorder = function _lookupBorder (border) {
      var json = JSON.stringify(border);
      if (json === "{}") {
          return;
      }

      var index = indexOf(json, this._borders);
      if (index < 0) {
          index = this._borders.push(json) - 1;
      }

      // There is one default border
      return index + 1;
  };

  Worksheet.prototype._readCells = function _readCells (rowData) {
        var this$1 = this;

      for (var i = 0; i < rowData.length; i++) {
          var row = rowData[i];
          var cells = row.cells;

          row.data = [];

          for (var j = 0; j < cells.length; j++) {
              var cellData = this$1._cell(cells[j], row.index, j);
                if (cellData) {
                    row.data.push(cellData);
                }
            }
        }
    };

    Worksheet.prototype._cell = function _cell (data, rowIndex, cellIndex) {
        if (!data || data === EMPTY_CELL) {
            return null;
        }

        var value = data.value;

      var border = {};

      if (data.borderLeft) {
          border.left = data.borderLeft;
      }

      if (data.borderRight) {
          border.right = data.borderRight;
      }

      if (data.borderTop) {
          border.top = data.borderTop;
      }

      if (data.borderBottom) {
          border.bottom = data.borderBottom;
      }

      border = this._lookupBorder(border);

      var defStyle = this.options.defaultCellStyle || {};
        var style = { borderId: border };

      (function(add) {
          add("color");
          add("background");
            add("bold");
            add("italic");
            add("underline");
          if (!add("fontFamily")) { add("fontName", "fontFamily"); }
          add("fontSize");
            add("format");
          if (!add("textAlign")) { add("hAlign", "textAlign"); }
          if (!add("verticalAlign")) { add("vAlign", "verticalAlign"); }
            add("wrap");
            add("indent");
        })(
            function(prop, target) {
                var val = data[prop];
                if (val === undefined) {
                    val = defStyle[prop];
                }
                if (val !== undefined) {
                    style[target || prop] = val;
                    return true;
                }
            }
        );

        var columns = this.options.columns || [];

      var column = columns[cellIndex];
      var type = typeof value;

      if (column && column.autoWidth) {
          var displayValue = value;

          // XXX: let's not bring kendo.toString in only for this.
          //    better wait until the spreadsheet engine is available as a separate
          //    component, then we can use a real Excel-like formatter.
          //
          if (type === "number") {
              // kendo.toString will not behave exactly like the Excel format
                // Still, it's the best we have available for estimating the character count.
              displayValue = IntlService.toString(value, data.format);
          }

            column.width = Math.max(column.width || 0, String(displayValue).length);
      }

      if (type === "string") {
          value = stripFunnyChars(value);
          value = this._lookupString(value);
          type = "s";
      } else if (type === "number") {
          type = "n";
      } else if (type === "boolean") {
          type = "b";
          value = Number(value);
      } else if (value && value.getTime) {
            type = null;
            value = dateToSerial(value);
            if (!style.format) {
                style.format = "mm-dd-yy";
            }
        } else {
          type = null;
          value = null;
      }

      style = this._lookupStyle(style);

      var cellName = ref(rowIndex, cellIndex);

      if (data.validation) {
          this._addValidation(data.validation, cellName);
      }

      return {
          value: value,
            formula: data.formula,
            type: type,
            style: style,
            ref: cellName
        };
    };

    Worksheet.prototype._addValidation = function _addValidation (v, ref) {
        var tmp = {
            showErrorMessage : v.type === "reject" ? 1 : 0,
            formula1         : v.from,
            formula2         : v.to,
            type             : MAP_EXCEL_TYPE[v.dataType] || v.dataType,
            operator         : MAP_EXCEL_OPERATOR[v.comparerType] || v.comparerType,
            allowBlank       : v.allowNulls ? 1 : 0,
            showDropDown     : v.showButton ? 0 : 1, // LOL, Excel!
            error            : v.messageTemplate,
          errorTitle     : v.titleTemplate
      };
      var json = JSON.stringify(tmp);
      if (!this._validations[json]) {
          this._validations[json] = tmp;
          tmp.sqref = [];
      }
      this._validations[json].sqref.push(ref);
  };

var MAP_EXCEL_OPERATOR = {
    // includes only what differs; key is our operator, value is Excel
    // operator.
    greaterThanOrEqualTo : "greaterThanOrEqual",
    lessThanOrEqualTo    : "lessThanOrEqual"
};

var MAP_EXCEL_TYPE = {
    number: "decimal"
};

var defaultFormats = {
    "General": 0,
    "0": 1,
    "0.00": 2,
    "#,##0": 3,
    "#,##0.00": 4,
    "0%": 9,
    "0.00%": 10,
    "0.00E+00": 11,
    "# ?/?": 12,
    "# ??/??": 13,
    "mm-dd-yy": 14,
    "d-mmm-yy": 15,
    "d-mmm": 16,
    "mmm-yy": 17,
    "h:mm AM/PM": 18,
    "h:mm:ss AM/PM": 19,
    "h:mm": 20,
    "h:mm:ss": 21,
    "m/d/yy h:mm": 22,
    "#,##0 ;(#,##0)": 37,
    "#,##0 ;[Red](#,##0)": 38,
    "#,##0.00;(#,##0.00)": 39,
    "#,##0.00;[Red](#,##0.00)": 40,
    "mm:ss": 45,
    "[h]:mm:ss": 46,
    "mmss.0": 47,
    "##0.0E+0": 48,
    "@": 49,
    "[$-404]e/m/d": 27,
    "m/d/yy": 30,
    "t0": 59,
    "t0.00": 60,
    "t#,##0": 61,
    "t#,##0.00": 62,
    "t0%": 67,
    "t0.00%": 68,
    "t# ?/?": 69,
    "t# ??/??": 70
};

function convertColor(value) {
    var color = value;
    if (color.length < 6) {
        color = color.replace(/(\w)/g, function($0, $1) {
            return $1 + $1;
        });
    }

    color = color.substring(1).toUpperCase();

    if (color.length < 8) {
        color = "FF" + color;
    }

    return color;
}

var Workbook = function Workbook(options) {
      var this$1 = this;

      this.options = options || {};
      this._strings = {
          indexes: {},
          count: 0,
          uniqueCount: 0
      };
      this._styles = [];
      this._borders = [];

      this._sheets = map(this.options.sheets || [], function (options) {
          options.defaults = this$1.options;
          return new Worksheet(options, this$1._strings, this$1._styles, this$1._borders);
      });
  };

  Workbook.prototype.toZIP = function toZIP () {
        var this$1 = this;

      var zip = createZip();

      var docProps = zip.folder("docProps");

      docProps.file("core.xml", CORE({
          creator: this.options.creator || "Kendo UI",
          lastModifiedBy: this.options.creator || "Kendo UI",
          created: this.options.date || new Date().toJSON(),
          modified: this.options.date || new Date().toJSON()
      }));

      var sheetCount = this._sheets.length;

      docProps.file("app.xml", APP({ sheets: this._sheets }));

      var rels = zip.folder("_rels");
      rels.file(".rels", RELS);

      var xl = zip.folder("xl");

      var xlRels = xl.folder("_rels");
      xlRels.file("workbook.xml.rels", WORKBOOK_RELS({ count: sheetCount }));

      var sheetIds = {};

      xl.file("workbook.xml", WORKBOOK({
          sheets: this._sheets,
          filterNames: map(this._sheets, function(sheet, index) {
              var options = sheet.options;
              var sheetName = (options.name || options.title || "Sheet" + (index + 1));
              sheetIds[sheetName.toLowerCase()] = index;
              var filter = options.filter;
              if (filter) {
                  if (filter.ref) {
                      // spreadsheet provides `ref`
                      var a = filter.ref.split(":");
                      var from = parseRef(a[0]);
                      var to = parseRef(a[1]);
                      return {
                          localSheetId: index,
                          name: sheetName,
                          from: $ref(from.row, from.col),
                          to: $ref(to.row, to.col)
                      };
                  } else if (typeof filter.from !== "undefined" && typeof filter.to !== "undefined") {
                      // grid does this
                      return {
                          localSheetId: index,
                          name: sheetName,
                            from: $ref(filterRowIndex(options), filter.from),
                            to: $ref(filterRowIndex(options), filter.to)
                        };
                    }
                }
            }),
            userNames: map(this.options.names || [], function(def) {
                return {
                    name: def.localName,
                    localSheetId: def.sheet ? sheetIds[def.sheet.toLowerCase()] : null,
                    value: def.value,
                    hidden: def.hidden
                };
            })
        }));

        var worksheets = xl.folder("worksheets");

      var sheetRels = worksheets.folder("_rels");

      for (var idx = 0; idx < sheetCount; idx++) {
          var sheet = this$1._sheets[idx];
          var sheetName = "sheet" + (idx + 1) + ".xml";
          var relsXml = sheet.relsToXML();

          if (relsXml) {
              sheetRels.file(sheetName + ".rels", relsXml);
          }

          worksheets.file(sheetName, sheet.toXML(idx));
      }

      var borders = map(this._borders, parseJSON);

      var styles = map(this._styles, parseJSON);

      var hasFont = function(style) {
          return style.underline || style.bold || style.italic || style.color || style.fontFamily || style.fontSize;
      };

      var convertFontSize = function(value) {
            var fontInPx = Number(value);
            var fontInPt;

            if (fontInPx) {
                fontInPt = fontInPx * 3 / 4;
            }

            return fontInPt;
        };

        var fonts = map(styles, function(style) {
            if (style.fontSize) {
              style.fontSize = convertFontSize(style.fontSize);
          }

          if (style.color) {
              style.color = convertColor(style.color);
          }

          if (hasFont(style)) {
              return style;
          }
      });

      var formats = map(styles, function(style) {
            if (style.format && defaultFormats[style.format] === undefined) {
              return style;
          }
        });

        var fills = map(styles, function(style) {
          if (style.background) {
              style.background = convertColor(style.background);
                return style;
            }
        });

        xl.file("styles.xml", STYLES({
          fonts: fonts,
          fills: fills,
          formats: formats,
            borders: borders,
          styles: map(styles, function(style) {
              var result = {};

              if (hasFont(style)) {
                    result.fontId = indexOf(style, fonts) + 1;
                }

                if (style.background) {
                    result.fillId = indexOf(style, fills) + 2;
                }

                result.textAlign = style.textAlign;
                result.indent = style.indent;
                result.verticalAlign = style.verticalAlign;
                result.wrap = style.wrap;
                result.borderId = style.borderId;

              if (style.format) {
                  if (defaultFormats[style.format] !== undefined) {
                      result.numFmtId = defaultFormats[style.format];
                  } else {
                      result.numFmtId = 165 + indexOf(style, formats);
                  }
              }

              return result;
          })
      }));

      xl.file("sharedStrings.xml", SHARED_STRINGS(this._strings));

      zip.file("[Content_Types].xml", CONTENT_TYPES( { count: sheetCount }));

        return zip;
    };

    Workbook.prototype.toDataURL = function toDataURL () {
        var zip = this.toZIP();

      return zip.generateAsync ? zip.generateAsync(DATA_URL_OPTIONS).then(toDataURI) : toDataURI(zip.generate(DATA_URL_OPTIONS));
  };

function borderStyle(width) {
    var alias = "thin";

    if (width === 2) {
        alias = "medium";
    } else if (width === 3) {
        alias = "thick";
    }

    return alias;
}

function borderSideTemplate(name, style) {
    var result = "";

    if (style) {
        result += "<" + name + " style=\"" + borderStyle(style.size) + "\">";
        if (style.color) {
            result += "<color rgb=\"" + convertColor(style.color) + "\"/>";
        }
        result += "</" + name + ">";
    }

    return result;
}

function borderTemplate(border) {
    return "<border>" +
       borderSideTemplate("left", border.left) +
       borderSideTemplate("right", border.right) +
       borderSideTemplate("top", border.top) +
       borderSideTemplate("bottom", border.bottom) +
   "</border>";
}

var EMPTY_CELL = {};
function inflate(rows, mergedCells) {
    var rowData = [];
    var rowsByIndex = [];

    indexRows(rows, function(row, index) {
        var data = {
            _source: row,
            index: index,
            height: row.height,
            level: row.level,
            cells: []
        };

        rowData.push(data);
        rowsByIndex[index] = data;
    });

    var sorted = sortByIndex(rowData).slice(0);
    var ctx = {
        rowData: rowData,
        rowsByIndex: rowsByIndex,
        mergedCells: mergedCells
    };

    for (var i = 0; i < sorted.length; i++) {
        fillCells(sorted[i], ctx);
        delete sorted[i]._source;
    }

    return sortByIndex(rowData);
}

function indexRows(rows, callback) {
    for (var i = 0; i < rows.length; i++) {
        var row = rows[i];
        if (!row) {
            continue;
        }

        var index = row.index;
        if (typeof index !== "number") {
            index = i;
        }

        callback(row, index);
    }
}

function sortByIndex(items) {
    return items.sort(function(a, b) {
        return a.index - b.index;
    });
}

function pushUnique(array, el) {
    if (array.indexOf(el) < 0) {
        array.push(el);
    }
}

function getSpan(mergedCells, ref) {
    for (var i = 0; i < mergedCells.length; ++i) {
        var range = mergedCells[i];
        var a = range.split(":");
        var topLeft = a[0];
        if (topLeft === ref) {
            var bottomRight = a[1];
            topLeft = parseRef(topLeft);
            bottomRight = parseRef(bottomRight);
            return {
                rowSpan: bottomRight.row - topLeft.row + 1,
                colSpan: bottomRight.col - topLeft.col + 1
            };
        }
    }
}

function parseRef(ref) {
    function getcol(str) {
        var upperStr = str.toUpperCase();
        var col = 0;
        for (var i = 0; i < upperStr.length; ++i) {
            col = col * 26 + upperStr.charCodeAt(i) - 64;
        }
        return col - 1;
    }

    function getrow(str) {
        return parseInt(str, 10) - 1;
    }

    var m = /^([a-z]+)(\d+)$/i.exec(ref);
    return {
        row: getrow(m[2]),
        col: getcol(m[1])
    };
}

function fillCells(data, ctx) {
    var row = data._source;
    var rowIndex = data.index;
    var cells = row.cells;
    var cellData = data.cells;

    if (!cells) {
        return;
    }

    for (var i = 0; i < cells.length; i++) {
        var cell = cells[i] || EMPTY_CELL;

        var rowSpan = cell.rowSpan || 1;
        var colSpan = cell.colSpan || 1;

        var cellIndex = insertCell(cellData, cell);
        var topLeftRef = ref(rowIndex, cellIndex);

        if (rowSpan === 1 && colSpan === 1) {
            // could still be merged: the spreadsheet does not send
            // rowSpan/colSpan, but mergedCells is already populated.
            // https://github.com/telerik/kendo-ui-core/issues/2401
            var tmp = getSpan(ctx.mergedCells, topLeftRef);
            if (tmp) {
                colSpan = tmp.colSpan;
                rowSpan = tmp.rowSpan;
            }
        }

        spanCell(cell, cellData, cellIndex, colSpan);

        if (rowSpan > 1 || colSpan > 1) {
            pushUnique(ctx.mergedCells,
                       topLeftRef + ":" + ref(rowIndex + rowSpan - 1,
                                              cellIndex + colSpan - 1));
        }

        if (rowSpan > 1) {
            for (var ri = rowIndex + 1; ri < rowIndex + rowSpan; ri++) {
                var nextRow = ctx.rowsByIndex[ri];
                if (!nextRow) {
                    nextRow = ctx.rowsByIndex[ri] = { index: ri, cells: [] };
                    ctx.rowData.push(nextRow);
                }

                spanCell(cell, nextRow.cells, cellIndex - 1, colSpan + 1);
            }
        }
    }
}

function insertCell(data, cell) {
    var index;

    if (typeof cell.index === "number") {
        index = cell.index;
        insertCellAt(data, cell, cell.index);
    } else {
        index = appendCell(data, cell);
    }

    return index;
}

function insertCellAt(data, cell, index) {
    data[index] = cell;
}

function appendCell(data, cell) {
    var index = data.length;

    for (var i = 0; i < data.length + 1; i++) {
        if (!data[i]) {
            data[i] = cell;
            index = i;
            break;
        }
    }

    return index;
}

function spanCell(cell, row, startIndex, colSpan) {
    for (var i = 1; i < colSpan; i++) {
        var tmp = {
            borderTop    : cell.borderTop,
            borderRight  : cell.borderRight,
            borderBottom : cell.borderBottom,
            borderLeft   : cell.borderLeft
        };
        insertCellAt(row, tmp, startIndex + i);
    }
}

var SPREADSHEET_FILTERS = function (ref$1) {
  var ref = ref$1.ref;
  var columns = ref$1.columns;
  var generators = ref$1.generators;

  return ("\n<autoFilter ref=\"" + ref + "\">\n  " + (foreach(columns, function (col) { return ("\n    <filterColumn colId=\"" + (col.index) + "\">\n      " + (generators[col.filter](col)) + "\n    </filterColumn>\n  "); })) + "\n</autoFilter>");
};

var SPREADSHEET_CUSTOM_FILTER = function (ref) {
  var logic = ref.logic;
  var criteria = ref.criteria;

  return ("\n<customFilters " + (logic === 'and' ? 'and="1"' : '') + ">\n" + (foreach(criteria, function (f) {
    var op = spreadsheetFilters.customOperator(f);
    var val = spreadsheetFilters.customValue(f);
    return ("<customFilter " + (op ? ("operator=\"" + op + "\"") : '') + " val=\"" + val + "\"/>");
})) + "\n</customFilters>");
};

var SPREADSHEET_DYNAMIC_FILTER = function (ref) {
  var type = ref.type;

  return ("<dynamicFilter type=\"" + (spreadsheetFilters.dynamicFilterType(type)) + "\" />");
};

var SPREADSHEET_TOP_FILTER = function (ref) {
  var type = ref.type;
  var value = ref.value;

  return ("<top10 percent=\"" + (/percent$/i.test(type) ? 1 : 0) + "\"\n       top=\"" + (/^top/i.test(type) ? 1 : 0) + "\"\n       val=\"" + value + "\" />");
};

var SPREADSHEET_VALUE_FILTER = function (ref) {
    var blanks = ref.blanks;
    var values = ref.values;

    return ("<filters " + (blanks ? 'blank="1"' : '') + ">\n    " + (foreach(values, function (value) { return ("\n      <filter val=\"" + value + "\" />"); })) + "\n  </filters>");
};

function spreadsheetFilters(filter) {
    return SPREADSHEET_FILTERS({
        ref: filter.ref,
        columns: filter.columns,
        generators: {
            custom  : SPREADSHEET_CUSTOM_FILTER,
            dynamic : SPREADSHEET_DYNAMIC_FILTER,
            top     : SPREADSHEET_TOP_FILTER,
            value   : SPREADSHEET_VALUE_FILTER
        }
    });
}

spreadsheetFilters.customOperator = function(f) {
    return {
        eq  : "equal",
        gt  : "greaterThan",
        gte : "greaterThanOrEqual",
        lt  : "lessThan",
        lte : "lessThanOrEqual",
        ne  : "notEqual",

        // These are not in the spec, but seems to be how Excel does
        // it (see customValue below).  For the non-negated versions,
        // the operator attribute is missing completely.
        doesnotstartwith: "notEqual",
        doesnotendwith: "notEqual",
        doesnotcontain: "notEqual",
        doesnotmatch: "notEqual"
    }[f.operator.toLowerCase()];
};

spreadsheetFilters.customValue = function(f) {
    function esc(str) {
        return str.replace(/([*?])/g, "~$1");
    }

    switch (f.operator.toLowerCase()) {
        case "startswith":
        case "doesnotstartwith":
            return esc(f.value) + "*";

        case "endswith":
        case "doesnotendwith":
            return "*" + esc(f.value);

        case "contains":
        case "doesnotcontain":
            return "*" + esc(f.value) + "*";

        default:
            return f.value;
    }
};

spreadsheetFilters.dynamicFilterType = function(type) {
    return {
        quarter1  : "Q1",
        quarter2  : "Q2",
        quarter3  : "Q3",
        quarter4  : "Q4",
        january   : "M1",
        february  : "M2",
        march     : "M3",
        april     : "M4",
        may       : "M5",
        june      : "M6",
        july      : "M7",
        august    : "M8",
        september : "M9",
        october   : "M10",
        november  : "M11",
        december  : "M12"
    }[type.toLowerCase()] || type;
};

exports.ExcelExporter = ExcelExporter;
exports.IntlService = IntlService;
exports.TemplateService = TemplateService;
exports.Workbook = Workbook;
exports.Worksheet = Worksheet;

//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjpudWxsLCJzb3VyY2VzIjpbIi91c3IvbG9jYWwvamVua2lucy93b3Jrc3BhY2Uva2VuZG8tb294bWxfcmVsZWFzZS9zcmMvc2VydmljZXMvdGVtcGxhdGUtc2VydmljZS5qcyIsIi91c3IvbG9jYWwvamVua2lucy93b3Jrc3BhY2Uva2VuZG8tb294bWxfcmVsZWFzZS9zcmMvdXRpbHMvZ2V0dGVyLmpzIiwiL3Vzci9sb2NhbC9qZW5raW5zL3dvcmtzcGFjZS9rZW5kby1vb3htbF9yZWxlYXNlL3NyYy91dGlscy9tYXAuanMiLCIvdXNyL2xvY2FsL2plbmtpbnMvd29ya3NwYWNlL2tlbmRvLW9veG1sX3JlbGVhc2Uvc3JjL2V4Y2VsLWV4cG9ydGVyLmpzIiwiL3Vzci9sb2NhbC9qZW5raW5zL3dvcmtzcGFjZS9rZW5kby1vb3htbF9yZWxlYXNlL3NyYy9zZXJ2aWNlcy9pbnRsLXNlcnZpY2UuanMiLCIvdXNyL2xvY2FsL2plbmtpbnMvd29ya3NwYWNlL2tlbmRvLW9veG1sX3JlbGVhc2Uvc3JjL3V0aWxzL2NyZWF0ZS16aXAuanMiLCIvdXNyL2xvY2FsL2plbmtpbnMvd29ya3NwYWNlL2tlbmRvLW9veG1sX3JlbGVhc2Uvc3JjL3V0aWxzL3RpbWUuanMiLCIvdXNyL2xvY2FsL2plbmtpbnMvd29ya3NwYWNlL2tlbmRvLW9veG1sX3JlbGVhc2Uvc3JjL29veG1sLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImxldCBjdXJyZW50ID0ge1xuICAgIGNvbXBpbGU6IGZ1bmN0aW9uKHRlbXBsYXRlKSB7XG4gICAgICAgIHJldHVybiB0ZW1wbGF0ZTtcbiAgICB9XG59O1xuXG5jbGFzcyBUZW1wbGF0ZVNlcnZpY2Uge1xuICAgIHN0YXRpYyByZWdpc3Rlcih1c2VySW1wbGVtZW50YXRpb24pIHtcbiAgICAgICAgY3VycmVudCA9IHVzZXJJbXBsZW1lbnRhdGlvbjtcbiAgICB9XG5cbiAgICBzdGF0aWMgY29tcGlsZSh0ZW1wbGF0ZSkge1xuICAgICAgICByZXR1cm4gY3VycmVudC5jb21waWxlKHRlbXBsYXRlKTtcbiAgICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IFRlbXBsYXRlU2VydmljZTsiLCJjb25zdCBGSUVMRF9SRUdFWCA9IC9cXFsoPzooXFxkKyl8WydcIl0oLio/KVsnXCJdKVxcXXwoKD86KD8hXFxbLio/XFxdfFxcLikuKSspL2c7XG5jb25zdCBnZXR0ZXJDYWNoZSA9IHt9O1xuY29uc3QgVU5ERUZJTkVEID0gJ3VuZGVmaW5lZCc7XG5cbmdldHRlckNhY2hlW1VOREVGSU5FRF0gPSBmdW5jdGlvbihvYmopIHtcbiAgICByZXR1cm4gb2JqO1xufTtcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gZ2V0dGVyKGZpZWxkKSB7XG4gICAgaWYgKGdldHRlckNhY2hlW2ZpZWxkXSkge1xuICAgICAgICByZXR1cm4gZ2V0dGVyQ2FjaGVbZmllbGRdO1xuICAgIH1cblxuICAgIGNvbnN0IGZpZWxkcyA9IFtdO1xuICAgIGZpZWxkLnJlcGxhY2UoRklFTERfUkVHRVgsIGZ1bmN0aW9uKG1hdGNoLCBpbmRleCwgaW5kZXhBY2Nlc3NvciwgZmllbGQpIHtcbiAgICAgICAgZmllbGRzLnB1c2godHlwZW9mIGluZGV4ICE9PSBVTkRFRklORUQgPyBpbmRleCA6IChpbmRleEFjY2Vzc29yIHx8IGZpZWxkKSk7XG4gICAgfSk7XG5cbiAgICBnZXR0ZXJDYWNoZVtmaWVsZF0gPSBmdW5jdGlvbihvYmopIHtcbiAgICAgICAgbGV0IHJlc3VsdCA9IG9iajtcbiAgICAgICAgZm9yIChsZXQgaWR4ID0gMDsgaWR4IDwgZmllbGRzLmxlbmd0aCAmJiByZXN1bHQ7IGlkeCsrKSB7XG4gICAgICAgICAgICByZXN1bHQgPSByZXN1bHRbZmllbGRzW2lkeF1dO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9O1xuXG4gICAgcmV0dXJuIGdldHRlckNhY2hlW2ZpZWxkXTtcbn0iLCJleHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBtYXAoYXJyYXksIGZ1bmMpIHtcbiAgICByZXR1cm4gYXJyYXkucmVkdWNlKChyZXN1bHQsIGVsLCBpKSA9PiB7XG4gICAgICAgIGNvbnN0IHZhbCA9IGZ1bmMoZWwsIGkpO1xuICAgICAgICBpZiAodmFsICE9IG51bGwpIHtcbiAgICAgICAgICAgIHJlc3VsdC5wdXNoKHZhbCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9LCBbXSk7XG59IiwiaW1wb3J0IFRlbXBsYXRlU2VydmljZSBmcm9tICcuL3NlcnZpY2VzL3RlbXBsYXRlLXNlcnZpY2UnO1xuaW1wb3J0IGdldHRlciBmcm9tICcuL3V0aWxzL2dldHRlcic7XG5pbXBvcnQgbWFwIGZyb20gJy4vdXRpbHMvbWFwJztcblxuZnVuY3Rpb24gZGVmYXVsdEdyb3VwSGVhZGVyVGVtcGxhdGUoZGF0YSkge1xuICAgIHJldHVybiBgJHsgZGF0YS50aXRsZSB9OiAkeyBkYXRhLnZhbHVlIH1gO1xufVxuXG5mdW5jdGlvbiBjcmVhdGVBcnJheShsZW5ndGgsIGNhbGxiYWNrKSB7XG4gICAgY29uc3QgcmVzdWx0ID0gW107XG5cbiAgICBmb3IgKGxldCBpZHggPSAwOyBpZHggPCBsZW5ndGg7IGlkeCsrKSB7XG4gICAgICAgIHJlc3VsdC5wdXNoKGNhbGxiYWNrKGlkeCkpO1xuICAgIH1cblxuICAgIHJldHVybiByZXN1bHQ7XG59XG5cbmNsYXNzIEV4Y2VsRXhwb3J0ZXIge1xuICAgIGNvbnN0cnVjdG9yKG9wdGlvbnMpIHtcbiAgICAgICAgb3B0aW9ucy5jb2x1bW5zID0gdGhpcy5fdHJpbUNvbHVtbnMob3B0aW9ucy5jb2x1bW5zIHx8IFtdKTtcblxuICAgICAgICB0aGlzLmFsbENvbHVtbnMgPSBtYXAodGhpcy5fbGVhZkNvbHVtbnMob3B0aW9ucy5jb2x1bW5zIHx8IFtdKSwgdGhpcy5fcHJlcGFyZUNvbHVtbik7XG5cbiAgICAgICAgdGhpcy5jb2x1bW5zID0gdGhpcy5hbGxDb2x1bW5zLmZpbHRlcihmdW5jdGlvbihjb2x1bW4pIHsgcmV0dXJuICFjb2x1bW4uaGlkZGVuOyB9KTtcblxuICAgICAgICB0aGlzLm9wdGlvbnMgPSBvcHRpb25zO1xuICAgICAgICB0aGlzLmRhdGEgPSBvcHRpb25zLmRhdGEgfHwgW107XG4gICAgICAgIHRoaXMuYWdncmVnYXRlcyA9IG9wdGlvbnMuYWdncmVnYXRlcyB8fCB7fTtcbiAgICAgICAgdGhpcy5ncm91cHMgPSBbXS5jb25jYXQob3B0aW9ucy5ncm91cHMgfHwgW10pO1xuICAgICAgICB0aGlzLmhpZXJhcmNoeSA9IG9wdGlvbnMuaGllcmFyY2h5O1xuICAgIH1cblxuICAgIHdvcmtib29rKCkge1xuICAgICAgICBjb25zdCB3b3JrYm9vayA9IHtcbiAgICAgICAgICAgIHNoZWV0czogWyB7XG4gICAgICAgICAgICAgICAgY29sdW1uczogdGhpcy5fY29sdW1ucygpLFxuICAgICAgICAgICAgICAgIHJvd3M6IHRoaXMuaGllcmFyY2h5ID8gdGhpcy5faGllcmFyY2h5Um93cygpIDogdGhpcy5fcm93cygpLFxuICAgICAgICAgICAgICAgIGZyZWV6ZVBhbmU6IHRoaXMuX2ZyZWV6ZVBhbmUoKSxcbiAgICAgICAgICAgICAgICBmaWx0ZXI6IHRoaXMuX2ZpbHRlcigpXG4gICAgICAgICAgICB9IF1cbiAgICAgICAgfTtcblxuICAgICAgICByZXR1cm4gd29ya2Jvb2s7XG4gICAgfVxuXG4gICAgX3RyaW1Db2x1bW5zKGNvbHVtbnMpIHtcbiAgICAgICAgcmV0dXJuIGNvbHVtbnMuZmlsdGVyKChjb2x1bW4pID0+IHtcbiAgICAgICAgICAgIGxldCByZXN1bHQgPSBCb29sZWFuKGNvbHVtbi5maWVsZCk7XG5cbiAgICAgICAgICAgIGlmICghcmVzdWx0ICYmIGNvbHVtbi5jb2x1bW5zKSB7XG4gICAgICAgICAgICAgICAgcmVzdWx0ID0gdGhpcy5fdHJpbUNvbHVtbnMoY29sdW1uLmNvbHVtbnMpLmxlbmd0aCA+IDA7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIF9sZWFmQ29sdW1ucyhjb2x1bW5zKSB7XG4gICAgICAgIGxldCByZXN1bHQgPSBbXTtcblxuICAgICAgICBmb3IgKGxldCBpZHggPSAwOyBpZHggPCBjb2x1bW5zLmxlbmd0aDsgaWR4KyspIHtcbiAgICAgICAgICAgIGlmICghY29sdW1uc1tpZHhdLmNvbHVtbnMpIHtcbiAgICAgICAgICAgICAgICByZXN1bHQucHVzaChjb2x1bW5zW2lkeF0pO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICByZXN1bHQgPSByZXN1bHQuY29uY2F0KHRoaXMuX2xlYWZDb2x1bW5zKGNvbHVtbnNbaWR4XS5jb2x1bW5zKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIF9wcmVwYXJlQ29sdW1uKGNvbHVtbikge1xuICAgICAgICBpZiAoIWNvbHVtbi5maWVsZCkge1xuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH1cblxuICAgICAgICBsZXQgdmFsdWUgPSBmdW5jdGlvbihkYXRhSXRlbSkge1xuICAgICAgICAgICAgcmV0dXJuIGdldHRlcihjb2x1bW4uZmllbGQsIHRydWUpKGRhdGFJdGVtKTtcbiAgICAgICAgfTtcblxuICAgICAgICBsZXQgdmFsdWVzID0gbnVsbDtcblxuICAgICAgICBpZiAoY29sdW1uLnZhbHVlcykge1xuICAgICAgICAgICAgdmFsdWVzID0ge307XG5cbiAgICAgICAgICAgIGNvbHVtbi52YWx1ZXMuZm9yRWFjaChmdW5jdGlvbihpdGVtKSB7XG4gICAgICAgICAgICAgICAgdmFsdWVzW2l0ZW0udmFsdWVdID0gaXRlbS50ZXh0O1xuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIHZhbHVlID0gZnVuY3Rpb24oZGF0YUl0ZW0pIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdmFsdWVzW2dldHRlcihjb2x1bW4uZmllbGQsIHRydWUpKGRhdGFJdGVtKV07XG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oe30sIGNvbHVtbiwge1xuICAgICAgICAgICAgdmFsdWU6IHZhbHVlLFxuICAgICAgICAgICAgdmFsdWVzOiB2YWx1ZXMsXG4gICAgICAgICAgICBncm91cEhlYWRlclRlbXBsYXRlOiBjb2x1bW4uZ3JvdXBIZWFkZXJUZW1wbGF0ZSA/IFRlbXBsYXRlU2VydmljZS5jb21waWxlKGNvbHVtbi5ncm91cEhlYWRlclRlbXBsYXRlKSA6IGRlZmF1bHRHcm91cEhlYWRlclRlbXBsYXRlLFxuICAgICAgICAgICAgZ3JvdXBGb290ZXJUZW1wbGF0ZTogY29sdW1uLmdyb3VwRm9vdGVyVGVtcGxhdGUgPyBUZW1wbGF0ZVNlcnZpY2UuY29tcGlsZShjb2x1bW4uZ3JvdXBGb290ZXJUZW1wbGF0ZSkgOiBudWxsLFxuICAgICAgICAgICAgZm9vdGVyVGVtcGxhdGU6IGNvbHVtbi5mb290ZXJUZW1wbGF0ZSA/IFRlbXBsYXRlU2VydmljZS5jb21waWxlKGNvbHVtbi5mb290ZXJUZW1wbGF0ZSkgOiBudWxsXG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIF9maWx0ZXIoKSB7XG4gICAgICAgIGlmICghdGhpcy5vcHRpb25zLmZpbHRlcmFibGUpIHtcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgZGVwdGggPSB0aGlzLl9kZXB0aCgpO1xuXG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBmcm9tOiBkZXB0aCxcbiAgICAgICAgICAgIHRvOiBkZXB0aCArIHRoaXMuY29sdW1ucy5sZW5ndGggLSAxXG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgX2NyZWF0ZVBhZGRpbmdDZWxscyhsZW5ndGgpIHtcbiAgICAgICAgcmV0dXJuIGNyZWF0ZUFycmF5KGxlbmd0aCwgKCkgPT4gT2JqZWN0LmFzc2lnbih7XG4gICAgICAgICAgICBiYWNrZ3JvdW5kOiBcIiNkZmRmZGZcIixcbiAgICAgICAgICAgIGNvbG9yOiBcIiMzMzNcIlxuICAgICAgICB9LCB0aGlzLm9wdGlvbnMucGFkZGluZ0NlbGxPcHRpb25zKSk7XG4gICAgfVxuXG4gICAgX2RhdGFSb3coZGF0YUl0ZW0sIGxldmVsLCBkZXB0aCkge1xuICAgICAgICBjb25zdCBjZWxscyA9IHRoaXMuX2NyZWF0ZVBhZGRpbmdDZWxscyhsZXZlbCk7XG5cbiAgICAgICAgLy8gZ3JvdXBlZFxuICAgICAgICBpZiAoZGVwdGggJiYgZGF0YUl0ZW0uaXRlbXMpIHtcbiAgICAgICAgICAgIGNvbnN0IGNvbHVtbiA9IHRoaXMuYWxsQ29sdW1ucy5maWx0ZXIoZnVuY3Rpb24oY29sdW1uKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGNvbHVtbi5maWVsZCA9PT0gZGF0YUl0ZW0uZmllbGQ7XG4gICAgICAgICAgICB9KVswXTtcblxuICAgICAgICAgICAgY29uc3QgdGl0bGUgPSBjb2x1bW4gJiYgY29sdW1uLnRpdGxlID8gY29sdW1uLnRpdGxlIDogZGF0YUl0ZW0uZmllbGQ7XG4gICAgICAgICAgICBjb25zdCB0ZW1wbGF0ZSA9IGNvbHVtbiA/IGNvbHVtbi5ncm91cEhlYWRlclRlbXBsYXRlIDogbnVsbDtcbiAgICAgICAgICAgIGNvbnN0IGdyb3VwID0gT2JqZWN0LmFzc2lnbih7XG4gICAgICAgICAgICAgICAgdGl0bGU6IHRpdGxlLFxuICAgICAgICAgICAgICAgIGZpZWxkOiBkYXRhSXRlbS5maWVsZCxcbiAgICAgICAgICAgICAgICB2YWx1ZTogY29sdW1uICYmIGNvbHVtbi52YWx1ZXMgPyBjb2x1bW4udmFsdWVzW2RhdGFJdGVtLnZhbHVlXSA6IGRhdGFJdGVtLnZhbHVlLFxuICAgICAgICAgICAgICAgIGFnZ3JlZ2F0ZXM6IGRhdGFJdGVtLmFnZ3JlZ2F0ZXMsXG4gICAgICAgICAgICAgICAgaXRlbXM6IGRhdGFJdGVtLml0ZW1zXG4gICAgICAgICAgICB9LCBkYXRhSXRlbS5hZ2dyZWdhdGVzW2RhdGFJdGVtLmZpZWxkXSk7XG5cbiAgICAgICAgICAgIGxldCB2YWx1ZSA9IGAkeyB0aXRsZSB9OiAkeyBkYXRhSXRlbS52YWx1ZSB9YDtcblxuICAgICAgICAgICAgaWYgKHRlbXBsYXRlKSB7XG4gICAgICAgICAgICAgICAgdmFsdWUgPSB0ZW1wbGF0ZShncm91cCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGNlbGxzLnB1c2goT2JqZWN0LmFzc2lnbih7XG4gICAgICAgICAgICAgICAgdmFsdWU6IHZhbHVlLFxuICAgICAgICAgICAgICAgIGJhY2tncm91bmQ6IFwiI2RmZGZkZlwiLFxuICAgICAgICAgICAgICAgIGNvbG9yOiBcIiMzMzNcIixcbiAgICAgICAgICAgICAgICBjb2xTcGFuOiB0aGlzLmNvbHVtbnMubGVuZ3RoICsgZGVwdGggLSBsZXZlbFxuICAgICAgICAgICAgfSwgKGNvbHVtbiB8fCB7fSkuZ3JvdXBIZWFkZXJDZWxsT3B0aW9ucykpO1xuXG4gICAgICAgICAgICBjb25zdCByb3dzID0gdGhpcy5fZGF0YVJvd3MoZGF0YUl0ZW0uaXRlbXMsIGxldmVsICsgMSk7XG5cbiAgICAgICAgICAgIHJvd3MudW5zaGlmdCh7XG4gICAgICAgICAgICAgICAgdHlwZTogXCJncm91cC1oZWFkZXJcIixcbiAgICAgICAgICAgICAgICBjZWxsczogY2VsbHMsXG4gICAgICAgICAgICAgICAgbGV2ZWw6IHRoaXMub3B0aW9ucy5jb2xsYXBzaWJsZSA/IGxldmVsIDogbnVsbFxuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIHJldHVybiByb3dzLmNvbmNhdCh0aGlzLl9mb290ZXIoZGF0YUl0ZW0sIGxldmVsKSk7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBkYXRhQ2VsbHMgPSBbXTtcblxuICAgICAgICBmb3IgKGxldCBjZWxsSWR4ID0gMDsgY2VsbElkeCA8IHRoaXMuY29sdW1ucy5sZW5ndGg7IGNlbGxJZHgrKykge1xuICAgICAgICAgICAgZGF0YUNlbGxzW2NlbGxJZHhdID0gdGhpcy5fY2VsbChkYXRhSXRlbSwgdGhpcy5jb2x1bW5zW2NlbGxJZHhdKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0aGlzLmhpZXJhcmNoeSkge1xuICAgICAgICAgICAgZGF0YUNlbGxzWzBdLmNvbFNwYW4gPSBkZXB0aCAtIGxldmVsICsgMTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBbIHtcbiAgICAgICAgICAgIHR5cGU6IFwiZGF0YVwiLFxuICAgICAgICAgICAgY2VsbHM6IGNlbGxzLmNvbmNhdChkYXRhQ2VsbHMpLFxuICAgICAgICAgICAgbGV2ZWw6IHRoaXMub3B0aW9ucy5jb2xsYXBzaWJsZSA/IGxldmVsIDogbnVsbFxuICAgICAgICB9IF07XG4gICAgfVxuXG4gICAgX2RhdGFSb3dzKGRhdGFJdGVtcywgbGV2ZWwpIHtcbiAgICAgICAgY29uc3QgZGVwdGggPSB0aGlzLl9kZXB0aCgpO1xuICAgICAgICBjb25zdCByb3dzID0gW107XG5cbiAgICAgICAgZm9yIChsZXQgaWR4ID0gMDsgaWR4IDwgZGF0YUl0ZW1zLmxlbmd0aDsgaWR4KyspIHtcbiAgICAgICAgICAgIHJvd3MucHVzaC5hcHBseShyb3dzLCB0aGlzLl9kYXRhUm93KGRhdGFJdGVtc1tpZHhdLCBsZXZlbCwgZGVwdGgpKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiByb3dzO1xuICAgIH1cblxuICAgIF9oaWVyYXJjaHlSb3dzKCkge1xuICAgICAgICBjb25zdCBkZXB0aCA9IHRoaXMuX2RlcHRoKCk7XG4gICAgICAgIGNvbnN0IGRhdGEgPSB0aGlzLmRhdGE7XG4gICAgICAgIGNvbnN0IGl0ZW1MZXZlbCA9IHRoaXMuaGllcmFyY2h5Lml0ZW1MZXZlbDtcbiAgICAgICAgY29uc3QgaGFzRm9vdGVyID0gdGhpcy5faGFzRm9vdGVyVGVtcGxhdGUoKTtcbiAgICAgICAgY29uc3Qgcm93cyA9IFtdO1xuICAgICAgICBjb25zdCBwYXJlbnRzID0gW107XG4gICAgICAgIGxldCBwcmV2aW91c0xldmVsID0gMDtcbiAgICAgICAgbGV0IHByZXZpb3VzSXRlbUlkO1xuXG4gICAgICAgIGZvciAobGV0IGlkeCA9IDA7IGlkeCA8IGRhdGEubGVuZ3RoOyBpZHgrKykge1xuICAgICAgICAgICAgY29uc3QgaXRlbSA9IGRhdGFbaWR4XTtcbiAgICAgICAgICAgIGNvbnN0IGxldmVsID0gaXRlbUxldmVsKGl0ZW0pO1xuXG4gICAgICAgICAgICBpZiAoaGFzRm9vdGVyKSB7XG4gICAgICAgICAgICAgICAgaWYgKGxldmVsID4gcHJldmlvdXNMZXZlbCkge1xuICAgICAgICAgICAgICAgICAgICBwYXJlbnRzLnB1c2goeyBpZDogcHJldmlvdXNJdGVtSWQsIGxldmVsOiBwcmV2aW91c0xldmVsIH0pO1xuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAobGV2ZWwgPCBwcmV2aW91c0xldmVsKSB7XG4gICAgICAgICAgICAgICAgICAgIHJvd3MucHVzaC5hcHBseShyb3dzLCB0aGlzLl9oaWVyYXJjaHlGb290ZXJSb3dzKHBhcmVudHMsIGxldmVsLCBkZXB0aCkpO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHByZXZpb3VzTGV2ZWwgPSBsZXZlbDtcbiAgICAgICAgICAgICAgICBwcmV2aW91c0l0ZW1JZCA9IGl0ZW0uaWQ7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJvd3MucHVzaC5hcHBseShyb3dzLCB0aGlzLl9kYXRhUm93KGl0ZW0sIGxldmVsICsgMSwgZGVwdGgpKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChoYXNGb290ZXIpIHtcbiAgICAgICAgICAgIHJvd3MucHVzaC5hcHBseShyb3dzLCB0aGlzLl9oaWVyYXJjaHlGb290ZXJSb3dzKHBhcmVudHMsIDAsIGRlcHRoKSk7XG5cbiAgICAgICAgICAgIGNvbnN0IHJvb3RBZ2dyZWdhdGUgPSBkYXRhLmxlbmd0aCA/IHRoaXMuYWdncmVnYXRlc1tkYXRhWzBdLnBhcmVudElkXSA6IHt9O1xuICAgICAgICAgICAgcm93cy5wdXNoKHRoaXMuX2hpZXJhcmNoeUZvb3Rlcihyb290QWdncmVnYXRlLCAwLCBkZXB0aCkpO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5fcHJlcGVuZEhlYWRlclJvd3Mocm93cyk7XG5cbiAgICAgICAgcmV0dXJuIHJvd3M7XG4gICAgfVxuXG4gICAgX2hpZXJhcmNoeUZvb3RlclJvd3MocGFyZW50cywgY3VycmVudExldmVsLCBkZXB0aCkge1xuICAgICAgICBjb25zdCByb3dzID0gW107XG4gICAgICAgIHdoaWxlIChwYXJlbnRzLmxlbmd0aCAmJiBwYXJlbnRzW3BhcmVudHMubGVuZ3RoIC0gMV0ubGV2ZWwgPj0gY3VycmVudExldmVsKSB7XG4gICAgICAgICAgICBjb25zdCBwYXJlbnQgPSBwYXJlbnRzLnBvcCgpO1xuICAgICAgICAgICAgcm93cy5wdXNoKHRoaXMuX2hpZXJhcmNoeUZvb3Rlcih0aGlzLmFnZ3JlZ2F0ZXNbcGFyZW50LmlkXSwgcGFyZW50LmxldmVsICsgMSwgZGVwdGgpKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiByb3dzO1xuICAgIH1cblxuICAgIF9oYXNGb290ZXJUZW1wbGF0ZSgpIHtcbiAgICAgICAgY29uc3QgY29sdW1ucyA9IHRoaXMuY29sdW1ucztcbiAgICAgICAgZm9yIChsZXQgaWR4ID0gMDsgaWR4IDwgY29sdW1ucy5sZW5ndGg7IGlkeCsrKSB7XG4gICAgICAgICAgICBpZiAoY29sdW1uc1tpZHhdLmZvb3RlclRlbXBsYXRlKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBfaGllcmFyY2h5Rm9vdGVyKGFnZ3JlZ2F0ZXMsIGxldmVsLCBkZXB0aCkge1xuICAgICAgICBjb25zdCBjZWxscyA9IHRoaXMuY29sdW1ucy5tYXAoZnVuY3Rpb24oY29sdW1uLCBpbmRleCkge1xuICAgICAgICAgICAgY29uc3QgY29sU3BhbiA9IGluZGV4ID8gMSA6IGRlcHRoIC0gbGV2ZWwgKyAxO1xuICAgICAgICAgICAgaWYgKGNvbHVtbi5mb290ZXJUZW1wbGF0ZSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBPYmplY3QuYXNzaWduKHtcbiAgICAgICAgICAgICAgICAgICAgYmFja2dyb3VuZDogXCIjZGZkZmRmXCIsXG4gICAgICAgICAgICAgICAgICAgIGNvbG9yOiBcIiMzMzNcIixcbiAgICAgICAgICAgICAgICAgICAgY29sU3BhbjogY29sU3BhbixcbiAgICAgICAgICAgICAgICAgICAgdmFsdWU6IGNvbHVtbi5mb290ZXJUZW1wbGF0ZShPYmplY3QuYXNzaWduKHt9LCAoYWdncmVnYXRlcyB8fCB7fSlbY29sdW1uLmZpZWxkXSkpXG4gICAgICAgICAgICAgICAgfSwgY29sdW1uLmZvb3RlckNlbGxPcHRpb25zKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oe1xuICAgICAgICAgICAgICAgIGJhY2tncm91bmQ6IFwiI2RmZGZkZlwiLFxuICAgICAgICAgICAgICAgIGNvbG9yOiBcIiMzMzNcIixcbiAgICAgICAgICAgICAgICBjb2xTcGFuOiBjb2xTcGFuXG4gICAgICAgICAgICB9LCBjb2x1bW4uZm9vdGVyQ2VsbE9wdGlvbnMpO1xuICAgICAgICB9KTtcblxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgdHlwZTogXCJmb290ZXJcIixcbiAgICAgICAgICAgIGNlbGxzOiB0aGlzLl9jcmVhdGVQYWRkaW5nQ2VsbHMobGV2ZWwpLmNvbmNhdChjZWxscylcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICBfZm9vdGVyKGRhdGFJdGVtLCBsZXZlbCkge1xuICAgICAgICBjb25zdCByb3dzID0gW107XG4gICAgICAgIGNvbnN0IGZvb3RlciA9IHRoaXMuY29sdW1ucy5zb21lKGNvbHVtbiA9PiBjb2x1bW4uZ3JvdXBGb290ZXJUZW1wbGF0ZSk7XG5cbiAgICAgICAgbGV0IHRlbXBsYXRlRGF0YSwgZ3JvdXA7XG4gICAgICAgIGlmIChmb290ZXIpIHtcbiAgICAgICAgICAgIGdyb3VwID0ge1xuICAgICAgICAgICAgICAgIGdyb3VwOiB7IGl0ZW1zOiBkYXRhSXRlbS5pdGVtcyxcbiAgICAgICAgICAgICAgICAgICAgICAgICBmaWVsZDogZGF0YUl0ZW0uZmllbGQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU6IGRhdGFJdGVtLnZhbHVlIH1cbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICB0ZW1wbGF0ZURhdGEgPSB7fTtcbiAgICAgICAgICAgIE9iamVjdC5rZXlzKGRhdGFJdGVtLmFnZ3JlZ2F0ZXMpLmZvckVhY2goa2V5ID0+IHtcbiAgICAgICAgICAgICAgICB0ZW1wbGF0ZURhdGFba2V5XSA9IE9iamVjdC5hc3NpZ24oe30sIGRhdGFJdGVtLmFnZ3JlZ2F0ZXNba2V5XSwgZ3JvdXApO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBjZWxscyA9IHRoaXMuY29sdW1ucy5tYXAoKGNvbHVtbikgPT4ge1xuICAgICAgICAgICAgaWYgKGNvbHVtbi5ncm91cEZvb3RlclRlbXBsYXRlKSB7XG4gICAgICAgICAgICAgICAgbGV0IGRhdGEgPSBPYmplY3QuYXNzaWduKHt9LCB0ZW1wbGF0ZURhdGEsIGRhdGFJdGVtLmFnZ3JlZ2F0ZXNbY29sdW1uLmZpZWxkXSwgZ3JvdXApO1xuICAgICAgICAgICAgICAgIHJldHVybiBPYmplY3QuYXNzaWduKHtcbiAgICAgICAgICAgICAgICAgICAgYmFja2dyb3VuZDogXCIjZGZkZmRmXCIsXG4gICAgICAgICAgICAgICAgICAgIGNvbG9yOiBcIiMzMzNcIixcbiAgICAgICAgICAgICAgICAgICAgdmFsdWU6IGNvbHVtbi5ncm91cEZvb3RlclRlbXBsYXRlKGRhdGEpXG4gICAgICAgICAgICAgICAgfSwgY29sdW1uLmdyb3VwRm9vdGVyQ2VsbE9wdGlvbnMpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4gT2JqZWN0LmFzc2lnbih7XG4gICAgICAgICAgICAgICAgYmFja2dyb3VuZDogXCIjZGZkZmRmXCIsXG4gICAgICAgICAgICAgICAgY29sb3I6IFwiIzMzM1wiXG4gICAgICAgICAgICB9LCBjb2x1bW4uZ3JvdXBGb290ZXJDZWxsT3B0aW9ucyk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGlmIChmb290ZXIpIHtcbiAgICAgICAgICAgIHJvd3MucHVzaCh7XG4gICAgICAgICAgICAgICAgdHlwZTogXCJncm91cC1mb290ZXJcIixcbiAgICAgICAgICAgICAgICBjZWxsczogdGhpcy5fY3JlYXRlUGFkZGluZ0NlbGxzKHRoaXMuZ3JvdXBzLmxlbmd0aCkuY29uY2F0KGNlbGxzKSxcbiAgICAgICAgICAgICAgICBsZXZlbDogdGhpcy5vcHRpb25zLmNvbGxhcHNpYmxlID8gbGV2ZWwgOiBudWxsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiByb3dzO1xuICAgIH1cblxuICAgIF9pc0NvbHVtblZpc2libGUoY29sdW1uKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl92aXNpYmxlQ29sdW1ucyhbIGNvbHVtbiBdKS5sZW5ndGggPiAwICYmIChjb2x1bW4uZmllbGQgfHwgY29sdW1uLmNvbHVtbnMpO1xuICAgIH1cblxuICAgIF92aXNpYmxlQ29sdW1ucyhjb2x1bW5zKSB7XG4gICAgICAgIHJldHVybiBjb2x1bW5zLmZpbHRlcigoY29sdW1uKSA9PiB7XG4gICAgICAgICAgICBsZXQgcmVzdWx0ID0gIWNvbHVtbi5oaWRkZW47XG4gICAgICAgICAgICBpZiAocmVzdWx0ICYmIGNvbHVtbi5jb2x1bW5zKSB7XG4gICAgICAgICAgICAgICAgcmVzdWx0ID0gdGhpcy5fdmlzaWJsZUNvbHVtbnMoY29sdW1uLmNvbHVtbnMpLmxlbmd0aCA+IDA7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBfaGVhZGVyUm93KHJvdywgZ3JvdXBzKSB7XG4gICAgICAgIGNvbnN0IGhlYWRlcnMgPSByb3cuY2VsbHMubWFwKGZ1bmN0aW9uKGNlbGwpIHtcbiAgICAgICAgICAgIHJldHVybiBPYmplY3QuYXNzaWduKGNlbGwsIHtcbiAgICAgICAgICAgICAgICBjb2xTcGFuOiBjZWxsLmNvbFNwYW4gPiAxID8gY2VsbC5jb2xTcGFuIDogMSxcbiAgICAgICAgICAgICAgICByb3dTcGFuOiByb3cucm93U3BhbiA+IDEgJiYgIWNlbGwuY29sU3BhbiA/IHJvdy5yb3dTcGFuIDogMVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGlmICh0aGlzLmhpZXJhcmNoeSkge1xuICAgICAgICAgICAgaGVhZGVyc1swXS5jb2xTcGFuID0gdGhpcy5fZGVwdGgoKSArIDE7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgdHlwZTogXCJoZWFkZXJcIixcbiAgICAgICAgICAgIGNlbGxzOiBjcmVhdGVBcnJheShncm91cHMubGVuZ3RoLCAoKSA9PiBPYmplY3QuYXNzaWduKHtcbiAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kOiBcIiM3YTdhN2FcIixcbiAgICAgICAgICAgICAgICBjb2xvcjogXCIjZmZmXCJcbiAgICAgICAgICAgIH0sIHRoaXMub3B0aW9ucy5oZWFkZXJQYWRkaW5nQ2VsbE9wdGlvbnMpKS5jb25jYXQoaGVhZGVycylcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICBfcHJlcGVuZEhlYWRlclJvd3Mocm93cykge1xuICAgICAgICBjb25zdCBncm91cHMgPSB0aGlzLmdyb3VwcztcblxuICAgICAgICBjb25zdCBoZWFkZXJSb3dzID0gWyB7IHJvd1NwYW46IDEsIGNlbGxzOiBbXSwgaW5kZXg6IDAgfSBdO1xuXG4gICAgICAgIHRoaXMuX3ByZXBhcmVIZWFkZXJSb3dzKGhlYWRlclJvd3MsIHRoaXMub3B0aW9ucy5jb2x1bW5zKTtcblxuICAgICAgICBmb3IgKGxldCBpZHggPSBoZWFkZXJSb3dzLmxlbmd0aCAtIDE7IGlkeCA+PSAwOyBpZHgtLSkge1xuICAgICAgICAgICAgcm93cy51bnNoaWZ0KHRoaXMuX2hlYWRlclJvdyhoZWFkZXJSb3dzW2lkeF0sIGdyb3VwcykpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgX3ByZXBhcmVIZWFkZXJSb3dzKHJvd3MsIGNvbHVtbnMsIHBhcmVudENlbGwsIHBhcmVudFJvdykge1xuICAgICAgICBjb25zdCByb3cgPSBwYXJlbnRSb3cgfHwgcm93c1tyb3dzLmxlbmd0aCAtIDFdO1xuICAgICAgICBsZXQgY2hpbGRSb3cgPSByb3dzW3Jvdy5pbmRleCArIDFdO1xuICAgICAgICBsZXQgdG90YWxDb2xTcGFuID0gMDtcblxuICAgICAgICBmb3IgKGxldCBpZHggPSAwOyBpZHggPCBjb2x1bW5zLmxlbmd0aDsgaWR4KyspIHtcbiAgICAgICAgICAgIGNvbnN0IGNvbHVtbiA9IGNvbHVtbnNbaWR4XTtcbiAgICAgICAgICAgIGlmICh0aGlzLl9pc0NvbHVtblZpc2libGUoY29sdW1uKSkge1xuXG4gICAgICAgICAgICAgICAgY29uc3QgY2VsbCA9IE9iamVjdC5hc3NpZ24oe1xuICAgICAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kOiBcIiM3YTdhN2FcIixcbiAgICAgICAgICAgICAgICAgICAgY29sb3I6IFwiI2ZmZlwiLFxuICAgICAgICAgICAgICAgICAgICB2YWx1ZTogY29sdW1uLnRpdGxlIHx8IGNvbHVtbi5maWVsZCxcbiAgICAgICAgICAgICAgICAgICAgY29sU3BhbjogMFxuICAgICAgICAgICAgICAgIH0sIGNvbHVtbi5oZWFkZXJDZWxsT3B0aW9ucyk7XG4gICAgICAgICAgICAgICAgcm93LmNlbGxzLnB1c2goY2VsbCk7XG5cbiAgICAgICAgICAgICAgICBpZiAoY29sdW1uLmNvbHVtbnMgJiYgY29sdW1uLmNvbHVtbnMubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICghY2hpbGRSb3cpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNoaWxkUm93ID0geyByb3dTcGFuOiAwLCBjZWxsczogW10sIGluZGV4OiByb3dzLmxlbmd0aCB9O1xuICAgICAgICAgICAgICAgICAgICAgICAgcm93cy5wdXNoKGNoaWxkUm93KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBjZWxsLmNvbFNwYW4gPSB0aGlzLl90cmltQ29sdW1ucyh0aGlzLl92aXNpYmxlQ29sdW1ucyhjb2x1bW4uY29sdW1ucykpLmxlbmd0aDtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fcHJlcGFyZUhlYWRlclJvd3Mocm93cywgY29sdW1uLmNvbHVtbnMsIGNlbGwsIGNoaWxkUm93KTtcbiAgICAgICAgICAgICAgICAgICAgdG90YWxDb2xTcGFuICs9IGNlbGwuY29sU3BhbiAtIDE7XG4gICAgICAgICAgICAgICAgICAgIHJvdy5yb3dTcGFuID0gcm93cy5sZW5ndGggLSByb3cuaW5kZXg7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHBhcmVudENlbGwpIHtcbiAgICAgICAgICAgIHBhcmVudENlbGwuY29sU3BhbiArPSB0b3RhbENvbFNwYW47XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBfcm93cygpIHtcbiAgICAgICAgY29uc3Qgcm93cyA9IHRoaXMuX2RhdGFSb3dzKHRoaXMuZGF0YSwgMCk7XG5cbiAgICAgICAgaWYgKHRoaXMuY29sdW1ucy5sZW5ndGgpIHtcbiAgICAgICAgICAgIHRoaXMuX3ByZXBlbmRIZWFkZXJSb3dzKHJvd3MpO1xuICAgICAgICAgICAgbGV0IGZvb3RlciA9IGZhbHNlO1xuXG4gICAgICAgICAgICBjb25zdCBjZWxscyA9IHRoaXMuY29sdW1ucy5tYXAoKGNvbHVtbikgPT4ge1xuICAgICAgICAgICAgICAgIGlmIChjb2x1bW4uZm9vdGVyVGVtcGxhdGUpIHtcbiAgICAgICAgICAgICAgICAgICAgZm9vdGVyID0gdHJ1ZTtcblxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gT2JqZWN0LmFzc2lnbih7XG4gICAgICAgICAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kOiBcIiNkZmRmZGZcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbG9yOiBcIiMzMzNcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlOiBjb2x1bW4uZm9vdGVyVGVtcGxhdGUoT2JqZWN0LmFzc2lnbih7fSwgdGhpcy5hZ2dyZWdhdGVzLCB0aGlzLmFnZ3JlZ2F0ZXNbY29sdW1uLmZpZWxkXSkpXG4gICAgICAgICAgICAgICAgICAgIH0sIGNvbHVtbi5mb290ZXJDZWxsT3B0aW9ucyk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oe1xuICAgICAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kOiBcIiNkZmRmZGZcIixcbiAgICAgICAgICAgICAgICAgICAgY29sb3I6IFwiIzMzM1wiXG4gICAgICAgICAgICAgICAgfSwgY29sdW1uLmZvb3RlckNlbGxPcHRpb25zKTtcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICBpZiAoZm9vdGVyKSB7XG4gICAgICAgICAgICAgICAgcm93cy5wdXNoKHtcbiAgICAgICAgICAgICAgICAgICAgdHlwZTogXCJmb290ZXJcIixcbiAgICAgICAgICAgICAgICAgICAgY2VsbHM6IHRoaXMuX2NyZWF0ZVBhZGRpbmdDZWxscyh0aGlzLmdyb3Vwcy5sZW5ndGgpLmNvbmNhdChjZWxscylcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiByb3dzO1xuICAgIH1cblxuICAgIF9oZWFkZXJEZXB0aChjb2x1bW5zKSB7XG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IDE7XG4gICAgICAgIGxldCBtYXggPSAwO1xuXG4gICAgICAgIGZvciAobGV0IGlkeCA9IDA7IGlkeCA8IGNvbHVtbnMubGVuZ3RoOyBpZHgrKykge1xuICAgICAgICAgICAgaWYgKGNvbHVtbnNbaWR4XS5jb2x1bW5zKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgdGVtcCA9IHRoaXMuX2hlYWRlckRlcHRoKGNvbHVtbnNbaWR4XS5jb2x1bW5zKTtcbiAgICAgICAgICAgICAgICBpZiAodGVtcCA+IG1heCkge1xuICAgICAgICAgICAgICAgICAgICBtYXggPSB0ZW1wO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmVzdWx0ICsgbWF4O1xuICAgIH1cblxuICAgIF9mcmVlemVQYW5lKCkge1xuICAgICAgICBjb25zdCBjb2x1bW5zID0gdGhpcy5fdmlzaWJsZUNvbHVtbnModGhpcy5vcHRpb25zLmNvbHVtbnMgfHwgW10pO1xuXG4gICAgICAgIGNvbnN0IGNvbFNwbGl0ID0gdGhpcy5fdmlzaWJsZUNvbHVtbnModGhpcy5fdHJpbUNvbHVtbnModGhpcy5fbGVhZkNvbHVtbnMoY29sdW1ucy5maWx0ZXIoZnVuY3Rpb24oY29sdW1uKSB7XG4gICAgICAgICAgICByZXR1cm4gY29sdW1uLmxvY2tlZDtcbiAgICAgICAgfSkpKSkubGVuZ3RoO1xuXG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICByb3dTcGxpdDogdGhpcy5faGVhZGVyRGVwdGgoY29sdW1ucyksXG4gICAgICAgICAgICBjb2xTcGxpdDogY29sU3BsaXQgPyBjb2xTcGxpdCArIHRoaXMuZ3JvdXBzLmxlbmd0aCA6IDBcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICBfY2VsbChkYXRhSXRlbSwgY29sdW1uKSB7XG4gICAgICAgIHJldHVybiBPYmplY3QuYXNzaWduKHtcbiAgICAgICAgICAgIHZhbHVlOiBjb2x1bW4udmFsdWUoZGF0YUl0ZW0pXG4gICAgICAgIH0sIGNvbHVtbi5jZWxsT3B0aW9ucyk7XG4gICAgfVxuXG4gICAgX2RlcHRoKCkge1xuICAgICAgICBsZXQgZGVwdGggPSAwO1xuXG4gICAgICAgIGlmICh0aGlzLmhpZXJhcmNoeSkge1xuICAgICAgICAgICAgZGVwdGggPSB0aGlzLmhpZXJhcmNoeS5kZXB0aDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGRlcHRoID0gdGhpcy5ncm91cHMubGVuZ3RoO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGRlcHRoO1xuICAgIH1cblxuICAgIF9jb2x1bW5zKCkge1xuICAgICAgICBjb25zdCBkZXB0aCA9IHRoaXMuX2RlcHRoKCk7XG4gICAgICAgIGNvbnN0IGNvbHVtbnMgPSBjcmVhdGVBcnJheShkZXB0aCwgKCkgPT4gKHsgd2lkdGg6IDIwIH0pKTtcblxuICAgICAgICByZXR1cm4gY29sdW1ucy5jb25jYXQodGhpcy5jb2x1bW5zLm1hcChmdW5jdGlvbihjb2x1bW4pIHtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgd2lkdGg6IHBhcnNlSW50KGNvbHVtbi53aWR0aCwgMTApLFxuICAgICAgICAgICAgICAgIGF1dG9XaWR0aDogY29sdW1uLndpZHRoID8gZmFsc2UgOiB0cnVlXG4gICAgICAgICAgICB9O1xuICAgICAgICB9KSk7XG4gICAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBFeGNlbEV4cG9ydGVyO1xuIiwibGV0IGN1cnJlbnQgPSB7XG4gICAgdG9TdHJpbmc6ICh2YWx1ZSkgPT4gdmFsdWVcbn07XG5cbmNsYXNzIEludGxTZXJ2aWNlIHtcbiAgICBzdGF0aWMgcmVnaXN0ZXIodXNlckltcGxlbWVudGF0aW9uKSB7XG4gICAgICAgIGN1cnJlbnQgPSB1c2VySW1wbGVtZW50YXRpb247XG4gICAgfVxuXG4gICAgc3RhdGljIHRvU3RyaW5nKHZhbHVlLCBmb3JtYXQpIHtcbiAgICAgICAgcmV0dXJuIGN1cnJlbnQudG9TdHJpbmcodmFsdWUsIGZvcm1hdCk7XG4gICAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBJbnRsU2VydmljZTsiLCJpbXBvcnQgSlNaaXAgZnJvbSAnanN6aXAvZGlzdC9qc3ppcCc7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGNyZWF0ZVppcCgpIHtcbiAgICByZXR1cm4gbmV3IEpTWmlwKCk7XG59IiwiLy8gZGF0ZSBwYWNraW5nIHV0aWxpdGllcyBmcm9tIEtlbmRvIFNwcmVhZHNoZWV0XG5cbi8vIEp1bGlhbiBkYXlzIGFsZ29yaXRobXMgZnJvbSBodHRwOi8vd3d3Lmhlcm1ldGljLmNoL2NhbF9zdHVkL2pkbi5odG0jY29tcFxuZnVuY3Rpb24gZGF0ZVRvSnVsaWFuRGF5cyh5LCBtLCBkKSB7XG4gICAgcmV0dXJuICgoMTQ2MSAqICh5ICsgNDgwMCArICgobSAtIDEzKSAvIDEyIHwgMCkpKSAvIDQgfCAwKSArXG4gICAgICAgICgoMzY3ICogKG0gLSAxIC0gMTIgKiAoKG0gLSAxMykgLyAxMiB8IDApKSkgLyAxMiB8IDApIC1cbiAgICAgICAgKCgzICogKCgoeSArIDQ5MDAgKyAoKG0gLSAxMykgLyAxMiB8IDApKSAvIDEwMCB8IDApKSkgLyA0IHwgMCkgK1xuICAgICAgICBkIC0gMzIwNzU7XG59XG5cbi8vIFRoaXMgdXNlcyB0aGUgR29vZ2xlIFNwcmVhZHNoZWV0IGFwcHJvYWNoOiB0cmVhdCAxODk5LTEyLTMxIGFzIGRheSAxLCBhbGxvd2luZyB0byBhdm9pZFxuLy8gaW1wbGVtZW50aW5nIHRoZSBcIkxlYXAgWWVhciBCdWdcIiB5ZXQgc3RpbGwgYmUgRXhjZWwgY29tcGF0aWJsZSBmb3IgZGF0ZXMgc3RhcnRpbmcgMTkwMC0wMy0wMS5cbmNvbnN0IEJBU0VfREFURSA9IGRhdGVUb0p1bGlhbkRheXMoMTkwMCwgMCwgLTEpO1xuXG5mdW5jdGlvbiBwYWNrRGF0ZSh5ZWFyLCBtb250aCwgZGF0ZSkge1xuICAgIHJldHVybiBkYXRlVG9KdWxpYW5EYXlzKHllYXIsIG1vbnRoLCBkYXRlKSAtIEJBU0VfREFURTtcbn1cblxuZnVuY3Rpb24gcGFja1RpbWUoaGgsIG1tLCBzcywgbXMpIHtcbiAgICByZXR1cm4gKGhoICsgKG1tICsgKHNzICsgbXMgLyAxMDAwKSAvIDYwKSAvIDYwKSAvIDI0O1xufVxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBkYXRlVG9TZXJpYWwoZGF0ZSkge1xuICAgIGNvbnN0IHRpbWUgPSBwYWNrVGltZShkYXRlLmdldEhvdXJzKCksXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGUuZ2V0TWludXRlcygpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRlLmdldFNlY29uZHMoKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0ZS5nZXRNaWxsaXNlY29uZHMoKSk7XG4gICAgY29uc3Qgc2VyaWFsID0gcGFja0RhdGUoZGF0ZS5nZXRGdWxsWWVhcigpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGUuZ2V0TW9udGgoKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRlLmdldERhdGUoKSk7XG4gICAgcmV0dXJuIHNlcmlhbCA8IDAgPyBzZXJpYWwgLSAxICsgdGltZSA6IHNlcmlhbCArIHRpbWU7XG59XG4iLCJpbXBvcnQgbWFwIGZyb20gJy4vdXRpbHMvbWFwJztcbmltcG9ydCBjcmVhdGVaaXAgZnJvbSAnLi91dGlscy9jcmVhdGUtemlwJztcbmltcG9ydCBJbnRsU2VydmljZSBmcm9tICcuL3NlcnZpY2VzL2ludGwtc2VydmljZSc7XG5pbXBvcnQgZGF0ZVRvU2VyaWFsIGZyb20gJy4vdXRpbHMvdGltZSc7XG5cbmNvbnN0IERBVEFfVVJMX1BSRUZJWCA9IFwiZGF0YTphcHBsaWNhdGlvbi92bmQub3BlbnhtbGZvcm1hdHMtb2ZmaWNlZG9jdW1lbnQuc3ByZWFkc2hlZXRtbC5zaGVldDtiYXNlNjQsXCI7XG5jb25zdCBEQVRBX1VSTF9PUFRJT05TID0geyBjb21wcmVzc2lvbjogXCJERUZMQVRFXCIsIHR5cGU6IFwiYmFzZTY0XCIgfTtcblxuLyogZXNsaW50LWRpc2FibGUga2V5LXNwYWNpbmcsIG5vLWFycm93LWNvbmRpdGlvbiwgaW5kZW50LCBuby1uZXN0ZWQtdGVybmFyeSwgY29uc2lzdGVudC1yZXR1cm4gKi9cblxuZnVuY3Rpb24gdG9EYXRhVVJJKGNvbnRlbnQpIHtcbiAgICByZXR1cm4gREFUQV9VUkxfUFJFRklYICsgY29udGVudDtcbn1cblxuZnVuY3Rpb24gaW5kZXhPZih0aGluZywgYXJyYXkpIHtcbiAgICByZXR1cm4gYXJyYXkuaW5kZXhPZih0aGluZyk7XG59XG5cbmNvbnN0IHBhcnNlSlNPTiA9IEpTT04ucGFyc2UuYmluZChKU09OKTtcblxuZnVuY3Rpb24gRVNDKHZhbCkge1xuICAgIHJldHVybiBTdHJpbmcodmFsKVxuICAgICAgICAucmVwbGFjZSgvJi9nLCBcIiZhbXA7XCIpXG4gICAgICAgIC5yZXBsYWNlKC88L2csIFwiJmx0O1wiKVxuICAgICAgICAucmVwbGFjZSgvPi9nLCBcIiZndDtcIilcbiAgICAgICAgLnJlcGxhY2UoL1xcXCIvZywgXCImcXVvdDtcIilcbiAgICAgICAgLnJlcGxhY2UoL1xcJy9nLCBcIiYjMzk7XCIpO1xufVxuXG5mdW5jdGlvbiByZXBlYXQoY291bnQsIGZ1bmMpIHtcbiAgICBsZXQgc3RyID0gXCJcIjtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGNvdW50OyArK2kpIHtcbiAgICAgICAgc3RyICs9IGZ1bmMoaSk7XG4gICAgfVxuICAgIHJldHVybiBzdHI7XG59XG5cbmZ1bmN0aW9uIGZvcmVhY2goYXJyLCBmdW5jKSB7XG4gICAgbGV0IHN0ciA9IFwiXCI7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBhcnIubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgc3RyICs9IGZ1bmMoYXJyW2ldLCBpKTtcbiAgICB9XG4gICAgcmV0dXJuIHN0cjtcbn1cblxuY29uc3QgWE1MSEVBRCA9ICc8P3htbCB2ZXJzaW9uPVwiMS4wXCIgZW5jb2Rpbmc9XCJVVEYtOFwiIHN0YW5kYWxvbmU9XCJ5ZXNcIj8+XFxyJztcblxuY29uc3QgUkVMUyA9IGAke1hNTEhFQUR9XG4gICAgICAgICAgICA8UmVsYXRpb25zaGlwcyB4bWxucz1cImh0dHA6Ly9zY2hlbWFzLm9wZW54bWxmb3JtYXRzLm9yZy9wYWNrYWdlLzIwMDYvcmVsYXRpb25zaGlwc1wiPlxuICAgICAgICAgICAgICAgPFJlbGF0aW9uc2hpcCBJZD1cInJJZDNcIiBUeXBlPVwiaHR0cDovL3NjaGVtYXMub3BlbnhtbGZvcm1hdHMub3JnL29mZmljZURvY3VtZW50LzIwMDYvcmVsYXRpb25zaGlwcy9leHRlbmRlZC1wcm9wZXJ0aWVzXCIgVGFyZ2V0PVwiZG9jUHJvcHMvYXBwLnhtbFwiLz5cbiAgICAgICAgICAgICAgIDxSZWxhdGlvbnNoaXAgSWQ9XCJySWQyXCIgVHlwZT1cImh0dHA6Ly9zY2hlbWFzLm9wZW54bWxmb3JtYXRzLm9yZy9wYWNrYWdlLzIwMDYvcmVsYXRpb25zaGlwcy9tZXRhZGF0YS9jb3JlLXByb3BlcnRpZXNcIiBUYXJnZXQ9XCJkb2NQcm9wcy9jb3JlLnhtbFwiLz5cbiAgICAgICAgICAgICAgIDxSZWxhdGlvbnNoaXAgSWQ9XCJySWQxXCIgVHlwZT1cImh0dHA6Ly9zY2hlbWFzLm9wZW54bWxmb3JtYXRzLm9yZy9vZmZpY2VEb2N1bWVudC8yMDA2L3JlbGF0aW9uc2hpcHMvb2ZmaWNlRG9jdW1lbnRcIiBUYXJnZXQ9XCJ4bC93b3JrYm9vay54bWxcIi8+XG4gICAgICAgICAgICA8L1JlbGF0aW9uc2hpcHM+YDtcblxuY29uc3QgQ09SRSA9ICh7IGNyZWF0b3IsIGxhc3RNb2RpZmllZEJ5LCBjcmVhdGVkLCBtb2RpZmllZCB9KSA9PiBgJHtYTUxIRUFEfVxuIDxjcDpjb3JlUHJvcGVydGllcyB4bWxuczpjcD1cImh0dHA6Ly9zY2hlbWFzLm9wZW54bWxmb3JtYXRzLm9yZy9wYWNrYWdlLzIwMDYvbWV0YWRhdGEvY29yZS1wcm9wZXJ0aWVzXCJcbiAgIHhtbG5zOmRjPVwiaHR0cDovL3B1cmwub3JnL2RjL2VsZW1lbnRzLzEuMS9cIiB4bWxuczpkY3Rlcm1zPVwiaHR0cDovL3B1cmwub3JnL2RjL3Rlcm1zL1wiXG4gICB4bWxuczpkY21pdHlwZT1cImh0dHA6Ly9wdXJsLm9yZy9kYy9kY21pdHlwZS9cIiB4bWxuczp4c2k9XCJodHRwOi8vd3d3LnczLm9yZy8yMDAxL1hNTFNjaGVtYS1pbnN0YW5jZVwiPlxuICAgPGRjOmNyZWF0b3I+JHtFU0MoY3JlYXRvcil9PC9kYzpjcmVhdG9yPlxuICAgPGNwOmxhc3RNb2RpZmllZEJ5PiR7RVNDKGxhc3RNb2RpZmllZEJ5KX08L2NwOmxhc3RNb2RpZmllZEJ5PlxuICAgPGRjdGVybXM6Y3JlYXRlZCB4c2k6dHlwZT1cImRjdGVybXM6VzNDRFRGXCI+JHtFU0MoY3JlYXRlZCl9PC9kY3Rlcm1zOmNyZWF0ZWQ+XG4gICA8ZGN0ZXJtczptb2RpZmllZCB4c2k6dHlwZT1cImRjdGVybXM6VzNDRFRGXCI+JHtFU0MobW9kaWZpZWQpfTwvZGN0ZXJtczptb2RpZmllZD5cbjwvY3A6Y29yZVByb3BlcnRpZXM+YDtcblxuY29uc3QgQVBQID0gKHsgc2hlZXRzIH0pID0+IGAke1hNTEhFQUR9XG48UHJvcGVydGllcyB4bWxucz1cImh0dHA6Ly9zY2hlbWFzLm9wZW54bWxmb3JtYXRzLm9yZy9vZmZpY2VEb2N1bWVudC8yMDA2L2V4dGVuZGVkLXByb3BlcnRpZXNcIiB4bWxuczp2dD1cImh0dHA6Ly9zY2hlbWFzLm9wZW54bWxmb3JtYXRzLm9yZy9vZmZpY2VEb2N1bWVudC8yMDA2L2RvY1Byb3BzVlR5cGVzXCI+XG4gIDxBcHBsaWNhdGlvbj5NaWNyb3NvZnQgRXhjZWw8L0FwcGxpY2F0aW9uPlxuICA8RG9jU2VjdXJpdHk+MDwvRG9jU2VjdXJpdHk+XG4gIDxTY2FsZUNyb3A+ZmFsc2U8L1NjYWxlQ3JvcD5cbiAgPEhlYWRpbmdQYWlycz5cbiAgICA8dnQ6dmVjdG9yIHNpemU9XCIyXCIgYmFzZVR5cGU9XCJ2YXJpYW50XCI+XG4gICAgICA8dnQ6dmFyaWFudD5cbiAgICAgICAgPHZ0Omxwc3RyPldvcmtzaGVldHM8L3Z0Omxwc3RyPlxuICAgICAgPC92dDp2YXJpYW50PlxuICAgICAgPHZ0OnZhcmlhbnQ+XG4gICAgICAgIDx2dDppND4ke3NoZWV0cy5sZW5ndGh9PC92dDppND5cbiAgICAgIDwvdnQ6dmFyaWFudD5cbiAgICA8L3Z0OnZlY3Rvcj5cbiAgPC9IZWFkaW5nUGFpcnM+XG4gIDxUaXRsZXNPZlBhcnRzPlxuICAgIDx2dDp2ZWN0b3Igc2l6ZT1cIiR7c2hlZXRzLmxlbmd0aH1cIiBiYXNlVHlwZT1cImxwc3RyXCI+JHtcbiAgICAgIGZvcmVhY2goc2hlZXRzLCAoc2hlZXQsIGkpID0+XG4gICAgICAgIHNoZWV0Lm9wdGlvbnMudGl0bGVcbiAgICAgICAgICA/IGA8dnQ6bHBzdHI+JHtFU0Moc2hlZXQub3B0aW9ucy50aXRsZSl9PC92dDpscHN0cj5gXG4gICAgICAgICAgOiBgPHZ0Omxwc3RyPlNoZWV0JHtpICsgMX08L3Z0Omxwc3RyPmBcbiAgICAgIClcbiAgICB9PC92dDp2ZWN0b3I+XG4gIDwvVGl0bGVzT2ZQYXJ0cz5cbiAgPExpbmtzVXBUb0RhdGU+ZmFsc2U8L0xpbmtzVXBUb0RhdGU+XG4gIDxTaGFyZWREb2M+ZmFsc2U8L1NoYXJlZERvYz5cbiAgPEh5cGVybGlua3NDaGFuZ2VkPmZhbHNlPC9IeXBlcmxpbmtzQ2hhbmdlZD5cbiAgPEFwcFZlcnNpb24+MTQuMDMwMDwvQXBwVmVyc2lvbj5cbjwvUHJvcGVydGllcz5gO1xuXG5jb25zdCBDT05URU5UX1RZUEVTID0gKHsgY291bnQgfSkgPT4gYCR7WE1MSEVBRH1cbjxUeXBlcyB4bWxucz1cImh0dHA6Ly9zY2hlbWFzLm9wZW54bWxmb3JtYXRzLm9yZy9wYWNrYWdlLzIwMDYvY29udGVudC10eXBlc1wiPlxuICA8RGVmYXVsdCBFeHRlbnNpb249XCJyZWxzXCIgQ29udGVudFR5cGU9XCJhcHBsaWNhdGlvbi92bmQub3BlbnhtbGZvcm1hdHMtcGFja2FnZS5yZWxhdGlvbnNoaXBzK3htbFwiIC8+XG4gIDxEZWZhdWx0IEV4dGVuc2lvbj1cInhtbFwiIENvbnRlbnRUeXBlPVwiYXBwbGljYXRpb24veG1sXCIgLz5cbiAgPE92ZXJyaWRlIFBhcnROYW1lPVwiL3hsL3dvcmtib29rLnhtbFwiIENvbnRlbnRUeXBlPVwiYXBwbGljYXRpb24vdm5kLm9wZW54bWxmb3JtYXRzLW9mZmljZWRvY3VtZW50LnNwcmVhZHNoZWV0bWwuc2hlZXQubWFpbit4bWxcIiAvPlxuICA8T3ZlcnJpZGUgUGFydE5hbWU9XCIveGwvc3R5bGVzLnhtbFwiIENvbnRlbnRUeXBlPVwiYXBwbGljYXRpb24vdm5kLm9wZW54bWxmb3JtYXRzLW9mZmljZWRvY3VtZW50LnNwcmVhZHNoZWV0bWwuc3R5bGVzK3htbFwiLz5cbiAgPE92ZXJyaWRlIFBhcnROYW1lPVwiL3hsL3NoYXJlZFN0cmluZ3MueG1sXCIgQ29udGVudFR5cGU9XCJhcHBsaWNhdGlvbi92bmQub3BlbnhtbGZvcm1hdHMtb2ZmaWNlZG9jdW1lbnQuc3ByZWFkc2hlZXRtbC5zaGFyZWRTdHJpbmdzK3htbFwiLz5cbiAgJHtyZXBlYXQoY291bnQsIGlkeCA9PlxuICAgIGA8T3ZlcnJpZGUgUGFydE5hbWU9XCIveGwvd29ya3NoZWV0cy9zaGVldCR7aWR4ICsgMX0ueG1sXCIgQ29udGVudFR5cGU9XCJhcHBsaWNhdGlvbi92bmQub3BlbnhtbGZvcm1hdHMtb2ZmaWNlZG9jdW1lbnQuc3ByZWFkc2hlZXRtbC53b3Jrc2hlZXQreG1sXCIgLz5gKX1cbiAgPE92ZXJyaWRlIFBhcnROYW1lPVwiL2RvY1Byb3BzL2NvcmUueG1sXCIgQ29udGVudFR5cGU9XCJhcHBsaWNhdGlvbi92bmQub3BlbnhtbGZvcm1hdHMtcGFja2FnZS5jb3JlLXByb3BlcnRpZXMreG1sXCIgLz5cbiAgPE92ZXJyaWRlIFBhcnROYW1lPVwiL2RvY1Byb3BzL2FwcC54bWxcIiBDb250ZW50VHlwZT1cImFwcGxpY2F0aW9uL3ZuZC5vcGVueG1sZm9ybWF0cy1vZmZpY2Vkb2N1bWVudC5leHRlbmRlZC1wcm9wZXJ0aWVzK3htbFwiIC8+XG48L1R5cGVzPmA7XG5cbmNvbnN0IFdPUktCT09LID0gKHsgc2hlZXRzLCBmaWx0ZXJOYW1lcywgdXNlck5hbWVzIH0pID0+IGAke1hNTEhFQUR9XG48d29ya2Jvb2sgeG1sbnM9XCJodHRwOi8vc2NoZW1hcy5vcGVueG1sZm9ybWF0cy5vcmcvc3ByZWFkc2hlZXRtbC8yMDA2L21haW5cIiB4bWxuczpyPVwiaHR0cDovL3NjaGVtYXMub3BlbnhtbGZvcm1hdHMub3JnL29mZmljZURvY3VtZW50LzIwMDYvcmVsYXRpb25zaGlwc1wiPlxuICA8ZmlsZVZlcnNpb24gYXBwTmFtZT1cInhsXCIgbGFzdEVkaXRlZD1cIjVcIiBsb3dlc3RFZGl0ZWQ9XCI1XCIgcnVwQnVpbGQ9XCI5MzAzXCIgLz5cbiAgPHdvcmtib29rUHIgZGVmYXVsdFRoZW1lVmVyc2lvbj1cIjEyNDIyNlwiIC8+XG4gIDxib29rVmlld3M+XG4gICAgPHdvcmtib29rVmlldyB4V2luZG93PVwiMjQwXCIgeVdpbmRvdz1cIjQ1XCIgd2luZG93V2lkdGg9XCIxODE5NVwiIHdpbmRvd0hlaWdodD1cIjc5OTVcIiAvPlxuICA8L2Jvb2tWaWV3cz5cbiAgPHNoZWV0cz5cbiAgJHtmb3JlYWNoKHNoZWV0cywgKHsgb3B0aW9ucyB9LCBpKSA9PiB7XG4gICAgY29uc3QgbmFtZSA9IG9wdGlvbnMubmFtZSB8fCBvcHRpb25zLnRpdGxlIHx8IGBTaGVldCR7aSArIDF9YDtcbiAgICByZXR1cm4gYDxzaGVldCBuYW1lPVwiJHtFU0MobmFtZSl9XCIgc2hlZXRJZD1cIiR7aSArIDF9XCIgcjppZD1cInJJZCR7aSArIDF9XCIgLz5gO1xuICB9KX1cbiAgPC9zaGVldHM+XG4gICR7ZmlsdGVyTmFtZXMubGVuZ3RoIHx8IHVzZXJOYW1lcy5sZW5ndGggPyBgXG4gICAgPGRlZmluZWROYW1lcz5cbiAgICAgICR7Zm9yZWFjaChmaWx0ZXJOYW1lcywgKGYpID0+IGBcbiAgICAgICAgIDxkZWZpbmVkTmFtZSBuYW1lPVwiX3hsbm0uX0ZpbHRlckRhdGFiYXNlXCIgaGlkZGVuPVwiMVwiIGxvY2FsU2hlZXRJZD1cIiR7Zi5sb2NhbFNoZWV0SWR9XCI+JHtFU0MoZi5uYW1lKX0hJHtFU0MoZi5mcm9tKX06JHtFU0MoZi50byl9PC9kZWZpbmVkTmFtZT5gKX1cbiAgICAgICR7Zm9yZWFjaCh1c2VyTmFtZXMsIChmKSA9PiBgXG4gICAgICAgICA8ZGVmaW5lZE5hbWUgbmFtZT1cIiR7Zi5uYW1lfVwiIGhpZGRlbj1cIiR7Zi5oaWRkZW4gPyAxIDogMH1cIiAke2YubG9jYWxTaGVldElkICE9IG51bGwgPyBgbG9jYWxTaGVldElkPVwiJHtmLmxvY2FsU2hlZXRJZH1cImAgOiAnJ30+JHtFU0MoZi52YWx1ZSl9PC9kZWZpbmVkTmFtZT5gKX1cbiAgICA8L2RlZmluZWROYW1lcz5gIDogJyd9XG4gIDxjYWxjUHIgZnVsbENhbGNPbkxvYWQ9XCIxXCIgY2FsY0lkPVwiMTQ1NjIxXCIgLz5cbjwvd29ya2Jvb2s+YDtcblxuY29uc3QgV09SS1NIRUVUID0gKHtcbiAgICBmcm96ZW5Db2x1bW5zLFxuICAgIGZyb3plblJvd3MsXG4gICAgY29sdW1ucyxcbiAgICBkZWZhdWx0cyxcbiAgICBkYXRhLFxuICAgIGluZGV4LFxuICAgIG1lcmdlQ2VsbHMsXG4gICAgYXV0b0ZpbHRlcixcbiAgICBmaWx0ZXIsXG4gICAgc2hvd0dyaWRMaW5lcyxcbiAgICBoeXBlcmxpbmtzLFxuICAgIHZhbGlkYXRpb25zLFxuICAgIGRlZmF1bHRDZWxsU3R5bGVJZCxcbiAgICBydGxcbn0pID0+IGAke1hNTEhFQUR9XG48d29ya3NoZWV0IHhtbG5zPVwiaHR0cDovL3NjaGVtYXMub3BlbnhtbGZvcm1hdHMub3JnL3NwcmVhZHNoZWV0bWwvMjAwNi9tYWluXCIgeG1sbnM6bWM9XCJodHRwOi8vc2NoZW1hcy5vcGVueG1sZm9ybWF0cy5vcmcvbWFya3VwLWNvbXBhdGliaWxpdHkvMjAwNlwiIHhtbG5zOnI9XCJodHRwOi8vc2NoZW1hcy5vcGVueG1sZm9ybWF0cy5vcmcvb2ZmaWNlRG9jdW1lbnQvMjAwNi9yZWxhdGlvbnNoaXBzXCIgeG1sbnM6eDE0YWM9XCJodHRwOi8vc2NoZW1hcy5taWNyb3NvZnQuY29tL29mZmljZS9zcHJlYWRzaGVldG1sLzIwMDkvOS9hY1wiIG1jOklnbm9yYWJsZT1cIngxNGFjXCI+XG4gICA8ZGltZW5zaW9uIHJlZj1cIkExXCIgLz5cblxuICAgPHNoZWV0Vmlld3M+XG4gICAgIDxzaGVldFZpZXcgJHsgcnRsID8gJ3JpZ2h0VG9MZWZ0PVwiMVwiJyA6ICcnIH0gJHtpbmRleCA9PT0gMCA/ICd0YWJTZWxlY3RlZD1cIjFcIicgOiAnJ30gd29ya2Jvb2tWaWV3SWQ9XCIwXCIgJHtzaG93R3JpZExpbmVzID09PSBmYWxzZSA/ICdzaG93R3JpZExpbmVzPVwiMFwiJyA6ICcnfT5cbiAgICAgJHtmcm96ZW5Sb3dzIHx8IGZyb3plbkNvbHVtbnMgPyBgXG4gICAgICAgPHBhbmUgc3RhdGU9XCJmcm96ZW5cIlxuICAgICAgICAgJHtmcm96ZW5Db2x1bW5zID8gYHhTcGxpdD1cIiR7ZnJvemVuQ29sdW1uc31cImAgOiAnJ31cbiAgICAgICAgICR7ZnJvemVuUm93cyA/IGB5U3BsaXQ9XCIke2Zyb3plblJvd3N9XCJgIDogJyd9XG4gICAgICAgICB0b3BMZWZ0Q2VsbD1cIiR7U3RyaW5nLmZyb21DaGFyQ29kZSg2NSArIChmcm96ZW5Db2x1bW5zIHx8IDApKSArICgoZnJvemVuUm93cyB8fCAwKSArIDEpfVwiXG4gICAgICAgLz5gIDogJyd9XG4gICAgIDwvc2hlZXRWaWV3PlxuICAgPC9zaGVldFZpZXdzPlxuXG4gICA8c2hlZXRGb3JtYXRQciB4MTRhYzpkeURlc2NlbnQ9XCIwLjI1XCIgY3VzdG9tSGVpZ2h0PVwiMVwiIGRlZmF1bHRSb3dIZWlnaHQ9XCIke2RlZmF1bHRzLnJvd0hlaWdodCA/IGRlZmF1bHRzLnJvd0hlaWdodCAqIDAuNzUgOiAxNX1cIlxuICAgICAke2RlZmF1bHRzLmNvbHVtbldpZHRoID8gYGRlZmF1bHRDb2xXaWR0aD1cIiR7dG9XaWR0aChkZWZhdWx0cy5jb2x1bW5XaWR0aCl9XCJgIDogJyd9IC8+XG5cbiAgICR7ZGVmYXVsdENlbGxTdHlsZUlkICE9IG51bGwgfHwgKGNvbHVtbnMgJiYgY29sdW1ucy5sZW5ndGggPiAwKSA/IGBcbiAgICAgPGNvbHM+XG4gICAgICAgJHshY29sdW1ucyB8fCAhY29sdW1ucy5sZW5ndGggPyBgXG4gICAgICAgICA8Y29sIG1pbj1cIjFcIiBtYXg9XCIxNjM4NFwiIHN0eWxlPVwiJHtkZWZhdWx0Q2VsbFN0eWxlSWR9XCJcbiAgICAgICAgICAgICAgJHtkZWZhdWx0cy5jb2x1bW5XaWR0aCA/IGB3aWR0aD1cIiR7dG9XaWR0aChkZWZhdWx0cy5jb2x1bW5XaWR0aCl9XCJgIDogJyd9IC8+IGAgOiAnJ31cbiAgICAgICAke2ZvcmVhY2goY29sdW1ucywgKGNvbHVtbiwgY2kpID0+IHtcbiAgICAgICAgIGNvbnN0IGNvbHVtbkluZGV4ID0gdHlwZW9mIGNvbHVtbi5pbmRleCA9PT0gXCJudW1iZXJcIiA/IGNvbHVtbi5pbmRleCArIDEgOiAoY2kgKyAxKTtcbiAgICAgICAgIGlmIChjb2x1bW4ud2lkdGggPT09IDApIHtcbiAgICAgICAgICAgcmV0dXJuIGA8Y29sICR7ZGVmYXVsdENlbGxTdHlsZUlkICE9IG51bGwgPyBgc3R5bGU9XCIke2RlZmF1bHRDZWxsU3R5bGVJZH1cImAgOiAnJ31cbiAgICAgICAgICAgICAgICAgICAgICAgIG1pbj1cIiR7Y29sdW1uSW5kZXh9XCIgbWF4PVwiJHtjb2x1bW5JbmRleH1cIiBoaWRkZW49XCIxXCIgY3VzdG9tV2lkdGg9XCIxXCIgLz5gO1xuICAgICAgICAgfVxuICAgICAgICAgcmV0dXJuIGA8Y29sICR7ZGVmYXVsdENlbGxTdHlsZUlkICE9IG51bGwgPyBgc3R5bGU9XCIke2RlZmF1bHRDZWxsU3R5bGVJZH1cImAgOiAnJ31cbiAgICAgICAgICAgICAgICAgICAgICBtaW49XCIke2NvbHVtbkluZGV4fVwiIG1heD1cIiR7Y29sdW1uSW5kZXh9XCIgY3VzdG9tV2lkdGg9XCIxXCJcbiAgICAgICAgICAgICAgICAgICAgICAke2NvbHVtbi5hdXRvV2lkdGhcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPyBgd2lkdGg9XCIkeygoY29sdW1uLndpZHRoICogNyArIDUpIC8gNyAqIDI1NikgLyAyNTZ9XCIgYmVzdEZpdD1cIjFcImBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgOiBgd2lkdGg9XCIke3RvV2lkdGgoY29sdW1uLndpZHRoKX1cImB9IC8+YDtcbiAgICAgICB9KX1cbiAgICAgPC9jb2xzPmAgOiAnJ31cblxuICAgPHNoZWV0RGF0YT5cbiAgICAgJHtmb3JlYWNoKGRhdGEsIChyb3csIHJpKSA9PiB7XG4gICAgICAgY29uc3Qgcm93SW5kZXggPSB0eXBlb2Ygcm93LmluZGV4ID09PSBcIm51bWJlclwiID8gcm93LmluZGV4ICsgMSA6IChyaSArIDEpO1xuICAgICAgIHJldHVybiBgXG4gICAgICAgICA8cm93IHI9XCIke3Jvd0luZGV4fVwiIHgxNGFjOmR5RGVzY2VudD1cIjAuMjVcIlxuICAgICAgICAgICAgICAke3Jvdy5sZXZlbCA/IGBvdXRsaW5lTGV2ZWw9XCIke3Jvdy5sZXZlbH1cImAgOiAnJ31cbiAgICAgICAgICAgICAgJHtyb3cuaGVpZ2h0ID09PSAwID8gJ2hpZGRlbj1cIjFcIidcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogcm93LmhlaWdodCA/IGBodD1cIiR7dG9IZWlnaHQocm93LmhlaWdodCl9XCIgY3VzdG9tSGVpZ2h0PVwiMVwiYCA6IFwiXCJ9PlxuICAgICAgICAgICAke2ZvcmVhY2gocm93LmRhdGEsIChjZWxsKSA9PiBgXG4gICAgICAgICAgICAgPGMgcj1cIiR7Y2VsbC5yZWZ9XCIgJHtjZWxsLnN0eWxlID8gYHM9XCIke2NlbGwuc3R5bGV9XCJgIDogJyd9ICR7Y2VsbC50eXBlID8gYHQ9XCIke2NlbGwudHlwZX1cImAgOiAnJ30+XG4gICAgICAgICAgICAgICAke2NlbGwuZm9ybXVsYSAhPSBudWxsID8gd3JpdGVGb3JtdWxhKGNlbGwuZm9ybXVsYSkgOiAnJ31cbiAgICAgICAgICAgICAgICR7Y2VsbC52YWx1ZSAhPSBudWxsID8gYDx2PiR7RVNDKGNlbGwudmFsdWUpfTwvdj5gIDogJyd9XG4gICAgICAgICAgICAgPC9jPmApfVxuICAgICAgICAgPC9yb3c+XG4gICAgICAgYDt9KX1cbiAgIDwvc2hlZXREYXRhPlxuXG4gICAke2F1dG9GaWx0ZXIgPyBgPGF1dG9GaWx0ZXIgcmVmPVwiJHthdXRvRmlsdGVyLmZyb219OiR7YXV0b0ZpbHRlci50b31cIi8+YFxuICAgICAgICAgICAgICAgIDogZmlsdGVyID8gc3ByZWFkc2hlZXRGaWx0ZXJzKGZpbHRlcikgOiAnJ31cblxuICAgJHttZXJnZUNlbGxzLmxlbmd0aCA/IGBcbiAgICAgPG1lcmdlQ2VsbHMgY291bnQ9XCIke21lcmdlQ2VsbHMubGVuZ3RofVwiPlxuICAgICAgICR7Zm9yZWFjaChtZXJnZUNlbGxzLCAocmVmKSA9PiBgPG1lcmdlQ2VsbCByZWY9XCIke3JlZn1cIi8+YCl9XG4gICAgIDwvbWVyZ2VDZWxscz5gIDogJyd9XG5cbiAgICR7dmFsaWRhdGlvbnMubGVuZ3RoID8gYFxuICAgICA8ZGF0YVZhbGlkYXRpb25zPlxuICAgICAgICR7Zm9yZWFjaCh2YWxpZGF0aW9ucywgKHZhbCkgPT4gYFxuICAgICAgICAgPGRhdGFWYWxpZGF0aW9uIHNxcmVmPVwiJHt2YWwuc3FyZWYuam9pbihcIiBcIil9XCJcbiAgICAgICAgICAgICAgICAgICAgICAgICBzaG93RXJyb3JNZXNzYWdlPVwiJHt2YWwuc2hvd0Vycm9yTWVzc2FnZX1cIlxuICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU9XCIke0VTQyh2YWwudHlwZSl9XCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAkeyB2YWwudHlwZSAhPT0gXCJsaXN0XCIgPyBgb3BlcmF0b3I9XCIke0VTQyh2YWwub3BlcmF0b3IpfVwiYCA6ICcnfVxuICAgICAgICAgICAgICAgICAgICAgICAgIGFsbG93Qmxhbms9XCIke3ZhbC5hbGxvd0JsYW5rfVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgc2hvd0Ryb3BEb3duPVwiJHt2YWwuc2hvd0Ryb3BEb3dufVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgJHt2YWwuZXJyb3IgPyBgZXJyb3I9XCIke0VTQyh2YWwuZXJyb3IpfVwiYCA6ICcnfVxuICAgICAgICAgICAgICAgICAgICAgICAgICR7dmFsLmVycm9yVGl0bGUgPyBgZXJyb3JUaXRsZT1cIiR7RVNDKHZhbC5lcnJvclRpdGxlKX1cImAgOiAnJ30+XG4gICAgICAgICAgICR7dmFsLmZvcm11bGExID8gYDxmb3JtdWxhMT4ke0VTQyh2YWwuZm9ybXVsYTEpfTwvZm9ybXVsYTE+YCA6ICcnfVxuICAgICAgICAgICAke3ZhbC5mb3JtdWxhMiA/IGA8Zm9ybXVsYTI+JHtFU0ModmFsLmZvcm11bGEyKX08L2Zvcm11bGEyPmAgOiAnJ31cbiAgICAgICAgIDwvZGF0YVZhbGlkYXRpb24+YCl9XG4gICAgIDwvZGF0YVZhbGlkYXRpb25zPmAgOiAnJ31cblxuICAgJHtoeXBlcmxpbmtzLmxlbmd0aCA/IGBcbiAgICAgPGh5cGVybGlua3M+XG4gICAgICAgJHtmb3JlYWNoKGh5cGVybGlua3MsIChsaW5rLCBoaSkgPT4gYFxuICAgICAgICAgPGh5cGVybGluayByZWY9XCIke2xpbmsucmVmfVwiIHI6aWQ9XCJySWQke2hpfVwiLz5gKX1cbiAgICAgPC9oeXBlcmxpbmtzPmAgOiAnJ31cblxuICAgPHBhZ2VNYXJnaW5zIGxlZnQ9XCIwLjdcIiByaWdodD1cIjAuN1wiIHRvcD1cIjAuNzVcIiBib3R0b209XCIwLjc1XCIgaGVhZGVyPVwiMC4zXCIgZm9vdGVyPVwiMC4zXCIgLz5cbjwvd29ya3NoZWV0PmA7XG5cbmNvbnN0IFdPUktCT09LX1JFTFMgPSAoeyBjb3VudCB9KSA9PiBgJHtYTUxIRUFEfVxuPFJlbGF0aW9uc2hpcHMgeG1sbnM9XCJodHRwOi8vc2NoZW1hcy5vcGVueG1sZm9ybWF0cy5vcmcvcGFja2FnZS8yMDA2L3JlbGF0aW9uc2hpcHNcIj5cbiAgJHtyZXBlYXQoY291bnQsIChpZHgpID0+IGBcbiAgICA8UmVsYXRpb25zaGlwIElkPVwicklkJHtpZHggKyAxfVwiIFR5cGU9XCJodHRwOi8vc2NoZW1hcy5vcGVueG1sZm9ybWF0cy5vcmcvb2ZmaWNlRG9jdW1lbnQvMjAwNi9yZWxhdGlvbnNoaXBzL3dvcmtzaGVldFwiIFRhcmdldD1cIndvcmtzaGVldHMvc2hlZXQke2lkeCArIDF9LnhtbFwiIC8+YCl9XG4gIDxSZWxhdGlvbnNoaXAgSWQ9XCJySWQke2NvdW50ICsgMX1cIiBUeXBlPVwiaHR0cDovL3NjaGVtYXMub3BlbnhtbGZvcm1hdHMub3JnL29mZmljZURvY3VtZW50LzIwMDYvcmVsYXRpb25zaGlwcy9zdHlsZXNcIiBUYXJnZXQ9XCJzdHlsZXMueG1sXCIgLz5cbiAgPFJlbGF0aW9uc2hpcCBJZD1cInJJZCR7Y291bnQgKyAyfVwiIFR5cGU9XCJodHRwOi8vc2NoZW1hcy5vcGVueG1sZm9ybWF0cy5vcmcvb2ZmaWNlRG9jdW1lbnQvMjAwNi9yZWxhdGlvbnNoaXBzL3NoYXJlZFN0cmluZ3NcIiBUYXJnZXQ9XCJzaGFyZWRTdHJpbmdzLnhtbFwiIC8+XG48L1JlbGF0aW9uc2hpcHM+YDtcblxuY29uc3QgV09SS1NIRUVUX1JFTFMgPSAoeyBoeXBlcmxpbmtzIH0pID0+IGAke1hNTEhFQUR9XG48UmVsYXRpb25zaGlwcyB4bWxucz1cImh0dHA6Ly9zY2hlbWFzLm9wZW54bWxmb3JtYXRzLm9yZy9wYWNrYWdlLzIwMDYvcmVsYXRpb25zaGlwc1wiPlxuICAke2ZvcmVhY2goaHlwZXJsaW5rcywgKGxpbmssIGkpID0+IGBcbiAgICA8UmVsYXRpb25zaGlwIElkPVwicklkJHtpfVwiIFR5cGU9XCJodHRwOi8vc2NoZW1hcy5vcGVueG1sZm9ybWF0cy5vcmcvb2ZmaWNlRG9jdW1lbnQvMjAwNi9yZWxhdGlvbnNoaXBzL2h5cGVybGlua1wiIFRhcmdldD1cIiR7RVNDKGxpbmsudGFyZ2V0KX1cIiBUYXJnZXRNb2RlPVwiRXh0ZXJuYWxcIiAvPmApfVxuPC9SZWxhdGlvbnNoaXBzPmA7XG5cbmNvbnN0IFNIQVJFRF9TVFJJTkdTID0gKHsgY291bnQsIHVuaXF1ZUNvdW50LCBpbmRleGVzIH0pID0+IGAke1hNTEhFQUR9XG48c3N0IHhtbG5zPVwiaHR0cDovL3NjaGVtYXMub3BlbnhtbGZvcm1hdHMub3JnL3NwcmVhZHNoZWV0bWwvMjAwNi9tYWluXCIgY291bnQ9XCIke2NvdW50fVwiIHVuaXF1ZUNvdW50PVwiJHt1bmlxdWVDb3VudH1cIj5cbiAgJHtmb3JlYWNoKE9iamVjdC5rZXlzKGluZGV4ZXMpLCAoaW5kZXgpID0+IGBcbiAgICA8c2k+PHQgeG1sOnNwYWNlPVwicHJlc2VydmVcIj4ke0VTQyhpbmRleC5zdWJzdHJpbmcoMSkpfTwvdD48L3NpPmApfVxuPC9zc3Q+YDtcblxuY29uc3QgU1RZTEVTID0gKHtcbiAgICBmb3JtYXRzLFxuICAgIGZvbnRzLFxuICAgIGZpbGxzLFxuICAgIGJvcmRlcnMsXG4gICAgc3R5bGVzXG59KSA9PiBgJHtYTUxIRUFEfVxuPHN0eWxlU2hlZXRcbiAgICB4bWxucz1cImh0dHA6Ly9zY2hlbWFzLm9wZW54bWxmb3JtYXRzLm9yZy9zcHJlYWRzaGVldG1sLzIwMDYvbWFpblwiXG4gICAgeG1sbnM6bWM9XCJodHRwOi8vc2NoZW1hcy5vcGVueG1sZm9ybWF0cy5vcmcvbWFya3VwLWNvbXBhdGliaWxpdHkvMjAwNlwiXG4gICAgbWM6SWdub3JhYmxlPVwieDE0YWNcIlxuICAgIHhtbG5zOngxNGFjPVwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS9vZmZpY2Uvc3ByZWFkc2hlZXRtbC8yMDA5LzkvYWNcIj5cbiAgPG51bUZtdHMgY291bnQ9XCIke2Zvcm1hdHMubGVuZ3RofVwiPlxuICAke2ZvcmVhY2goZm9ybWF0cywgKGZvcm1hdCwgZmkpID0+IGBcbiAgICA8bnVtRm10IGZvcm1hdENvZGU9XCIke0VTQyhmb3JtYXQuZm9ybWF0KX1cIiBudW1GbXRJZD1cIiR7MTY1ICsgZml9XCIgLz5gKX1cbiAgPC9udW1GbXRzPlxuICA8Zm9udHMgY291bnQ9XCIke2ZvbnRzLmxlbmd0aCArIDF9XCIgeDE0YWM6a25vd25Gb250cz1cIjFcIj5cbiAgICA8Zm9udD5cbiAgICAgICA8c3ogdmFsPVwiMTFcIiAvPlxuICAgICAgIDxjb2xvciB0aGVtZT1cIjFcIiAvPlxuICAgICAgIDxuYW1lIHZhbD1cIkNhbGlicmlcIiAvPlxuICAgICAgIDxmYW1pbHkgdmFsPVwiMlwiIC8+XG4gICAgICAgPHNjaGVtZSB2YWw9XCJtaW5vclwiIC8+XG4gICAgPC9mb250PlxuICAgICR7Zm9yZWFjaChmb250cywgKGZvbnQpID0+IGBcbiAgICA8Zm9udD5cbiAgICAgIDxzeiB2YWw9XCIke2ZvbnQuZm9udFNpemUgfHwgMTF9XCIgLz5cbiAgICAgICR7Zm9udC5ib2xkID8gJzxiLz4nIDogJyd9XG4gICAgICAke2ZvbnQuaXRhbGljID8gJzxpLz4nIDogJyd9XG4gICAgICAke2ZvbnQudW5kZXJsaW5lID8gJzx1Lz4nIDogJyd9XG4gICAgICAke2ZvbnQuY29sb3IgPyBgPGNvbG9yIHJnYj1cIiR7RVNDKGZvbnQuY29sb3IpfVwiIC8+YCA6ICc8Y29sb3IgdGhlbWU9XCIxXCIgLz4nfVxuICAgICAgJHtmb250LmZvbnRGYW1pbHkgPyBgXG4gICAgICAgIDxuYW1lIHZhbD1cIiR7RVNDKGZvbnQuZm9udEZhbWlseSl9XCIgLz5cbiAgICAgICAgPGZhbWlseSB2YWw9XCIyXCIgLz5cbiAgICAgIGAgOiBgXG4gICAgICAgIDxuYW1lIHZhbD1cIkNhbGlicmlcIiAvPlxuICAgICAgICA8ZmFtaWx5IHZhbD1cIjJcIiAvPlxuICAgICAgICA8c2NoZW1lIHZhbD1cIm1pbm9yXCIgLz5cbiAgICAgIGB9XG4gICAgPC9mb250PmApfVxuICA8L2ZvbnRzPlxuICA8ZmlsbHMgY291bnQ9XCIke2ZpbGxzLmxlbmd0aCArIDJ9XCI+XG4gICAgICA8ZmlsbD48cGF0dGVybkZpbGwgcGF0dGVyblR5cGU9XCJub25lXCIvPjwvZmlsbD5cbiAgICAgIDxmaWxsPjxwYXR0ZXJuRmlsbCBwYXR0ZXJuVHlwZT1cImdyYXkxMjVcIi8+PC9maWxsPlxuICAgICR7Zm9yZWFjaChmaWxscywgKGZpbGwpID0+IGBcbiAgICAgICR7ZmlsbC5iYWNrZ3JvdW5kID8gYFxuICAgICAgICA8ZmlsbD5cbiAgICAgICAgICA8cGF0dGVybkZpbGwgcGF0dGVyblR5cGU9XCJzb2xpZFwiPlxuICAgICAgICAgICAgICA8ZmdDb2xvciByZ2I9XCIke0VTQyhmaWxsLmJhY2tncm91bmQpfVwiLz5cbiAgICAgICAgICA8L3BhdHRlcm5GaWxsPlxuICAgICAgICA8L2ZpbGw+XG4gICAgICBgIDogJyd9YCl9XG4gIDwvZmlsbHM+XG4gIDxib3JkZXJzIGNvdW50PVwiJHtib3JkZXJzLmxlbmd0aCArIDF9XCI+XG4gICAgPGJvcmRlcj48bGVmdC8+PHJpZ2h0Lz48dG9wLz48Ym90dG9tLz48ZGlhZ29uYWwvPjwvYm9yZGVyPlxuICAgICR7Zm9yZWFjaChib3JkZXJzLCBib3JkZXJUZW1wbGF0ZSl9XG4gIDwvYm9yZGVycz5cbiAgPGNlbGxTdHlsZVhmcyBjb3VudD1cIjFcIj5cbiAgICA8eGYgYm9yZGVySWQ9XCIwXCIgZmlsbElkPVwiMFwiIGZvbnRJZD1cIjBcIiAvPlxuICA8L2NlbGxTdHlsZVhmcz5cbiAgPGNlbGxYZnMgY291bnQ9XCIke3N0eWxlcy5sZW5ndGggKyAxfVwiPlxuICAgIDx4ZiBudW1GbXRJZD1cIjBcIiBmb250SWQ9XCIwXCIgZmlsbElkPVwiMFwiIGJvcmRlcklkPVwiMFwiIHhmSWQ9XCIwXCIgLz5cbiAgICAke2ZvcmVhY2goc3R5bGVzLCAoc3R5bGUpID0+IGBcbiAgICAgIDx4ZiB4ZklkPVwiMFwiXG4gICAgICAgICAgJHtzdHlsZS5mb250SWQgPyBgZm9udElkPVwiJHtzdHlsZS5mb250SWR9XCIgYXBwbHlGb250PVwiMVwiYCA6ICcnfVxuICAgICAgICAgICR7c3R5bGUuZmlsbElkID8gYGZpbGxJZD1cIiR7c3R5bGUuZmlsbElkfVwiIGFwcGx5RmlsbD1cIjFcImAgOiAnJ31cbiAgICAgICAgICAke3N0eWxlLm51bUZtdElkID8gYG51bUZtdElkPVwiJHtzdHlsZS5udW1GbXRJZH1cIiBhcHBseU51bWJlckZvcm1hdD1cIjFcImAgOiAnJ31cbiAgICAgICAgICAke3N0eWxlLnRleHRBbGlnbiB8fCBzdHlsZS52ZXJ0aWNhbEFsaWduIHx8IHN0eWxlLndyYXAgPyAnYXBwbHlBbGlnbm1lbnQ9XCIxXCInIDogJyd9XG4gICAgICAgICAgJHtzdHlsZS5ib3JkZXJJZCA/IGBib3JkZXJJZD1cIiR7c3R5bGUuYm9yZGVySWR9XCIgYXBwbHlCb3JkZXI9XCIxXCJgIDogJyd9PlxuICAgICAgICAke3N0eWxlLnRleHRBbGlnbiB8fCBzdHlsZS52ZXJ0aWNhbEFsaWduIHx8IHN0eWxlLndyYXAgPyBgXG4gICAgICAgIDxhbGlnbm1lbnRcbiAgICAgICAgICAke3N0eWxlLnRleHRBbGlnbiA/IGBob3Jpem9udGFsPVwiJHtFU0Moc3R5bGUudGV4dEFsaWduKX1cImAgOiAnJ31cbiAgICAgICAgICAke3N0eWxlLnZlcnRpY2FsQWxpZ24gPyBgdmVydGljYWw9XCIke0VTQyhzdHlsZS52ZXJ0aWNhbEFsaWduKX1cImAgOiAnJ31cbiAgICAgICAgICAke3N0eWxlLmluZGVudCA/IGBpbmRlbnQ9XCIke0VTQyhzdHlsZS5pbmRlbnQpfVwiYCA6ICcnfVxuICAgICAgICAgICR7c3R5bGUud3JhcCA/ICd3cmFwVGV4dD1cIjFcIicgOiAnJ30gLz5cbiAgICAgICAgYCA6ICcnfVxuICAgICAgPC94Zj5cbiAgICBgKX1cbiAgPC9jZWxsWGZzPlxuICA8Y2VsbFN0eWxlcyBjb3VudD1cIjFcIj5cbiAgICA8Y2VsbFN0eWxlIG5hbWU9XCJOb3JtYWxcIiB4ZklkPVwiMFwiIGJ1aWx0aW5JZD1cIjBcIi8+XG4gIDwvY2VsbFN0eWxlcz5cbiAgPGR4ZnMgY291bnQ9XCIwXCIgLz5cbiAgPHRhYmxlU3R5bGVzIGNvdW50PVwiMFwiIGRlZmF1bHRUYWJsZVN0eWxlPVwiVGFibGVTdHlsZU1lZGl1bTJcIiBkZWZhdWx0UGl2b3RTdHlsZT1cIlBpdm90U3R5bGVNZWRpdW05XCIgLz5cbjwvc3R5bGVTaGVldD5gO1xuXG5mdW5jdGlvbiB3cml0ZUZvcm11bGEoZm9ybXVsYSkge1xuICAgIGlmICh0eXBlb2YgZm9ybXVsYSA9PSBcInN0cmluZ1wiKSB7XG4gICAgICAgIHJldHVybiBgPGY+JHtFU0MoZm9ybXVsYSl9PC9mPmA7XG4gICAgfVxuICAgIC8vIGFycmF5IGZvcm11bGFzXG4gICAgcmV0dXJuIGA8ZiB0PVwiYXJyYXlcIiByZWY9XCIke2Zvcm11bGEucmVmfVwiPiR7RVNDKGZvcm11bGEuc3JjKX08L2Y+YDtcbn1cblxuZnVuY3Rpb24gbnVtQ2hhcihjb2xJbmRleCkge1xuICAgY29uc3QgbGV0dGVyID0gTWF0aC5mbG9vcihjb2xJbmRleCAvIDI2KSAtIDE7XG5cbiAgIHJldHVybiAobGV0dGVyID49IDAgPyBudW1DaGFyKGxldHRlcikgOiBcIlwiKSArIFN0cmluZy5mcm9tQ2hhckNvZGUoNjUgKyAoY29sSW5kZXggJSAyNikpO1xufVxuXG5mdW5jdGlvbiByZWYocm93SW5kZXgsIGNvbEluZGV4KSB7XG4gICAgcmV0dXJuIG51bUNoYXIoY29sSW5kZXgpICsgKHJvd0luZGV4ICsgMSk7XG59XG5cbmZ1bmN0aW9uICRyZWYocm93SW5kZXgsIGNvbEluZGV4KSB7XG4gICAgcmV0dXJuIFwiJFwiICsgbnVtQ2hhcihjb2xJbmRleCkgKyBcIiRcIiArIChyb3dJbmRleCArIDEpO1xufVxuXG5mdW5jdGlvbiBmaWx0ZXJSb3dJbmRleChvcHRpb25zKSB7XG4gICAgY29uc3QgZnJvemVuUm93cyA9IG9wdGlvbnMuZnJvemVuUm93cyB8fCAob3B0aW9ucy5mcmVlemVQYW5lIHx8IHt9KS5yb3dTcGxpdCB8fCAxO1xuICAgIHJldHVybiBmcm96ZW5Sb3dzIC0gMTtcbn1cblxuZnVuY3Rpb24gdG9XaWR0aChweCkge1xuICAgIGNvbnN0IG1heGltdW1EaWdpdFdpZHRoID0gNztcbiAgICByZXR1cm4gKHB4IC8gbWF4aW11bURpZ2l0V2lkdGgpIC0gKE1hdGguZmxvb3IoMTI4IC8gbWF4aW11bURpZ2l0V2lkdGgpIC8gMjU2KTtcbn1cblxuZnVuY3Rpb24gdG9IZWlnaHQocHgpIHtcbiAgICByZXR1cm4gcHggKiAwLjc1O1xufVxuXG5mdW5jdGlvbiBzdHJpcEZ1bm55Q2hhcnModmFsdWUpIHtcbiAgICByZXR1cm4gU3RyaW5nKHZhbHVlKVxuICAgICAgICAucmVwbGFjZSgvW1xceDAwLVxceDA5XFx4MEJcXHgwQ1xceDBFLVxceDFGXS9nLCBcIlwiKSAvLyBsZWF2ZSBDUkxGIGluXG4gICAgICAgIC5yZXBsYWNlKC9cXHI/XFxuL2csIFwiXFxyXFxuXCIpOyAgICAgICAgICAgICAgICAgICAvLyBtYWtlIHN1cmUgTEYgaXMgcHJlY2VkZWQgYnkgQ1Jcbn1cblxuY2xhc3MgV29ya3NoZWV0IHtcblxuICAgIGNvbnN0cnVjdG9yKG9wdGlvbnMsIHNoYXJlZFN0cmluZ3MsIHN0eWxlcywgYm9yZGVycykge1xuICAgICAgICB0aGlzLm9wdGlvbnMgPSBvcHRpb25zO1xuICAgICAgICB0aGlzLl9zdHJpbmdzID0gc2hhcmVkU3RyaW5ncztcbiAgICAgICAgdGhpcy5fc3R5bGVzID0gc3R5bGVzO1xuICAgICAgICB0aGlzLl9ib3JkZXJzID0gYm9yZGVycztcbiAgICAgICAgdGhpcy5fdmFsaWRhdGlvbnMgPSB7fTtcbiAgICB9XG5cbiAgICByZWxzVG9YTUwoKSB7XG4gICAgICAgIGNvbnN0IGh5cGVybGlua3MgPSB0aGlzLm9wdGlvbnMuaHlwZXJsaW5rcyB8fCBbXTtcbiAgICAgICAgaWYgKCFoeXBlcmxpbmtzLmxlbmd0aCkge1xuICAgICAgICAgICAgcmV0dXJuIFwiXCI7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gV09SS1NIRUVUX1JFTFMoeyBoeXBlcmxpbmtzOiBoeXBlcmxpbmtzIH0pO1xuICAgIH1cblxuICAgIHRvWE1MKGluZGV4KSB7XG4gICAgICAgIGNvbnN0IG1lcmdlQ2VsbHMgPSB0aGlzLm9wdGlvbnMubWVyZ2VkQ2VsbHMgfHwgW107XG4gICAgICAgIGNvbnN0IHJvd3MgPSB0aGlzLm9wdGlvbnMucm93cyB8fCBbXTtcbiAgICAgICAgY29uc3QgZGF0YSA9IGluZmxhdGUocm93cywgbWVyZ2VDZWxscyk7XG5cbiAgICAgICAgdGhpcy5fcmVhZENlbGxzKGRhdGEpO1xuXG4gICAgICAgIGxldCBhdXRvRmlsdGVyID0gdGhpcy5vcHRpb25zLmZpbHRlcjtcbiAgICAgICAgbGV0IGZpbHRlcjtcbiAgICAgICAgaWYgKGF1dG9GaWx0ZXIgJiYgKHR5cGVvZiBhdXRvRmlsdGVyLmZyb20gPT09IFwibnVtYmVyXCIpICYmICh0eXBlb2YgYXV0b0ZpbHRlci50byA9PT0gXCJudW1iZXJcIikpIHtcbiAgICAgICAgICAgIC8vIEdyaWQgZW5hYmxlcyBhdXRvIGZpbHRlclxuICAgICAgICAgICAgYXV0b0ZpbHRlciA9IHtcbiAgICAgICAgICAgICAgICBmcm9tOiByZWYoZmlsdGVyUm93SW5kZXgodGhpcy5vcHRpb25zKSwgYXV0b0ZpbHRlci5mcm9tKSxcbiAgICAgICAgICAgICAgICB0bzogcmVmKGZpbHRlclJvd0luZGV4KHRoaXMub3B0aW9ucyksIGF1dG9GaWx0ZXIudG8pXG4gICAgICAgICAgICB9O1xuICAgICAgICB9IGVsc2UgaWYgKGF1dG9GaWx0ZXIgJiYgYXV0b0ZpbHRlci5yZWYgJiYgYXV0b0ZpbHRlci5jb2x1bW5zKSB7XG4gICAgICAgICAgICAvLyB0aGlzIGlzIHByb2JhYmx5IGZyb20gdGhlIFNwcmVhZHNoZWV0XG4gICAgICAgICAgICBmaWx0ZXIgPSBhdXRvRmlsdGVyO1xuICAgICAgICAgICAgYXV0b0ZpbHRlciA9IG51bGw7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCB2YWxpZGF0aW9ucyA9IFtdO1xuICAgICAgICBmb3IgKGxldCBpIGluIHRoaXMuX3ZhbGlkYXRpb25zKSB7XG4gICAgICAgICAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHRoaXMuX3ZhbGlkYXRpb25zLCBpKSkge1xuICAgICAgICAgICAgICAgIHZhbGlkYXRpb25zLnB1c2godGhpcy5fdmFsaWRhdGlvbnNbaV0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgbGV0IGRlZmF1bHRDZWxsU3R5bGVJZCA9IG51bGw7XG4gICAgICAgIGlmICh0aGlzLm9wdGlvbnMuZGVmYXVsdENlbGxTdHlsZSkge1xuICAgICAgICAgICAgZGVmYXVsdENlbGxTdHlsZUlkID0gdGhpcy5fbG9va3VwU3R5bGUodGhpcy5vcHRpb25zLmRlZmF1bHRDZWxsU3R5bGUpO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgZnJlZXplUGFuZSA9IHRoaXMub3B0aW9ucy5mcmVlemVQYW5lIHx8IHt9O1xuICAgICAgICBjb25zdCBkZWZhdWx0cyA9IHRoaXMub3B0aW9ucy5kZWZhdWx0cyB8fCB7fTtcbiAgICAgICAgcmV0dXJuIFdPUktTSEVFVCh7XG4gICAgICAgICAgICBmcm96ZW5Db2x1bW5zOiB0aGlzLm9wdGlvbnMuZnJvemVuQ29sdW1ucyB8fCBmcmVlemVQYW5lLmNvbFNwbGl0LFxuICAgICAgICAgICAgZnJvemVuUm93czogdGhpcy5vcHRpb25zLmZyb3plblJvd3MgfHwgZnJlZXplUGFuZS5yb3dTcGxpdCxcbiAgICAgICAgICAgIGNvbHVtbnM6IHRoaXMub3B0aW9ucy5jb2x1bW5zLFxuICAgICAgICAgICAgZGVmYXVsdHM6IGRlZmF1bHRzLFxuICAgICAgICAgICAgZGF0YTogZGF0YSxcbiAgICAgICAgICAgIGluZGV4OiBpbmRleCxcbiAgICAgICAgICAgIG1lcmdlQ2VsbHM6IG1lcmdlQ2VsbHMsXG4gICAgICAgICAgICBhdXRvRmlsdGVyOiBhdXRvRmlsdGVyLFxuICAgICAgICAgICAgZmlsdGVyOiBmaWx0ZXIsXG4gICAgICAgICAgICBzaG93R3JpZExpbmVzOiB0aGlzLm9wdGlvbnMuc2hvd0dyaWRMaW5lcyxcbiAgICAgICAgICAgIGh5cGVybGlua3M6IHRoaXMub3B0aW9ucy5oeXBlcmxpbmtzIHx8IFtdLFxuICAgICAgICAgICAgdmFsaWRhdGlvbnM6IHZhbGlkYXRpb25zLFxuICAgICAgICAgICAgZGVmYXVsdENlbGxTdHlsZUlkOiBkZWZhdWx0Q2VsbFN0eWxlSWQsXG4gICAgICAgICAgICBydGw6IHRoaXMub3B0aW9ucy5ydGwgIT09IHVuZGVmaW5lZCA/IHRoaXMub3B0aW9ucy5ydGwgOiBkZWZhdWx0cy5ydGxcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgX2xvb2t1cFN0cmluZyh2YWx1ZSkge1xuICAgICAgICBjb25zdCBrZXkgPSBcIiRcIiArIHZhbHVlO1xuICAgICAgICBjb25zdCBpbmRleCA9IHRoaXMuX3N0cmluZ3MuaW5kZXhlc1trZXldO1xuICAgICAgICBsZXQgcmVzdWx0O1xuXG4gICAgICAgIGlmIChpbmRleCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICByZXN1bHQgPSBpbmRleDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJlc3VsdCA9IHRoaXMuX3N0cmluZ3MuaW5kZXhlc1trZXldID0gdGhpcy5fc3RyaW5ncy51bmlxdWVDb3VudDtcbiAgICAgICAgICAgIHRoaXMuX3N0cmluZ3MudW5pcXVlQ291bnQgKys7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLl9zdHJpbmdzLmNvdW50ICsrO1xuXG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgX2xvb2t1cFN0eWxlKHN0eWxlKSB7XG4gICAgICAgIGNvbnN0IGpzb24gPSBKU09OLnN0cmluZ2lmeShzdHlsZSk7XG5cbiAgICAgICAgaWYgKGpzb24gPT09IFwie31cIikge1xuICAgICAgICAgICAgcmV0dXJuIDA7XG4gICAgICAgIH1cblxuICAgICAgICBsZXQgaW5kZXggPSBpbmRleE9mKGpzb24sIHRoaXMuX3N0eWxlcyk7XG5cbiAgICAgICAgaWYgKGluZGV4IDwgMCkge1xuICAgICAgICAgICAgaW5kZXggPSB0aGlzLl9zdHlsZXMucHVzaChqc29uKSAtIDE7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBUaGVyZSBpcyBvbmUgZGVmYXVsdCBzdHlsZVxuICAgICAgICByZXR1cm4gaW5kZXggKyAxO1xuICAgIH1cblxuICAgIF9sb29rdXBCb3JkZXIoYm9yZGVyKSB7XG4gICAgICAgIGNvbnN0IGpzb24gPSBKU09OLnN0cmluZ2lmeShib3JkZXIpO1xuICAgICAgICBpZiAoanNvbiA9PT0gXCJ7fVwiKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBsZXQgaW5kZXggPSBpbmRleE9mKGpzb24sIHRoaXMuX2JvcmRlcnMpO1xuICAgICAgICBpZiAoaW5kZXggPCAwKSB7XG4gICAgICAgICAgICBpbmRleCA9IHRoaXMuX2JvcmRlcnMucHVzaChqc29uKSAtIDE7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBUaGVyZSBpcyBvbmUgZGVmYXVsdCBib3JkZXJcbiAgICAgICAgcmV0dXJuIGluZGV4ICsgMTtcbiAgICB9XG5cbiAgICBfcmVhZENlbGxzKHJvd0RhdGEpIHtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCByb3dEYXRhLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBjb25zdCByb3cgPSByb3dEYXRhW2ldO1xuICAgICAgICAgICAgY29uc3QgY2VsbHMgPSByb3cuY2VsbHM7XG5cbiAgICAgICAgICAgIHJvdy5kYXRhID0gW107XG5cbiAgICAgICAgICAgIGZvciAobGV0IGogPSAwOyBqIDwgY2VsbHMubGVuZ3RoOyBqKyspIHtcbiAgICAgICAgICAgICAgICBjb25zdCBjZWxsRGF0YSA9IHRoaXMuX2NlbGwoY2VsbHNbal0sIHJvdy5pbmRleCwgaik7XG4gICAgICAgICAgICAgICAgaWYgKGNlbGxEYXRhKSB7XG4gICAgICAgICAgICAgICAgICAgIHJvdy5kYXRhLnB1c2goY2VsbERhdGEpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIF9jZWxsKGRhdGEsIHJvd0luZGV4LCBjZWxsSW5kZXgpIHtcbiAgICAgICAgaWYgKCFkYXRhIHx8IGRhdGEgPT09IEVNUFRZX0NFTEwpIHtcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9XG5cbiAgICAgICAgbGV0IHZhbHVlID0gZGF0YS52YWx1ZTtcblxuICAgICAgICBsZXQgYm9yZGVyID0ge307XG5cbiAgICAgICAgaWYgKGRhdGEuYm9yZGVyTGVmdCkge1xuICAgICAgICAgICAgYm9yZGVyLmxlZnQgPSBkYXRhLmJvcmRlckxlZnQ7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoZGF0YS5ib3JkZXJSaWdodCkge1xuICAgICAgICAgICAgYm9yZGVyLnJpZ2h0ID0gZGF0YS5ib3JkZXJSaWdodDtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChkYXRhLmJvcmRlclRvcCkge1xuICAgICAgICAgICAgYm9yZGVyLnRvcCA9IGRhdGEuYm9yZGVyVG9wO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGRhdGEuYm9yZGVyQm90dG9tKSB7XG4gICAgICAgICAgICBib3JkZXIuYm90dG9tID0gZGF0YS5ib3JkZXJCb3R0b207XG4gICAgICAgIH1cblxuICAgICAgICBib3JkZXIgPSB0aGlzLl9sb29rdXBCb3JkZXIoYm9yZGVyKTtcblxuICAgICAgICBjb25zdCBkZWZTdHlsZSA9IHRoaXMub3B0aW9ucy5kZWZhdWx0Q2VsbFN0eWxlIHx8IHt9O1xuICAgICAgICBsZXQgc3R5bGUgPSB7IGJvcmRlcklkOiBib3JkZXIgfTtcblxuICAgICAgICAoZnVuY3Rpb24oYWRkKSB7XG4gICAgICAgICAgICBhZGQoXCJjb2xvclwiKTtcbiAgICAgICAgICAgIGFkZChcImJhY2tncm91bmRcIik7XG4gICAgICAgICAgICBhZGQoXCJib2xkXCIpO1xuICAgICAgICAgICAgYWRkKFwiaXRhbGljXCIpO1xuICAgICAgICAgICAgYWRkKFwidW5kZXJsaW5lXCIpO1xuICAgICAgICAgICAgaWYgKCFhZGQoXCJmb250RmFtaWx5XCIpKSB7IGFkZChcImZvbnROYW1lXCIsIFwiZm9udEZhbWlseVwiKTsgfVxuICAgICAgICAgICAgYWRkKFwiZm9udFNpemVcIik7XG4gICAgICAgICAgICBhZGQoXCJmb3JtYXRcIik7XG4gICAgICAgICAgICBpZiAoIWFkZChcInRleHRBbGlnblwiKSkgeyBhZGQoXCJoQWxpZ25cIiwgXCJ0ZXh0QWxpZ25cIik7IH1cbiAgICAgICAgICAgIGlmICghYWRkKFwidmVydGljYWxBbGlnblwiKSkgeyBhZGQoXCJ2QWxpZ25cIiwgXCJ2ZXJ0aWNhbEFsaWduXCIpOyB9XG4gICAgICAgICAgICBhZGQoXCJ3cmFwXCIpO1xuICAgICAgICAgICAgYWRkKFwiaW5kZW50XCIpO1xuICAgICAgICB9KShcbiAgICAgICAgICAgIGZ1bmN0aW9uKHByb3AsIHRhcmdldCkge1xuICAgICAgICAgICAgICAgIGxldCB2YWwgPSBkYXRhW3Byb3BdO1xuICAgICAgICAgICAgICAgIGlmICh2YWwgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgICAgICB2YWwgPSBkZWZTdHlsZVtwcm9wXTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKHZhbCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgICAgIHN0eWxlW3RhcmdldCB8fCBwcm9wXSA9IHZhbDtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICApO1xuXG4gICAgICAgIGNvbnN0IGNvbHVtbnMgPSB0aGlzLm9wdGlvbnMuY29sdW1ucyB8fCBbXTtcblxuICAgICAgICBjb25zdCBjb2x1bW4gPSBjb2x1bW5zW2NlbGxJbmRleF07XG4gICAgICAgIGxldCB0eXBlID0gdHlwZW9mIHZhbHVlO1xuXG4gICAgICAgIGlmIChjb2x1bW4gJiYgY29sdW1uLmF1dG9XaWR0aCkge1xuICAgICAgICAgICAgbGV0IGRpc3BsYXlWYWx1ZSA9IHZhbHVlO1xuXG4gICAgICAgICAgICAvLyBYWFg6IGxldCdzIG5vdCBicmluZyBrZW5kby50b1N0cmluZyBpbiBvbmx5IGZvciB0aGlzLlxuICAgICAgICAgICAgLy8gICAgICBiZXR0ZXIgd2FpdCB1bnRpbCB0aGUgc3ByZWFkc2hlZXQgZW5naW5lIGlzIGF2YWlsYWJsZSBhcyBhIHNlcGFyYXRlXG4gICAgICAgICAgICAvLyAgICAgIGNvbXBvbmVudCwgdGhlbiB3ZSBjYW4gdXNlIGEgcmVhbCBFeGNlbC1saWtlIGZvcm1hdHRlci5cbiAgICAgICAgICAgIC8vXG4gICAgICAgICAgICBpZiAodHlwZSA9PT0gXCJudW1iZXJcIikge1xuICAgICAgICAgICAgICAgIC8vIGtlbmRvLnRvU3RyaW5nIHdpbGwgbm90IGJlaGF2ZSBleGFjdGx5IGxpa2UgdGhlIEV4Y2VsIGZvcm1hdFxuICAgICAgICAgICAgICAgIC8vIFN0aWxsLCBpdCdzIHRoZSBiZXN0IHdlIGhhdmUgYXZhaWxhYmxlIGZvciBlc3RpbWF0aW5nIHRoZSBjaGFyYWN0ZXIgY291bnQuXG4gICAgICAgICAgICAgICAgZGlzcGxheVZhbHVlID0gSW50bFNlcnZpY2UudG9TdHJpbmcodmFsdWUsIGRhdGEuZm9ybWF0KTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgY29sdW1uLndpZHRoID0gTWF0aC5tYXgoY29sdW1uLndpZHRoIHx8IDAsIFN0cmluZyhkaXNwbGF5VmFsdWUpLmxlbmd0aCk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodHlwZSA9PT0gXCJzdHJpbmdcIikge1xuICAgICAgICAgICAgdmFsdWUgPSBzdHJpcEZ1bm55Q2hhcnModmFsdWUpO1xuICAgICAgICAgICAgdmFsdWUgPSB0aGlzLl9sb29rdXBTdHJpbmcodmFsdWUpO1xuICAgICAgICAgICAgdHlwZSA9IFwic1wiO1xuICAgICAgICB9IGVsc2UgaWYgKHR5cGUgPT09IFwibnVtYmVyXCIpIHtcbiAgICAgICAgICAgIHR5cGUgPSBcIm5cIjtcbiAgICAgICAgfSBlbHNlIGlmICh0eXBlID09PSBcImJvb2xlYW5cIikge1xuICAgICAgICAgICAgdHlwZSA9IFwiYlwiO1xuICAgICAgICAgICAgdmFsdWUgPSBOdW1iZXIodmFsdWUpO1xuICAgICAgICB9IGVsc2UgaWYgKHZhbHVlICYmIHZhbHVlLmdldFRpbWUpIHtcbiAgICAgICAgICAgIHR5cGUgPSBudWxsO1xuICAgICAgICAgICAgdmFsdWUgPSBkYXRlVG9TZXJpYWwodmFsdWUpO1xuICAgICAgICAgICAgaWYgKCFzdHlsZS5mb3JtYXQpIHtcbiAgICAgICAgICAgICAgICBzdHlsZS5mb3JtYXQgPSBcIm1tLWRkLXl5XCI7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0eXBlID0gbnVsbDtcbiAgICAgICAgICAgIHZhbHVlID0gbnVsbDtcbiAgICAgICAgfVxuXG4gICAgICAgIHN0eWxlID0gdGhpcy5fbG9va3VwU3R5bGUoc3R5bGUpO1xuXG4gICAgICAgIGNvbnN0IGNlbGxOYW1lID0gcmVmKHJvd0luZGV4LCBjZWxsSW5kZXgpO1xuXG4gICAgICAgIGlmIChkYXRhLnZhbGlkYXRpb24pIHtcbiAgICAgICAgICAgIHRoaXMuX2FkZFZhbGlkYXRpb24oZGF0YS52YWxpZGF0aW9uLCBjZWxsTmFtZSk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgdmFsdWU6IHZhbHVlLFxuICAgICAgICAgICAgZm9ybXVsYTogZGF0YS5mb3JtdWxhLFxuICAgICAgICAgICAgdHlwZTogdHlwZSxcbiAgICAgICAgICAgIHN0eWxlOiBzdHlsZSxcbiAgICAgICAgICAgIHJlZjogY2VsbE5hbWVcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICBfYWRkVmFsaWRhdGlvbih2LCByZWYpIHtcbiAgICAgICAgY29uc3QgdG1wID0ge1xuICAgICAgICAgICAgc2hvd0Vycm9yTWVzc2FnZSA6IHYudHlwZSA9PT0gXCJyZWplY3RcIiA/IDEgOiAwLFxuICAgICAgICAgICAgZm9ybXVsYTEgICAgICAgICA6IHYuZnJvbSxcbiAgICAgICAgICAgIGZvcm11bGEyICAgICAgICAgOiB2LnRvLFxuICAgICAgICAgICAgdHlwZSAgICAgICAgICAgICA6IE1BUF9FWENFTF9UWVBFW3YuZGF0YVR5cGVdIHx8IHYuZGF0YVR5cGUsXG4gICAgICAgICAgICBvcGVyYXRvciAgICAgICAgIDogTUFQX0VYQ0VMX09QRVJBVE9SW3YuY29tcGFyZXJUeXBlXSB8fCB2LmNvbXBhcmVyVHlwZSxcbiAgICAgICAgICAgIGFsbG93QmxhbmsgICAgICAgOiB2LmFsbG93TnVsbHMgPyAxIDogMCxcbiAgICAgICAgICAgIHNob3dEcm9wRG93biAgICAgOiB2LnNob3dCdXR0b24gPyAwIDogMSwgLy8gTE9MLCBFeGNlbCFcbiAgICAgICAgICAgIGVycm9yICAgICAgICAgICAgOiB2Lm1lc3NhZ2VUZW1wbGF0ZSxcbiAgICAgICAgICAgIGVycm9yVGl0bGUgICAgICAgOiB2LnRpdGxlVGVtcGxhdGVcbiAgICAgICAgfTtcbiAgICAgICAgY29uc3QganNvbiA9IEpTT04uc3RyaW5naWZ5KHRtcCk7XG4gICAgICAgIGlmICghdGhpcy5fdmFsaWRhdGlvbnNbanNvbl0pIHtcbiAgICAgICAgICAgIHRoaXMuX3ZhbGlkYXRpb25zW2pzb25dID0gdG1wO1xuICAgICAgICAgICAgdG1wLnNxcmVmID0gW107XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fdmFsaWRhdGlvbnNbanNvbl0uc3FyZWYucHVzaChyZWYpO1xuICAgIH1cbn1cblxuY29uc3QgTUFQX0VYQ0VMX09QRVJBVE9SID0ge1xuICAgIC8vIGluY2x1ZGVzIG9ubHkgd2hhdCBkaWZmZXJzOyBrZXkgaXMgb3VyIG9wZXJhdG9yLCB2YWx1ZSBpcyBFeGNlbFxuICAgIC8vIG9wZXJhdG9yLlxuICAgIGdyZWF0ZXJUaGFuT3JFcXVhbFRvIDogXCJncmVhdGVyVGhhbk9yRXF1YWxcIixcbiAgICBsZXNzVGhhbk9yRXF1YWxUbyAgICA6IFwibGVzc1RoYW5PckVxdWFsXCJcbn07XG5cbmNvbnN0IE1BUF9FWENFTF9UWVBFID0ge1xuICAgIG51bWJlcjogXCJkZWNpbWFsXCJcbn07XG5cbmNvbnN0IGRlZmF1bHRGb3JtYXRzID0ge1xuICAgIFwiR2VuZXJhbFwiOiAwLFxuICAgIFwiMFwiOiAxLFxuICAgIFwiMC4wMFwiOiAyLFxuICAgIFwiIywjIzBcIjogMyxcbiAgICBcIiMsIyMwLjAwXCI6IDQsXG4gICAgXCIwJVwiOiA5LFxuICAgIFwiMC4wMCVcIjogMTAsXG4gICAgXCIwLjAwRSswMFwiOiAxMSxcbiAgICBcIiMgPy8/XCI6IDEyLFxuICAgIFwiIyA/Py8/P1wiOiAxMyxcbiAgICBcIm1tLWRkLXl5XCI6IDE0LFxuICAgIFwiZC1tbW0teXlcIjogMTUsXG4gICAgXCJkLW1tbVwiOiAxNixcbiAgICBcIm1tbS15eVwiOiAxNyxcbiAgICBcImg6bW0gQU0vUE1cIjogMTgsXG4gICAgXCJoOm1tOnNzIEFNL1BNXCI6IDE5LFxuICAgIFwiaDptbVwiOiAyMCxcbiAgICBcImg6bW06c3NcIjogMjEsXG4gICAgXCJtL2QveXkgaDptbVwiOiAyMixcbiAgICBcIiMsIyMwIDsoIywjIzApXCI6IDM3LFxuICAgIFwiIywjIzAgO1tSZWRdKCMsIyMwKVwiOiAzOCxcbiAgICBcIiMsIyMwLjAwOygjLCMjMC4wMClcIjogMzksXG4gICAgXCIjLCMjMC4wMDtbUmVkXSgjLCMjMC4wMClcIjogNDAsXG4gICAgXCJtbTpzc1wiOiA0NSxcbiAgICBcIltoXTptbTpzc1wiOiA0NixcbiAgICBcIm1tc3MuMFwiOiA0NyxcbiAgICBcIiMjMC4wRSswXCI6IDQ4LFxuICAgIFwiQFwiOiA0OSxcbiAgICBcIlskLTQwNF1lL20vZFwiOiAyNyxcbiAgICBcIm0vZC95eVwiOiAzMCxcbiAgICBcInQwXCI6IDU5LFxuICAgIFwidDAuMDBcIjogNjAsXG4gICAgXCJ0IywjIzBcIjogNjEsXG4gICAgXCJ0IywjIzAuMDBcIjogNjIsXG4gICAgXCJ0MCVcIjogNjcsXG4gICAgXCJ0MC4wMCVcIjogNjgsXG4gICAgXCJ0IyA/Lz9cIjogNjksXG4gICAgXCJ0IyA/Py8/P1wiOiA3MFxufTtcblxuZnVuY3Rpb24gY29udmVydENvbG9yKHZhbHVlKSB7XG4gICAgbGV0IGNvbG9yID0gdmFsdWU7XG4gICAgaWYgKGNvbG9yLmxlbmd0aCA8IDYpIHtcbiAgICAgICAgY29sb3IgPSBjb2xvci5yZXBsYWNlKC8oXFx3KS9nLCBmdW5jdGlvbigkMCwgJDEpIHtcbiAgICAgICAgICAgIHJldHVybiAkMSArICQxO1xuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBjb2xvciA9IGNvbG9yLnN1YnN0cmluZygxKS50b1VwcGVyQ2FzZSgpO1xuXG4gICAgaWYgKGNvbG9yLmxlbmd0aCA8IDgpIHtcbiAgICAgICAgY29sb3IgPSBcIkZGXCIgKyBjb2xvcjtcbiAgICB9XG5cbiAgICByZXR1cm4gY29sb3I7XG59XG5cbmNsYXNzIFdvcmtib29rIHtcblxuICAgIGNvbnN0cnVjdG9yKG9wdGlvbnMpIHtcbiAgICAgICAgdGhpcy5vcHRpb25zID0gb3B0aW9ucyB8fCB7fTtcbiAgICAgICAgdGhpcy5fc3RyaW5ncyA9IHtcbiAgICAgICAgICAgIGluZGV4ZXM6IHt9LFxuICAgICAgICAgICAgY291bnQ6IDAsXG4gICAgICAgICAgICB1bmlxdWVDb3VudDogMFxuICAgICAgICB9O1xuICAgICAgICB0aGlzLl9zdHlsZXMgPSBbXTtcbiAgICAgICAgdGhpcy5fYm9yZGVycyA9IFtdO1xuXG4gICAgICAgIHRoaXMuX3NoZWV0cyA9IG1hcCh0aGlzLm9wdGlvbnMuc2hlZXRzIHx8IFtdLCAob3B0aW9ucykgPT4ge1xuICAgICAgICAgICAgb3B0aW9ucy5kZWZhdWx0cyA9IHRoaXMub3B0aW9ucztcbiAgICAgICAgICAgIHJldHVybiBuZXcgV29ya3NoZWV0KG9wdGlvbnMsIHRoaXMuX3N0cmluZ3MsIHRoaXMuX3N0eWxlcywgdGhpcy5fYm9yZGVycyk7XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIHRvWklQKCkge1xuICAgICAgICBjb25zdCB6aXAgPSBjcmVhdGVaaXAoKTtcblxuICAgICAgICBjb25zdCBkb2NQcm9wcyA9IHppcC5mb2xkZXIoXCJkb2NQcm9wc1wiKTtcblxuICAgICAgICBkb2NQcm9wcy5maWxlKFwiY29yZS54bWxcIiwgQ09SRSh7XG4gICAgICAgICAgICBjcmVhdG9yOiB0aGlzLm9wdGlvbnMuY3JlYXRvciB8fCBcIktlbmRvIFVJXCIsXG4gICAgICAgICAgICBsYXN0TW9kaWZpZWRCeTogdGhpcy5vcHRpb25zLmNyZWF0b3IgfHwgXCJLZW5kbyBVSVwiLFxuICAgICAgICAgICAgY3JlYXRlZDogdGhpcy5vcHRpb25zLmRhdGUgfHwgbmV3IERhdGUoKS50b0pTT04oKSxcbiAgICAgICAgICAgIG1vZGlmaWVkOiB0aGlzLm9wdGlvbnMuZGF0ZSB8fCBuZXcgRGF0ZSgpLnRvSlNPTigpXG4gICAgICAgIH0pKTtcblxuICAgICAgICBjb25zdCBzaGVldENvdW50ID0gdGhpcy5fc2hlZXRzLmxlbmd0aDtcblxuICAgICAgICBkb2NQcm9wcy5maWxlKFwiYXBwLnhtbFwiLCBBUFAoeyBzaGVldHM6IHRoaXMuX3NoZWV0cyB9KSk7XG5cbiAgICAgICAgY29uc3QgcmVscyA9IHppcC5mb2xkZXIoXCJfcmVsc1wiKTtcbiAgICAgICAgcmVscy5maWxlKFwiLnJlbHNcIiwgUkVMUyk7XG5cbiAgICAgICAgY29uc3QgeGwgPSB6aXAuZm9sZGVyKFwieGxcIik7XG5cbiAgICAgICAgY29uc3QgeGxSZWxzID0geGwuZm9sZGVyKFwiX3JlbHNcIik7XG4gICAgICAgIHhsUmVscy5maWxlKFwid29ya2Jvb2sueG1sLnJlbHNcIiwgV09SS0JPT0tfUkVMUyh7IGNvdW50OiBzaGVldENvdW50IH0pKTtcblxuICAgICAgICBjb25zdCBzaGVldElkcyA9IHt9O1xuXG4gICAgICAgIHhsLmZpbGUoXCJ3b3JrYm9vay54bWxcIiwgV09SS0JPT0soe1xuICAgICAgICAgICAgc2hlZXRzOiB0aGlzLl9zaGVldHMsXG4gICAgICAgICAgICBmaWx0ZXJOYW1lczogbWFwKHRoaXMuX3NoZWV0cywgZnVuY3Rpb24oc2hlZXQsIGluZGV4KSB7XG4gICAgICAgICAgICAgICAgY29uc3Qgb3B0aW9ucyA9IHNoZWV0Lm9wdGlvbnM7XG4gICAgICAgICAgICAgICAgY29uc3Qgc2hlZXROYW1lID0gKG9wdGlvbnMubmFtZSB8fCBvcHRpb25zLnRpdGxlIHx8IFwiU2hlZXRcIiArIChpbmRleCArIDEpKTtcbiAgICAgICAgICAgICAgICBzaGVldElkc1tzaGVldE5hbWUudG9Mb3dlckNhc2UoKV0gPSBpbmRleDtcbiAgICAgICAgICAgICAgICBjb25zdCBmaWx0ZXIgPSBvcHRpb25zLmZpbHRlcjtcbiAgICAgICAgICAgICAgICBpZiAoZmlsdGVyKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChmaWx0ZXIucmVmKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBzcHJlYWRzaGVldCBwcm92aWRlcyBgcmVmYFxuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGEgPSBmaWx0ZXIucmVmLnNwbGl0KFwiOlwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBmcm9tID0gcGFyc2VSZWYoYVswXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgdG8gPSBwYXJzZVJlZihhWzFdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbG9jYWxTaGVldElkOiBpbmRleCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBuYW1lOiBzaGVldE5hbWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZnJvbTogJHJlZihmcm9tLnJvdywgZnJvbS5jb2wpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRvOiAkcmVmKHRvLnJvdywgdG8uY29sKVxuICAgICAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmICh0eXBlb2YgZmlsdGVyLmZyb20gIT09IFwidW5kZWZpbmVkXCIgJiYgdHlwZW9mIGZpbHRlci50byAhPT0gXCJ1bmRlZmluZWRcIikge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gZ3JpZCBkb2VzIHRoaXNcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbG9jYWxTaGVldElkOiBpbmRleCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBuYW1lOiBzaGVldE5hbWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZnJvbTogJHJlZihmaWx0ZXJSb3dJbmRleChvcHRpb25zKSwgZmlsdGVyLmZyb20pLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRvOiAkcmVmKGZpbHRlclJvd0luZGV4KG9wdGlvbnMpLCBmaWx0ZXIudG8pXG4gICAgICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSksXG4gICAgICAgICAgICB1c2VyTmFtZXM6IG1hcCh0aGlzLm9wdGlvbnMubmFtZXMgfHwgW10sIGZ1bmN0aW9uKGRlZikge1xuICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgIG5hbWU6IGRlZi5sb2NhbE5hbWUsXG4gICAgICAgICAgICAgICAgICAgIGxvY2FsU2hlZXRJZDogZGVmLnNoZWV0ID8gc2hlZXRJZHNbZGVmLnNoZWV0LnRvTG93ZXJDYXNlKCldIDogbnVsbCxcbiAgICAgICAgICAgICAgICAgICAgdmFsdWU6IGRlZi52YWx1ZSxcbiAgICAgICAgICAgICAgICAgICAgaGlkZGVuOiBkZWYuaGlkZGVuXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH0pXG4gICAgICAgIH0pKTtcblxuICAgICAgICBjb25zdCB3b3Jrc2hlZXRzID0geGwuZm9sZGVyKFwid29ya3NoZWV0c1wiKTtcblxuICAgICAgICBjb25zdCBzaGVldFJlbHMgPSB3b3Jrc2hlZXRzLmZvbGRlcihcIl9yZWxzXCIpO1xuXG4gICAgICAgIGZvciAobGV0IGlkeCA9IDA7IGlkeCA8IHNoZWV0Q291bnQ7IGlkeCsrKSB7XG4gICAgICAgICAgICBjb25zdCBzaGVldCA9IHRoaXMuX3NoZWV0c1tpZHhdO1xuICAgICAgICAgICAgY29uc3Qgc2hlZXROYW1lID0gYHNoZWV0JHtpZHggKyAxfS54bWxgO1xuICAgICAgICAgICAgY29uc3QgcmVsc1htbCA9IHNoZWV0LnJlbHNUb1hNTCgpO1xuXG4gICAgICAgICAgICBpZiAocmVsc1htbCkge1xuICAgICAgICAgICAgICAgIHNoZWV0UmVscy5maWxlKHNoZWV0TmFtZSArIFwiLnJlbHNcIiwgcmVsc1htbCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHdvcmtzaGVldHMuZmlsZShzaGVldE5hbWUsIHNoZWV0LnRvWE1MKGlkeCkpO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgYm9yZGVycyA9IG1hcCh0aGlzLl9ib3JkZXJzLCBwYXJzZUpTT04pO1xuXG4gICAgICAgIGNvbnN0IHN0eWxlcyA9IG1hcCh0aGlzLl9zdHlsZXMsIHBhcnNlSlNPTik7XG5cbiAgICAgICAgY29uc3QgaGFzRm9udCA9IGZ1bmN0aW9uKHN0eWxlKSB7XG4gICAgICAgICAgICByZXR1cm4gc3R5bGUudW5kZXJsaW5lIHx8IHN0eWxlLmJvbGQgfHwgc3R5bGUuaXRhbGljIHx8IHN0eWxlLmNvbG9yIHx8IHN0eWxlLmZvbnRGYW1pbHkgfHwgc3R5bGUuZm9udFNpemU7XG4gICAgICAgIH07XG5cbiAgICAgICAgY29uc3QgY29udmVydEZvbnRTaXplID0gZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgICAgICAgIGxldCBmb250SW5QeCA9IE51bWJlcih2YWx1ZSk7XG4gICAgICAgICAgICBsZXQgZm9udEluUHQ7XG5cbiAgICAgICAgICAgIGlmIChmb250SW5QeCkge1xuICAgICAgICAgICAgICAgIGZvbnRJblB0ID0gZm9udEluUHggKiAzIC8gNDtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIGZvbnRJblB0O1xuICAgICAgICB9O1xuXG4gICAgICAgIGNvbnN0IGZvbnRzID0gbWFwKHN0eWxlcywgZnVuY3Rpb24oc3R5bGUpIHtcbiAgICAgICAgICAgIGlmIChzdHlsZS5mb250U2l6ZSkge1xuICAgICAgICAgICAgICAgIHN0eWxlLmZvbnRTaXplID0gY29udmVydEZvbnRTaXplKHN0eWxlLmZvbnRTaXplKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKHN0eWxlLmNvbG9yKSB7XG4gICAgICAgICAgICAgICAgc3R5bGUuY29sb3IgPSBjb252ZXJ0Q29sb3Ioc3R5bGUuY29sb3IpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoaGFzRm9udChzdHlsZSkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gc3R5bGU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGNvbnN0IGZvcm1hdHMgPSBtYXAoc3R5bGVzLCBmdW5jdGlvbihzdHlsZSkge1xuICAgICAgICAgICAgaWYgKHN0eWxlLmZvcm1hdCAmJiBkZWZhdWx0Rm9ybWF0c1tzdHlsZS5mb3JtYXRdID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gc3R5bGU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGNvbnN0IGZpbGxzID0gbWFwKHN0eWxlcywgZnVuY3Rpb24oc3R5bGUpIHtcbiAgICAgICAgICAgIGlmIChzdHlsZS5iYWNrZ3JvdW5kKSB7XG4gICAgICAgICAgICAgICAgc3R5bGUuYmFja2dyb3VuZCA9IGNvbnZlcnRDb2xvcihzdHlsZS5iYWNrZ3JvdW5kKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gc3R5bGU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuXG4gICAgICAgIHhsLmZpbGUoXCJzdHlsZXMueG1sXCIsIFNUWUxFUyh7XG4gICAgICAgICAgICBmb250czogZm9udHMsXG4gICAgICAgICAgICBmaWxsczogZmlsbHMsXG4gICAgICAgICAgICBmb3JtYXRzOiBmb3JtYXRzLFxuICAgICAgICAgICAgYm9yZGVyczogYm9yZGVycyxcbiAgICAgICAgICAgIHN0eWxlczogbWFwKHN0eWxlcywgZnVuY3Rpb24oc3R5bGUpIHtcbiAgICAgICAgICAgICAgICBjb25zdCByZXN1bHQgPSB7fTtcblxuICAgICAgICAgICAgICAgIGlmIChoYXNGb250KHN0eWxlKSkge1xuICAgICAgICAgICAgICAgICAgICByZXN1bHQuZm9udElkID0gaW5kZXhPZihzdHlsZSwgZm9udHMpICsgMTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBpZiAoc3R5bGUuYmFja2dyb3VuZCkge1xuICAgICAgICAgICAgICAgICAgICByZXN1bHQuZmlsbElkID0gaW5kZXhPZihzdHlsZSwgZmlsbHMpICsgMjtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICByZXN1bHQudGV4dEFsaWduID0gc3R5bGUudGV4dEFsaWduO1xuICAgICAgICAgICAgICAgIHJlc3VsdC5pbmRlbnQgPSBzdHlsZS5pbmRlbnQ7XG4gICAgICAgICAgICAgICAgcmVzdWx0LnZlcnRpY2FsQWxpZ24gPSBzdHlsZS52ZXJ0aWNhbEFsaWduO1xuICAgICAgICAgICAgICAgIHJlc3VsdC53cmFwID0gc3R5bGUud3JhcDtcbiAgICAgICAgICAgICAgICByZXN1bHQuYm9yZGVySWQgPSBzdHlsZS5ib3JkZXJJZDtcblxuICAgICAgICAgICAgICAgIGlmIChzdHlsZS5mb3JtYXQpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGRlZmF1bHRGb3JtYXRzW3N0eWxlLmZvcm1hdF0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0Lm51bUZtdElkID0gZGVmYXVsdEZvcm1hdHNbc3R5bGUuZm9ybWF0XTtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdC5udW1GbXRJZCA9IDE2NSArIGluZGV4T2Yoc3R5bGUsIGZvcm1hdHMpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgICAgICAgIH0pXG4gICAgICAgIH0pKTtcblxuICAgICAgICB4bC5maWxlKFwic2hhcmVkU3RyaW5ncy54bWxcIiwgU0hBUkVEX1NUUklOR1ModGhpcy5fc3RyaW5ncykpO1xuXG4gICAgICAgIHppcC5maWxlKFwiW0NvbnRlbnRfVHlwZXNdLnhtbFwiLCBDT05URU5UX1RZUEVTKCB7IGNvdW50OiBzaGVldENvdW50IH0pKTtcblxuICAgICAgICByZXR1cm4gemlwO1xuICAgIH1cblxuICAgIHRvRGF0YVVSTCgpIHtcbiAgICAgICAgY29uc3QgemlwID0gdGhpcy50b1pJUCgpO1xuXG4gICAgICAgIHJldHVybiB6aXAuZ2VuZXJhdGVBc3luYyA/IHppcC5nZW5lcmF0ZUFzeW5jKERBVEFfVVJMX09QVElPTlMpLnRoZW4odG9EYXRhVVJJKSA6IHRvRGF0YVVSSSh6aXAuZ2VuZXJhdGUoREFUQV9VUkxfT1BUSU9OUykpO1xuICAgIH1cbn1cblxuZnVuY3Rpb24gYm9yZGVyU3R5bGUod2lkdGgpIHtcbiAgICBsZXQgYWxpYXMgPSBcInRoaW5cIjtcblxuICAgIGlmICh3aWR0aCA9PT0gMikge1xuICAgICAgICBhbGlhcyA9IFwibWVkaXVtXCI7XG4gICAgfSBlbHNlIGlmICh3aWR0aCA9PT0gMykge1xuICAgICAgICBhbGlhcyA9IFwidGhpY2tcIjtcbiAgICB9XG5cbiAgICByZXR1cm4gYWxpYXM7XG59XG5cbmZ1bmN0aW9uIGJvcmRlclNpZGVUZW1wbGF0ZShuYW1lLCBzdHlsZSkge1xuICAgIGxldCByZXN1bHQgPSBcIlwiO1xuXG4gICAgaWYgKHN0eWxlKSB7XG4gICAgICAgIHJlc3VsdCArPSBcIjxcIiArIG5hbWUgKyBcIiBzdHlsZT1cXFwiXCIgKyBib3JkZXJTdHlsZShzdHlsZS5zaXplKSArIFwiXFxcIj5cIjtcbiAgICAgICAgaWYgKHN0eWxlLmNvbG9yKSB7XG4gICAgICAgICAgICByZXN1bHQgKz0gXCI8Y29sb3IgcmdiPVxcXCJcIiArIGNvbnZlcnRDb2xvcihzdHlsZS5jb2xvcikgKyBcIlxcXCIvPlwiO1xuICAgICAgICB9XG4gICAgICAgIHJlc3VsdCArPSBcIjwvXCIgKyBuYW1lICsgXCI+XCI7XG4gICAgfVxuXG4gICAgcmV0dXJuIHJlc3VsdDtcbn1cblxuZnVuY3Rpb24gYm9yZGVyVGVtcGxhdGUoYm9yZGVyKSB7XG4gICAgcmV0dXJuIFwiPGJvcmRlcj5cIiArXG4gICAgICAgYm9yZGVyU2lkZVRlbXBsYXRlKFwibGVmdFwiLCBib3JkZXIubGVmdCkgK1xuICAgICAgIGJvcmRlclNpZGVUZW1wbGF0ZShcInJpZ2h0XCIsIGJvcmRlci5yaWdodCkgK1xuICAgICAgIGJvcmRlclNpZGVUZW1wbGF0ZShcInRvcFwiLCBib3JkZXIudG9wKSArXG4gICAgICAgYm9yZGVyU2lkZVRlbXBsYXRlKFwiYm90dG9tXCIsIGJvcmRlci5ib3R0b20pICtcbiAgIFwiPC9ib3JkZXI+XCI7XG59XG5cbmNvbnN0IEVNUFRZX0NFTEwgPSB7fTtcbmZ1bmN0aW9uIGluZmxhdGUocm93cywgbWVyZ2VkQ2VsbHMpIHtcbiAgICBjb25zdCByb3dEYXRhID0gW107XG4gICAgY29uc3Qgcm93c0J5SW5kZXggPSBbXTtcblxuICAgIGluZGV4Um93cyhyb3dzLCBmdW5jdGlvbihyb3csIGluZGV4KSB7XG4gICAgICAgIGNvbnN0IGRhdGEgPSB7XG4gICAgICAgICAgICBfc291cmNlOiByb3csXG4gICAgICAgICAgICBpbmRleDogaW5kZXgsXG4gICAgICAgICAgICBoZWlnaHQ6IHJvdy5oZWlnaHQsXG4gICAgICAgICAgICBsZXZlbDogcm93LmxldmVsLFxuICAgICAgICAgICAgY2VsbHM6IFtdXG4gICAgICAgIH07XG5cbiAgICAgICAgcm93RGF0YS5wdXNoKGRhdGEpO1xuICAgICAgICByb3dzQnlJbmRleFtpbmRleF0gPSBkYXRhO1xuICAgIH0pO1xuXG4gICAgY29uc3Qgc29ydGVkID0gc29ydEJ5SW5kZXgocm93RGF0YSkuc2xpY2UoMCk7XG4gICAgY29uc3QgY3R4ID0ge1xuICAgICAgICByb3dEYXRhOiByb3dEYXRhLFxuICAgICAgICByb3dzQnlJbmRleDogcm93c0J5SW5kZXgsXG4gICAgICAgIG1lcmdlZENlbGxzOiBtZXJnZWRDZWxsc1xuICAgIH07XG5cbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHNvcnRlZC5sZW5ndGg7IGkrKykge1xuICAgICAgICBmaWxsQ2VsbHMoc29ydGVkW2ldLCBjdHgpO1xuICAgICAgICBkZWxldGUgc29ydGVkW2ldLl9zb3VyY2U7XG4gICAgfVxuXG4gICAgcmV0dXJuIHNvcnRCeUluZGV4KHJvd0RhdGEpO1xufVxuXG5mdW5jdGlvbiBpbmRleFJvd3Mocm93cywgY2FsbGJhY2spIHtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHJvd3MubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgY29uc3Qgcm93ID0gcm93c1tpXTtcbiAgICAgICAgaWYgKCFyb3cpIHtcbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG5cbiAgICAgICAgbGV0IGluZGV4ID0gcm93LmluZGV4O1xuICAgICAgICBpZiAodHlwZW9mIGluZGV4ICE9PSBcIm51bWJlclwiKSB7XG4gICAgICAgICAgICBpbmRleCA9IGk7XG4gICAgICAgIH1cblxuICAgICAgICBjYWxsYmFjayhyb3csIGluZGV4KTtcbiAgICB9XG59XG5cbmZ1bmN0aW9uIHNvcnRCeUluZGV4KGl0ZW1zKSB7XG4gICAgcmV0dXJuIGl0ZW1zLnNvcnQoZnVuY3Rpb24oYSwgYikge1xuICAgICAgICByZXR1cm4gYS5pbmRleCAtIGIuaW5kZXg7XG4gICAgfSk7XG59XG5cbmZ1bmN0aW9uIHB1c2hVbmlxdWUoYXJyYXksIGVsKSB7XG4gICAgaWYgKGFycmF5LmluZGV4T2YoZWwpIDwgMCkge1xuICAgICAgICBhcnJheS5wdXNoKGVsKTtcbiAgICB9XG59XG5cbmZ1bmN0aW9uIGdldFNwYW4obWVyZ2VkQ2VsbHMsIHJlZikge1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbWVyZ2VkQ2VsbHMubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgY29uc3QgcmFuZ2UgPSBtZXJnZWRDZWxsc1tpXTtcbiAgICAgICAgY29uc3QgYSA9IHJhbmdlLnNwbGl0KFwiOlwiKTtcbiAgICAgICAgbGV0IHRvcExlZnQgPSBhWzBdO1xuICAgICAgICBpZiAodG9wTGVmdCA9PT0gcmVmKSB7XG4gICAgICAgICAgICBsZXQgYm90dG9tUmlnaHQgPSBhWzFdO1xuICAgICAgICAgICAgdG9wTGVmdCA9IHBhcnNlUmVmKHRvcExlZnQpO1xuICAgICAgICAgICAgYm90dG9tUmlnaHQgPSBwYXJzZVJlZihib3R0b21SaWdodCk7XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIHJvd1NwYW46IGJvdHRvbVJpZ2h0LnJvdyAtIHRvcExlZnQucm93ICsgMSxcbiAgICAgICAgICAgICAgICBjb2xTcGFuOiBib3R0b21SaWdodC5jb2wgLSB0b3BMZWZ0LmNvbCArIDFcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICB9XG59XG5cbmZ1bmN0aW9uIHBhcnNlUmVmKHJlZikge1xuICAgIGZ1bmN0aW9uIGdldGNvbChzdHIpIHtcbiAgICAgICAgbGV0IHVwcGVyU3RyID0gc3RyLnRvVXBwZXJDYXNlKCk7XG4gICAgICAgIGxldCBjb2wgPSAwO1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHVwcGVyU3RyLmxlbmd0aDsgKytpKSB7XG4gICAgICAgICAgICBjb2wgPSBjb2wgKiAyNiArIHVwcGVyU3RyLmNoYXJDb2RlQXQoaSkgLSA2NDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gY29sIC0gMTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBnZXRyb3coc3RyKSB7XG4gICAgICAgIHJldHVybiBwYXJzZUludChzdHIsIDEwKSAtIDE7XG4gICAgfVxuXG4gICAgY29uc3QgbSA9IC9eKFthLXpdKykoXFxkKykkL2kuZXhlYyhyZWYpO1xuICAgIHJldHVybiB7XG4gICAgICAgIHJvdzogZ2V0cm93KG1bMl0pLFxuICAgICAgICBjb2w6IGdldGNvbChtWzFdKVxuICAgIH07XG59XG5cbmZ1bmN0aW9uIGZpbGxDZWxscyhkYXRhLCBjdHgpIHtcbiAgICBjb25zdCByb3cgPSBkYXRhLl9zb3VyY2U7XG4gICAgY29uc3Qgcm93SW5kZXggPSBkYXRhLmluZGV4O1xuICAgIGNvbnN0IGNlbGxzID0gcm93LmNlbGxzO1xuICAgIGNvbnN0IGNlbGxEYXRhID0gZGF0YS5jZWxscztcblxuICAgIGlmICghY2VsbHMpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgY2VsbHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgY29uc3QgY2VsbCA9IGNlbGxzW2ldIHx8IEVNUFRZX0NFTEw7XG5cbiAgICAgICAgbGV0IHJvd1NwYW4gPSBjZWxsLnJvd1NwYW4gfHwgMTtcbiAgICAgICAgbGV0IGNvbFNwYW4gPSBjZWxsLmNvbFNwYW4gfHwgMTtcblxuICAgICAgICBjb25zdCBjZWxsSW5kZXggPSBpbnNlcnRDZWxsKGNlbGxEYXRhLCBjZWxsKTtcbiAgICAgICAgY29uc3QgdG9wTGVmdFJlZiA9IHJlZihyb3dJbmRleCwgY2VsbEluZGV4KTtcblxuICAgICAgICBpZiAocm93U3BhbiA9PT0gMSAmJiBjb2xTcGFuID09PSAxKSB7XG4gICAgICAgICAgICAvLyBjb3VsZCBzdGlsbCBiZSBtZXJnZWQ6IHRoZSBzcHJlYWRzaGVldCBkb2VzIG5vdCBzZW5kXG4gICAgICAgICAgICAvLyByb3dTcGFuL2NvbFNwYW4sIGJ1dCBtZXJnZWRDZWxscyBpcyBhbHJlYWR5IHBvcHVsYXRlZC5cbiAgICAgICAgICAgIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS90ZWxlcmlrL2tlbmRvLXVpLWNvcmUvaXNzdWVzLzI0MDFcbiAgICAgICAgICAgIGNvbnN0IHRtcCA9IGdldFNwYW4oY3R4Lm1lcmdlZENlbGxzLCB0b3BMZWZ0UmVmKTtcbiAgICAgICAgICAgIGlmICh0bXApIHtcbiAgICAgICAgICAgICAgICBjb2xTcGFuID0gdG1wLmNvbFNwYW47XG4gICAgICAgICAgICAgICAgcm93U3BhbiA9IHRtcC5yb3dTcGFuO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgc3BhbkNlbGwoY2VsbCwgY2VsbERhdGEsIGNlbGxJbmRleCwgY29sU3Bhbik7XG5cbiAgICAgICAgaWYgKHJvd1NwYW4gPiAxIHx8IGNvbFNwYW4gPiAxKSB7XG4gICAgICAgICAgICBwdXNoVW5pcXVlKGN0eC5tZXJnZWRDZWxscyxcbiAgICAgICAgICAgICAgICAgICAgICAgdG9wTGVmdFJlZiArIFwiOlwiICsgcmVmKHJvd0luZGV4ICsgcm93U3BhbiAtIDEsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2VsbEluZGV4ICsgY29sU3BhbiAtIDEpKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChyb3dTcGFuID4gMSkge1xuICAgICAgICAgICAgZm9yIChsZXQgcmkgPSByb3dJbmRleCArIDE7IHJpIDwgcm93SW5kZXggKyByb3dTcGFuOyByaSsrKSB7XG4gICAgICAgICAgICAgICAgbGV0IG5leHRSb3cgPSBjdHgucm93c0J5SW5kZXhbcmldO1xuICAgICAgICAgICAgICAgIGlmICghbmV4dFJvdykge1xuICAgICAgICAgICAgICAgICAgICBuZXh0Um93ID0gY3R4LnJvd3NCeUluZGV4W3JpXSA9IHsgaW5kZXg6IHJpLCBjZWxsczogW10gfTtcbiAgICAgICAgICAgICAgICAgICAgY3R4LnJvd0RhdGEucHVzaChuZXh0Um93KTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBzcGFuQ2VsbChjZWxsLCBuZXh0Um93LmNlbGxzLCBjZWxsSW5kZXggLSAxLCBjb2xTcGFuICsgMSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG59XG5cbmZ1bmN0aW9uIGluc2VydENlbGwoZGF0YSwgY2VsbCkge1xuICAgIGxldCBpbmRleDtcblxuICAgIGlmICh0eXBlb2YgY2VsbC5pbmRleCA9PT0gXCJudW1iZXJcIikge1xuICAgICAgICBpbmRleCA9IGNlbGwuaW5kZXg7XG4gICAgICAgIGluc2VydENlbGxBdChkYXRhLCBjZWxsLCBjZWxsLmluZGV4KTtcbiAgICB9IGVsc2Uge1xuICAgICAgICBpbmRleCA9IGFwcGVuZENlbGwoZGF0YSwgY2VsbCk7XG4gICAgfVxuXG4gICAgcmV0dXJuIGluZGV4O1xufVxuXG5mdW5jdGlvbiBpbnNlcnRDZWxsQXQoZGF0YSwgY2VsbCwgaW5kZXgpIHtcbiAgICBkYXRhW2luZGV4XSA9IGNlbGw7XG59XG5cbmZ1bmN0aW9uIGFwcGVuZENlbGwoZGF0YSwgY2VsbCkge1xuICAgIGxldCBpbmRleCA9IGRhdGEubGVuZ3RoO1xuXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBkYXRhLmxlbmd0aCArIDE7IGkrKykge1xuICAgICAgICBpZiAoIWRhdGFbaV0pIHtcbiAgICAgICAgICAgIGRhdGFbaV0gPSBjZWxsO1xuICAgICAgICAgICAgaW5kZXggPSBpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gaW5kZXg7XG59XG5cbmZ1bmN0aW9uIHNwYW5DZWxsKGNlbGwsIHJvdywgc3RhcnRJbmRleCwgY29sU3Bhbikge1xuICAgIGZvciAobGV0IGkgPSAxOyBpIDwgY29sU3BhbjsgaSsrKSB7XG4gICAgICAgIGNvbnN0IHRtcCA9IHtcbiAgICAgICAgICAgIGJvcmRlclRvcCAgICA6IGNlbGwuYm9yZGVyVG9wLFxuICAgICAgICAgICAgYm9yZGVyUmlnaHQgIDogY2VsbC5ib3JkZXJSaWdodCxcbiAgICAgICAgICAgIGJvcmRlckJvdHRvbSA6IGNlbGwuYm9yZGVyQm90dG9tLFxuICAgICAgICAgICAgYm9yZGVyTGVmdCAgIDogY2VsbC5ib3JkZXJMZWZ0XG4gICAgICAgIH07XG4gICAgICAgIGluc2VydENlbGxBdChyb3csIHRtcCwgc3RhcnRJbmRleCArIGkpO1xuICAgIH1cbn1cblxuY29uc3QgU1BSRUFEU0hFRVRfRklMVEVSUyA9ICh7IHJlZiwgY29sdW1ucywgZ2VuZXJhdG9ycyB9KSA9PiBgXG48YXV0b0ZpbHRlciByZWY9XCIke3JlZn1cIj5cbiAgJHtmb3JlYWNoKGNvbHVtbnMsIChjb2wpID0+IGBcbiAgICA8ZmlsdGVyQ29sdW1uIGNvbElkPVwiJHtjb2wuaW5kZXh9XCI+XG4gICAgICAke2dlbmVyYXRvcnNbY29sLmZpbHRlcl0oY29sKX1cbiAgICA8L2ZpbHRlckNvbHVtbj5cbiAgYCl9XG48L2F1dG9GaWx0ZXI+YDtcblxuY29uc3QgU1BSRUFEU0hFRVRfQ1VTVE9NX0ZJTFRFUiA9ICh7IGxvZ2ljLCBjcml0ZXJpYSB9KSA9PiBgXG48Y3VzdG9tRmlsdGVycyAke2xvZ2ljID09PSAnYW5kJyA/ICdhbmQ9XCIxXCInIDogJyd9PlxuJHtmb3JlYWNoKGNyaXRlcmlhLCAoZikgPT4ge1xuICAgIGxldCBvcCA9IHNwcmVhZHNoZWV0RmlsdGVycy5jdXN0b21PcGVyYXRvcihmKTtcbiAgICBsZXQgdmFsID0gc3ByZWFkc2hlZXRGaWx0ZXJzLmN1c3RvbVZhbHVlKGYpO1xuICAgIHJldHVybiBgPGN1c3RvbUZpbHRlciAke29wID8gYG9wZXJhdG9yPVwiJHtvcH1cImAgOiAnJ30gdmFsPVwiJHt2YWx9XCIvPmA7XG59KX1cbjwvY3VzdG9tRmlsdGVycz5gO1xuXG5jb25zdCBTUFJFQURTSEVFVF9EWU5BTUlDX0ZJTFRFUiA9ICh7IHR5cGUgfSkgPT5cbmA8ZHluYW1pY0ZpbHRlciB0eXBlPVwiJHtzcHJlYWRzaGVldEZpbHRlcnMuZHluYW1pY0ZpbHRlclR5cGUodHlwZSl9XCIgLz5gO1xuXG5jb25zdCBTUFJFQURTSEVFVF9UT1BfRklMVEVSID0gKHsgdHlwZSwgdmFsdWUgfSkgPT5cbmA8dG9wMTAgcGVyY2VudD1cIiR7L3BlcmNlbnQkL2kudGVzdCh0eXBlKSA/IDEgOiAwfVwiXG4gICAgICAgdG9wPVwiJHsvXnRvcC9pLnRlc3QodHlwZSkgPyAxIDogMH1cIlxuICAgICAgIHZhbD1cIiR7dmFsdWV9XCIgLz5gO1xuXG5jb25zdCBTUFJFQURTSEVFVF9WQUxVRV9GSUxURVIgPSAoeyBibGFua3MsIHZhbHVlcyB9KSA9PlxuICBgPGZpbHRlcnMgJHtibGFua3MgPyAnYmxhbms9XCIxXCInIDogJyd9PlxuICAgICR7Zm9yZWFjaCh2YWx1ZXMsICh2YWx1ZSkgPT4gYFxuICAgICAgPGZpbHRlciB2YWw9XCIke3ZhbHVlfVwiIC8+YCl9XG4gIDwvZmlsdGVycz5gO1xuXG5mdW5jdGlvbiBzcHJlYWRzaGVldEZpbHRlcnMoZmlsdGVyKSB7XG4gICAgcmV0dXJuIFNQUkVBRFNIRUVUX0ZJTFRFUlMoe1xuICAgICAgICByZWY6IGZpbHRlci5yZWYsXG4gICAgICAgIGNvbHVtbnM6IGZpbHRlci5jb2x1bW5zLFxuICAgICAgICBnZW5lcmF0b3JzOiB7XG4gICAgICAgICAgICBjdXN0b20gIDogU1BSRUFEU0hFRVRfQ1VTVE9NX0ZJTFRFUixcbiAgICAgICAgICAgIGR5bmFtaWMgOiBTUFJFQURTSEVFVF9EWU5BTUlDX0ZJTFRFUixcbiAgICAgICAgICAgIHRvcCAgICAgOiBTUFJFQURTSEVFVF9UT1BfRklMVEVSLFxuICAgICAgICAgICAgdmFsdWUgICA6IFNQUkVBRFNIRUVUX1ZBTFVFX0ZJTFRFUlxuICAgICAgICB9XG4gICAgfSk7XG59XG5cbnNwcmVhZHNoZWV0RmlsdGVycy5jdXN0b21PcGVyYXRvciA9IGZ1bmN0aW9uKGYpIHtcbiAgICByZXR1cm4ge1xuICAgICAgICBlcSAgOiBcImVxdWFsXCIsXG4gICAgICAgIGd0ICA6IFwiZ3JlYXRlclRoYW5cIixcbiAgICAgICAgZ3RlIDogXCJncmVhdGVyVGhhbk9yRXF1YWxcIixcbiAgICAgICAgbHQgIDogXCJsZXNzVGhhblwiLFxuICAgICAgICBsdGUgOiBcImxlc3NUaGFuT3JFcXVhbFwiLFxuICAgICAgICBuZSAgOiBcIm5vdEVxdWFsXCIsXG5cbiAgICAgICAgLy8gVGhlc2UgYXJlIG5vdCBpbiB0aGUgc3BlYywgYnV0IHNlZW1zIHRvIGJlIGhvdyBFeGNlbCBkb2VzXG4gICAgICAgIC8vIGl0IChzZWUgY3VzdG9tVmFsdWUgYmVsb3cpLiAgRm9yIHRoZSBub24tbmVnYXRlZCB2ZXJzaW9ucyxcbiAgICAgICAgLy8gdGhlIG9wZXJhdG9yIGF0dHJpYnV0ZSBpcyBtaXNzaW5nIGNvbXBsZXRlbHkuXG4gICAgICAgIGRvZXNub3RzdGFydHdpdGg6IFwibm90RXF1YWxcIixcbiAgICAgICAgZG9lc25vdGVuZHdpdGg6IFwibm90RXF1YWxcIixcbiAgICAgICAgZG9lc25vdGNvbnRhaW46IFwibm90RXF1YWxcIixcbiAgICAgICAgZG9lc25vdG1hdGNoOiBcIm5vdEVxdWFsXCJcbiAgICB9W2Yub3BlcmF0b3IudG9Mb3dlckNhc2UoKV07XG59O1xuXG5zcHJlYWRzaGVldEZpbHRlcnMuY3VzdG9tVmFsdWUgPSBmdW5jdGlvbihmKSB7XG4gICAgZnVuY3Rpb24gZXNjKHN0cikge1xuICAgICAgICByZXR1cm4gc3RyLnJlcGxhY2UoLyhbKj9dKS9nLCBcIn4kMVwiKTtcbiAgICB9XG5cbiAgICBzd2l0Y2ggKGYub3BlcmF0b3IudG9Mb3dlckNhc2UoKSkge1xuICAgICAgICBjYXNlIFwic3RhcnRzd2l0aFwiOlxuICAgICAgICBjYXNlIFwiZG9lc25vdHN0YXJ0d2l0aFwiOlxuICAgICAgICAgICAgcmV0dXJuIGVzYyhmLnZhbHVlKSArIFwiKlwiO1xuXG4gICAgICAgIGNhc2UgXCJlbmRzd2l0aFwiOlxuICAgICAgICBjYXNlIFwiZG9lc25vdGVuZHdpdGhcIjpcbiAgICAgICAgICAgIHJldHVybiBcIipcIiArIGVzYyhmLnZhbHVlKTtcblxuICAgICAgICBjYXNlIFwiY29udGFpbnNcIjpcbiAgICAgICAgY2FzZSBcImRvZXNub3Rjb250YWluXCI6XG4gICAgICAgICAgICByZXR1cm4gXCIqXCIgKyBlc2MoZi52YWx1ZSkgKyBcIipcIjtcblxuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgcmV0dXJuIGYudmFsdWU7XG4gICAgfVxufTtcblxuc3ByZWFkc2hlZXRGaWx0ZXJzLmR5bmFtaWNGaWx0ZXJUeXBlID0gZnVuY3Rpb24odHlwZSkge1xuICAgIHJldHVybiB7XG4gICAgICAgIHF1YXJ0ZXIxICA6IFwiUTFcIixcbiAgICAgICAgcXVhcnRlcjIgIDogXCJRMlwiLFxuICAgICAgICBxdWFydGVyMyAgOiBcIlEzXCIsXG4gICAgICAgIHF1YXJ0ZXI0ICA6IFwiUTRcIixcbiAgICAgICAgamFudWFyeSAgIDogXCJNMVwiLFxuICAgICAgICBmZWJydWFyeSAgOiBcIk0yXCIsXG4gICAgICAgIG1hcmNoICAgICA6IFwiTTNcIixcbiAgICAgICAgYXByaWwgICAgIDogXCJNNFwiLFxuICAgICAgICBtYXkgICAgICAgOiBcIk01XCIsXG4gICAgICAgIGp1bmUgICAgICA6IFwiTTZcIixcbiAgICAgICAganVseSAgICAgIDogXCJNN1wiLFxuICAgICAgICBhdWd1c3QgICAgOiBcIk04XCIsXG4gICAgICAgIHNlcHRlbWJlciA6IFwiTTlcIixcbiAgICAgICAgb2N0b2JlciAgIDogXCJNMTBcIixcbiAgICAgICAgbm92ZW1iZXIgIDogXCJNMTFcIixcbiAgICAgICAgZGVjZW1iZXIgIDogXCJNMTJcIlxuICAgIH1bdHlwZS50b0xvd2VyQ2FzZSgpXSB8fCB0eXBlO1xufTtcblxuZXhwb3J0IHtcbiAgICBXb3JrYm9vayxcbiAgICBXb3Jrc2hlZXRcbn07XG4iXSwibmFtZXMiOlsibGV0IiwiY29uc3QiLCJ0aGlzIiwiY3VycmVudCJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7QUFBQUEsSUFBSSxPQUFPLEdBQUc7SUFDVixPQUFPLEVBQUUsU0FBUyxRQUFRLEVBQUU7UUFDeEIsT0FBTyxRQUFRLENBQUM7S0FDbkI7Q0FDSixDQUFDOztBQUVGLElBQU0sZUFBZSxHQUFDOztBQUFBLGdCQUNsQixRQUFlLHNCQUFDLGtCQUFrQixFQUFFO0lBQ3BDLE9BQVcsR0FBRyxrQkFBa0IsQ0FBQztDQUNoQyxDQUFBOztBQUVMLGdCQUFJLE9BQWMscUJBQUMsUUFBUSxFQUFFO0lBQ3pCLE9BQVcsT0FBTyxDQUFDLE9BQU8sQ0FBQyxRQUFRLENBQUMsQ0FBQztDQUNwQyxDQUFBLEFBR0w7O0FDaEJBQyxJQUFNLFdBQVcsR0FBRyxxREFBcUQsQ0FBQztBQUMxRUEsSUFBTSxXQUFXLEdBQUcsRUFBRSxDQUFDO0FBQ3ZCQSxJQUFNLFNBQVMsR0FBRyxXQUFXLENBQUM7O0FBRTlCLFdBQVcsQ0FBQyxTQUFTLENBQUMsR0FBRyxTQUFTLEdBQUcsRUFBRTtJQUNuQyxPQUFPLEdBQUcsQ0FBQztDQUNkLENBQUM7O0FBRUYsQUFBZSxTQUFTLE1BQU0sQ0FBQyxLQUFLLEVBQUU7SUFDbEMsSUFBSSxXQUFXLENBQUMsS0FBSyxDQUFDLEVBQUU7UUFDcEIsT0FBTyxXQUFXLENBQUMsS0FBSyxDQUFDLENBQUM7S0FDN0I7O0lBRURBLElBQU0sTUFBTSxHQUFHLEVBQUUsQ0FBQztJQUNsQixLQUFLLENBQUMsT0FBTyxDQUFDLFdBQVcsRUFBRSxTQUFTLEtBQUssRUFBRSxLQUFLLEVBQUUsYUFBYSxFQUFFLEtBQUssRUFBRTtRQUNwRSxNQUFNLENBQUMsSUFBSSxDQUFDLE9BQU8sS0FBSyxLQUFLLFNBQVMsR0FBRyxLQUFLLEdBQUcsQ0FBQyxhQUFhLElBQUksS0FBSyxDQUFDLENBQUMsQ0FBQztLQUM5RSxDQUFDLENBQUM7O0lBRUgsV0FBVyxDQUFD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